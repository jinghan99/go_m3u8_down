(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();function Bd(n,t){const i=Object.create(null),a=n.split(",");for(let r=0;r<a.length;r++)i[a[r]]=!0;return t?r=>!!i[r.toLowerCase()]:r=>!!i[r]}const Vx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$x=Bd(Vx);function Ev(n){return!!n||n===""}function Ud(n){if(Ie(n)){const t={};for(let i=0;i<n.length;i++){const a=n[i],r=Tt(a)?zx(a):Ud(a);if(r)for(const s in r)t[s]=r[s]}return t}else{if(Tt(n))return n;if(bt(n))return n}}const qx=/;(?![^(]*\))/g,Wx=/:(.+)/;function zx(n){const t={};return n.split(qx).forEach(i=>{if(i){const a=i.split(Wx);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Xi(n){let t="";if(Tt(n))t=n;else if(Ie(n))for(let i=0;i<n.length;i++){const a=Xi(n[i]);a&&(t+=a+" ")}else if(bt(n))for(const i in n)n[i]&&(t+=i+" ");return t.trim()}const Ge={},Yi=[],Dr=()=>{},Gx=()=>!1,Kx=/^on[^a-z]/,Uu=n=>Kx.test(n),jd=n=>n.startsWith("onUpdate:"),Ot=Object.assign,Hd=(n,t)=>{const i=n.indexOf(t);i>-1&&n.splice(i,1)},Xx=Object.prototype.hasOwnProperty,Fe=(n,t)=>Xx.call(n,t),Ie=Array.isArray,ns=n=>ju(n)==="[object Map]",Yx=n=>ju(n)==="[object Set]",De=n=>typeof n=="function",Tt=n=>typeof n=="string",Vd=n=>typeof n=="symbol",bt=n=>n!==null&&typeof n=="object",Cv=n=>bt(n)&&De(n.then)&&De(n.catch),Qx=Object.prototype.toString,ju=n=>Qx.call(n),Jx=n=>ju(n).slice(8,-1),Zx=n=>ju(n)==="[object Object]",$d=n=>Tt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,$o=Bd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hu=n=>{const t=Object.create(null);return i=>t[i]||(t[i]=n(i))},eS=/-(\w)/g,Qr=Hu(n=>n.replace(eS,(t,i)=>i?i.toUpperCase():"")),tS=/\B([A-Z])/g,Ti=Hu(n=>n.replace(tS,"-$1").toLowerCase()),Vu=Hu(n=>n.charAt(0).toUpperCase()+n.slice(1)),jl=Hu(n=>n?`on${Vu(n)}`:""),gs=(n,t)=>!Object.is(n,t),Hl=(n,t)=>{for(let i=0;i<n.length;i++)n[i](t)},ru=(n,t,i)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value:i})},wv=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let mp;const rS=()=>mp||(mp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let $r;class nS{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&$r&&(this.parent=$r,this.index=($r.scopes||($r.scopes=[])).push(this)-1)}run(t){if(this.active){const i=$r;try{return $r=this,t()}finally{$r=i}}}on(){$r=this}off(){$r=this.parent}stop(t){if(this.active){let i,a;for(i=0,a=this.effects.length;i<a;i++)this.effects[i].stop();for(i=0,a=this.cleanups.length;i<a;i++)this.cleanups[i]();if(this.scopes)for(i=0,a=this.scopes.length;i<a;i++)this.scopes[i].stop(!0);if(this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function iS(n,t=$r){t&&t.active&&t.effects.push(n)}const qd=n=>{const t=new Set(n);return t.w=0,t.n=0,t},Pv=n=>(n.w&Bn)>0,Av=n=>(n.n&Bn)>0,aS=({deps:n})=>{if(n.length)for(let t=0;t<n.length;t++)n[t].w|=Bn},sS=n=>{const{deps:t}=n;if(t.length){let i=0;for(let a=0;a<t.length;a++){const r=t[a];Pv(r)&&!Av(r)?r.delete(n):t[i++]=r,r.w&=~Bn,r.n&=~Bn}t.length=i}},Uc=new WeakMap;let Xa=0,Bn=1;const jc=30;let Pr;const fi=Symbol(""),Hc=Symbol("");class Wd{constructor(t,i=null,a){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,iS(this,a)}run(){if(!this.active)return this.fn();let t=Pr,i=Mn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Pr,Pr=this,Mn=!0,Bn=1<<++Xa,Xa<=jc?aS(this):gp(this),this.fn()}finally{Xa<=jc&&sS(this),Bn=1<<--Xa,Pr=this.parent,Mn=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pr===this?this.deferStop=!0:this.active&&(gp(this),this.onStop&&this.onStop(),this.active=!1)}}function gp(n){const{deps:t}=n;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(n);t.length=0}}let Mn=!0;const kv=[];function va(){kv.push(Mn),Mn=!1}function ya(){const n=kv.pop();Mn=n===void 0?!0:n}function hr(n,t,i){if(Mn&&Pr){let a=Uc.get(n);a||Uc.set(n,a=new Map);let r=a.get(i);r||a.set(i,r=qd()),Iv(r)}}function Iv(n,t){let i=!1;Xa<=jc?Av(n)||(n.n|=Bn,i=!Pv(n)):i=!n.has(Pr),i&&(n.add(Pr),Pr.deps.push(n))}function gn(n,t,i,a,r,s){const o=Uc.get(n);if(!o)return;let u=[];if(t==="clear")u=[...o.values()];else if(i==="length"&&Ie(n))o.forEach((l,c)=>{(c==="length"||c>=a)&&u.push(l)});else switch(i!==void 0&&u.push(o.get(i)),t){case"add":Ie(n)?$d(i)&&u.push(o.get("length")):(u.push(o.get(fi)),ns(n)&&u.push(o.get(Hc)));break;case"delete":Ie(n)||(u.push(o.get(fi)),ns(n)&&u.push(o.get(Hc)));break;case"set":ns(n)&&u.push(o.get(fi));break}if(u.length===1)u[0]&&Vc(u[0]);else{const l=[];for(const c of u)c&&l.push(...c);Vc(qd(l))}}function Vc(n,t){const i=Ie(n)?n:[...n];for(const a of i)a.computed&&vp(a);for(const a of i)a.computed||vp(a)}function vp(n,t){(n!==Pr||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const oS=Bd("__proto__,__v_isRef,__isVue"),Ov=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Vd)),uS=zd(),lS=zd(!1,!0),cS=zd(!0),yp=dS();function dS(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...i){const a=Ue(this);for(let s=0,o=this.length;s<o;s++)hr(a,"get",s+"");const r=a[t](...i);return r===-1||r===!1?a[t](...i.map(Ue)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...i){va();const a=Ue(this)[t].apply(this,i);return ya(),a}}),n}function zd(n=!1,t=!1){return function(a,r,s){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&s===(n?t?PS:Fv:t?Mv:Rv).get(a))return a;const o=Ie(a);if(!n&&o&&Fe(yp,r))return Reflect.get(yp,r,s);const u=Reflect.get(a,r,s);return(Vd(r)?Ov.has(r):oS(r))||(n||hr(a,"get",r),t)?u:Pt(u)?o&&$d(r)?u:u.value:bt(u)?n?Xd(u):Nr(u):u}}const fS=Dv(),hS=Dv(!0);function Dv(n=!1){return function(i,a,r,s){let o=i[a];if(vs(o)&&Pt(o)&&!Pt(r))return!1;if(!n&&!vs(r)&&($c(r)||(r=Ue(r),o=Ue(o)),!Ie(i)&&Pt(o)&&!Pt(r)))return o.value=r,!0;const u=Ie(i)&&$d(a)?Number(a)<i.length:Fe(i,a),l=Reflect.set(i,a,r,s);return i===Ue(s)&&(u?gs(r,o)&&gn(i,"set",a,r):gn(i,"add",a,r)),l}}function pS(n,t){const i=Fe(n,t);n[t];const a=Reflect.deleteProperty(n,t);return a&&i&&gn(n,"delete",t,void 0),a}function mS(n,t){const i=Reflect.has(n,t);return(!Vd(t)||!Ov.has(t))&&hr(n,"has",t),i}function gS(n){return hr(n,"iterate",Ie(n)?"length":fi),Reflect.ownKeys(n)}const Lv={get:uS,set:fS,deleteProperty:pS,has:mS,ownKeys:gS},vS={get:cS,set(n,t){return!0},deleteProperty(n,t){return!0}},yS=Ot({},Lv,{get:lS,set:hS}),Gd=n=>n,$u=n=>Reflect.getPrototypeOf(n);function xo(n,t,i=!1,a=!1){n=n.__v_raw;const r=Ue(n),s=Ue(t);i||(t!==s&&hr(r,"get",t),hr(r,"get",s));const{has:o}=$u(r),u=a?Gd:i?Qd:ys;if(o.call(r,t))return u(n.get(t));if(o.call(r,s))return u(n.get(s));n!==r&&n.get(t)}function So(n,t=!1){const i=this.__v_raw,a=Ue(i),r=Ue(n);return t||(n!==r&&hr(a,"has",n),hr(a,"has",r)),n===r?i.has(n):i.has(n)||i.has(r)}function Eo(n,t=!1){return n=n.__v_raw,!t&&hr(Ue(n),"iterate",fi),Reflect.get(n,"size",n)}function _p(n){n=Ue(n);const t=Ue(this);return $u(t).has.call(t,n)||(t.add(n),gn(t,"add",n,n)),this}function Tp(n,t){t=Ue(t);const i=Ue(this),{has:a,get:r}=$u(i);let s=a.call(i,n);s||(n=Ue(n),s=a.call(i,n));const o=r.call(i,n);return i.set(n,t),s?gs(t,o)&&gn(i,"set",n,t):gn(i,"add",n,t),this}function bp(n){const t=Ue(this),{has:i,get:a}=$u(t);let r=i.call(t,n);r||(n=Ue(n),r=i.call(t,n)),a&&a.call(t,n);const s=t.delete(n);return r&&gn(t,"delete",n,void 0),s}function xp(){const n=Ue(this),t=n.size!==0,i=n.clear();return t&&gn(n,"clear",void 0,void 0),i}function Co(n,t){return function(a,r){const s=this,o=s.__v_raw,u=Ue(o),l=t?Gd:n?Qd:ys;return!n&&hr(u,"iterate",fi),o.forEach((c,d)=>a.call(r,l(c),l(d),s))}}function wo(n,t,i){return function(...a){const r=this.__v_raw,s=Ue(r),o=ns(s),u=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=r[n](...a),d=i?Gd:t?Qd:ys;return!t&&hr(s,"iterate",l?Hc:fi),{next(){const{value:p,done:f}=c.next();return f?{value:p,done:f}:{value:u?[d(p[0]),d(p[1])]:d(p),done:f}},[Symbol.iterator](){return this}}}}function wn(n){return function(...t){return n==="delete"?!1:this}}function _S(){const n={get(s){return xo(this,s)},get size(){return Eo(this)},has:So,add:_p,set:Tp,delete:bp,clear:xp,forEach:Co(!1,!1)},t={get(s){return xo(this,s,!1,!0)},get size(){return Eo(this)},has:So,add:_p,set:Tp,delete:bp,clear:xp,forEach:Co(!1,!0)},i={get(s){return xo(this,s,!0)},get size(){return Eo(this,!0)},has(s){return So.call(this,s,!0)},add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear"),forEach:Co(!0,!1)},a={get(s){return xo(this,s,!0,!0)},get size(){return Eo(this,!0)},has(s){return So.call(this,s,!0)},add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear"),forEach:Co(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=wo(s,!1,!1),i[s]=wo(s,!0,!1),t[s]=wo(s,!1,!0),a[s]=wo(s,!0,!0)}),[n,i,t,a]}const[TS,bS,xS,SS]=_S();function Kd(n,t){const i=t?n?SS:xS:n?bS:TS;return(a,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?a:Reflect.get(Fe(i,r)&&r in a?i:a,r,s)}const ES={get:Kd(!1,!1)},CS={get:Kd(!1,!0)},wS={get:Kd(!0,!1)},Rv=new WeakMap,Mv=new WeakMap,Fv=new WeakMap,PS=new WeakMap;function AS(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kS(n){return n.__v_skip||!Object.isExtensible(n)?0:AS(Jx(n))}function Nr(n){return vs(n)?n:Yd(n,!1,Lv,ES,Rv)}function IS(n){return Yd(n,!1,yS,CS,Mv)}function Xd(n){return Yd(n,!0,vS,wS,Fv)}function Yd(n,t,i,a,r){if(!bt(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const s=r.get(n);if(s)return s;const o=kS(n);if(o===0)return n;const u=new Proxy(n,o===2?a:i);return r.set(n,u),u}function Qi(n){return vs(n)?Qi(n.__v_raw):!!(n&&n.__v_isReactive)}function vs(n){return!!(n&&n.__v_isReadonly)}function $c(n){return!!(n&&n.__v_isShallow)}function Nv(n){return Qi(n)||vs(n)}function Ue(n){const t=n&&n.__v_raw;return t?Ue(t):n}function Bv(n){return ru(n,"__v_skip",!0),n}const ys=n=>bt(n)?Nr(n):n,Qd=n=>bt(n)?Xd(n):n;function Uv(n){Mn&&Pr&&(n=Ue(n),Iv(n.dep||(n.dep=qd())))}function jv(n,t){n=Ue(n),n.dep&&Vc(n.dep)}function Pt(n){return!!(n&&n.__v_isRef===!0)}function Ke(n){return Hv(n,!1)}function qo(n){return Hv(n,!0)}function Hv(n,t){return Pt(n)?n:new OS(n,t)}class OS{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:Ue(t),this._value=i?t:ys(t)}get value(){return Uv(this),this._value}set value(t){t=this.__v_isShallow?t:Ue(t),gs(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:ys(t),jv(this))}}function cn(n){return Pt(n)?n.value:n}const DS={get:(n,t,i)=>cn(Reflect.get(n,t,i)),set:(n,t,i,a)=>{const r=n[t];return Pt(r)&&!Pt(i)?(r.value=i,!0):Reflect.set(n,t,i,a)}};function Vv(n){return Qi(n)?n:new Proxy(n,DS)}class LS{constructor(t,i,a,r){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Wd(t,()=>{this._dirty||(this._dirty=!0,jv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=a}get value(){const t=Ue(this);return Uv(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function RS(n,t,i=!1){let a,r;const s=De(n);return s?(a=n,r=Dr):(a=n.get,r=n.set),new LS(a,r,s||!r,i)}function Fn(n,t,i,a){let r;try{r=a?n(...a):n()}catch(s){qu(s,t,i)}return r}function _r(n,t,i,a){if(De(n)){const s=Fn(n,t,i,a);return s&&Cv(s)&&s.catch(o=>{qu(o,t,i)}),s}const r=[];for(let s=0;s<n.length;s++)r.push(_r(n[s],t,i,a));return r}function qu(n,t,i,a=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,u=i;for(;s;){const c=s.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](n,o,u)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Fn(l,null,10,[n,o,u]);return}}MS(n,i,r,a)}function MS(n,t,i,a=!0){console.error(n)}let nu=!1,qc=!1;const dr=[];let on=0;const is=[];let Ya=null,Vi=0;const as=[];let On=null,$i=0;const $v=Promise.resolve();let Jd=null,Wc=null;function kr(n){const t=Jd||$v;return n?t.then(this?n.bind(this):n):t}function FS(n){let t=on+1,i=dr.length;for(;t<i;){const a=t+i>>>1;_s(dr[a])<n?t=a+1:i=a}return t}function qv(n){(!dr.length||!dr.includes(n,nu&&n.allowRecurse?on+1:on))&&n!==Wc&&(n.id==null?dr.push(n):dr.splice(FS(n.id),0,n),Wv())}function Wv(){!nu&&!qc&&(qc=!0,Jd=$v.then(Kv))}function NS(n){const t=dr.indexOf(n);t>on&&dr.splice(t,1)}function zv(n,t,i,a){Ie(n)?i.push(...n):(!t||!t.includes(n,n.allowRecurse?a+1:a))&&i.push(n),Wv()}function BS(n){zv(n,Ya,is,Vi)}function US(n){zv(n,On,as,$i)}function Wu(n,t=null){if(is.length){for(Wc=t,Ya=[...new Set(is)],is.length=0,Vi=0;Vi<Ya.length;Vi++)Ya[Vi]();Ya=null,Vi=0,Wc=null,Wu(n,t)}}function Gv(n){if(Wu(),as.length){const t=[...new Set(as)];if(as.length=0,On){On.push(...t);return}for(On=t,On.sort((i,a)=>_s(i)-_s(a)),$i=0;$i<On.length;$i++)On[$i]();On=null,$i=0}}const _s=n=>n.id==null?1/0:n.id;function Kv(n){qc=!1,nu=!0,Wu(n),dr.sort((i,a)=>_s(i)-_s(a));const t=Dr;try{for(on=0;on<dr.length;on++){const i=dr[on];i&&i.active!==!1&&Fn(i,null,14)}}finally{on=0,dr.length=0,Gv(),nu=!1,Jd=null,(dr.length||is.length||as.length)&&Kv(n)}}function jS(n,t,...i){if(n.isUnmounted)return;const a=n.vnode.props||Ge;let r=i;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in a){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:p,trim:f}=a[d]||Ge;f&&(r=i.map(y=>y.trim())),p&&(r=i.map(wv))}let u,l=a[u=jl(t)]||a[u=jl(Qr(t))];!l&&s&&(l=a[u=jl(Ti(t))]),l&&_r(l,n,6,r);const c=a[u+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[u])return;n.emitted[u]=!0,_r(c,n,6,r)}}function Xv(n,t,i=!1){const a=t.emitsCache,r=a.get(n);if(r!==void 0)return r;const s=n.emits;let o={},u=!1;if(!De(n)){const l=c=>{const d=Xv(c,t,!0);d&&(u=!0,Ot(o,d))};!i&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!s&&!u?(a.set(n,null),null):(Ie(s)?s.forEach(l=>o[l]=null):Ot(o,s),a.set(n,o),o)}function zu(n,t){return!n||!Uu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Fe(n,t[0].toLowerCase()+t.slice(1))||Fe(n,Ti(t))||Fe(n,t))}let yr=null,Yv=null;function iu(n){const t=yr;return yr=n,Yv=n&&n.type.__scopeId||null,t}function cr(n,t=yr,i){if(!t||n._n)return n;const a=(...r)=>{a._d&&Rp(-1);const s=iu(t),o=n(...r);return iu(s),a._d&&Rp(1),o};return a._n=!0,a._c=!0,a._d=!0,a}function Vl(n){const{type:t,vnode:i,proxy:a,withProxy:r,props:s,propsOptions:[o],slots:u,attrs:l,emit:c,render:d,renderCache:p,data:f,setupState:y,ctx:T,inheritAttrs:x}=n;let S,C;const A=iu(n);try{if(i.shapeFlag&4){const R=r||a;S=Wr(d.call(R,R,p,s,y,f,T)),C=l}else{const R=t;S=Wr(R.length>1?R(s,{attrs:l,slots:u,emit:c}):R(s,null)),C=t.props?l:HS(l)}}catch(R){os.length=0,qu(R,n,1),S=K(Rr)}let j=S;if(C&&x!==!1){const R=Object.keys(C),{shapeFlag:O}=j;R.length&&O&7&&(o&&R.some(jd)&&(C=VS(C,o)),j=Un(j,C))}return i.dirs&&(j=Un(j),j.dirs=j.dirs?j.dirs.concat(i.dirs):i.dirs),i.transition&&(j.transition=i.transition),S=j,iu(A),S}const HS=n=>{let t;for(const i in n)(i==="class"||i==="style"||Uu(i))&&((t||(t={}))[i]=n[i]);return t},VS=(n,t)=>{const i={};for(const a in n)(!jd(a)||!(a.slice(9)in t))&&(i[a]=n[a]);return i};function $S(n,t,i){const{props:a,children:r,component:s}=n,{props:o,children:u,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return a?Sp(a,o,c):!!o;if(l&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const f=d[p];if(o[f]!==a[f]&&!zu(c,f))return!0}}}else return(r||u)&&(!u||!u.$stable)?!0:a===o?!1:a?o?Sp(a,o,c):!0:!!o;return!1}function Sp(n,t,i){const a=Object.keys(t);if(a.length!==Object.keys(n).length)return!0;for(let r=0;r<a.length;r++){const s=a[r];if(t[s]!==n[s]&&!zu(i,s))return!0}return!1}function qS({vnode:n,parent:t},i){for(;t&&t.subTree===n;)(n=t.vnode).el=i,t=t.parent}const WS=n=>n.__isSuspense;function zS(n,t){t&&t.pendingBranch?Ie(n)?t.effects.push(...n):t.effects.push(n):US(n)}function Nn(n,t){if(yt){let i=yt.provides;const a=yt.parent&&yt.parent.provides;a===i&&(i=yt.provides=Object.create(a)),i[n]=t}}function Lr(n,t,i=!1){const a=yt||yr;if(a){const r=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(r&&n in r)return r[n];if(arguments.length>1)return i&&De(t)?t.call(a.proxy):t}}function GS(n,t){return Zd(n,null,t)}const Ep={};function It(n,t,i){return Zd(n,t,i)}function Zd(n,t,{immediate:i,deep:a,flush:r,onTrack:s,onTrigger:o}=Ge){const u=yt;let l,c=!1,d=!1;if(Pt(n)?(l=()=>n.value,c=$c(n)):Qi(n)?(l=()=>n,a=!0):Ie(n)?(d=!0,c=n.some(C=>Qi(C)||$c(C)),l=()=>n.map(C=>{if(Pt(C))return C.value;if(Qi(C))return ci(C);if(De(C))return Fn(C,u,2)})):De(n)?t?l=()=>Fn(n,u,2):l=()=>{if(!(u&&u.isUnmounted))return p&&p(),_r(n,u,3,[f])}:l=Dr,t&&a){const C=l;l=()=>ci(C())}let p,f=C=>{p=S.onStop=()=>{Fn(C,u,4)}};if(bs)return f=Dr,t?i&&_r(t,u,3,[l(),d?[]:void 0,f]):l(),Dr;let y=d?[]:Ep;const T=()=>{if(!!S.active)if(t){const C=S.run();(a||c||(d?C.some((A,j)=>gs(A,y[j])):gs(C,y)))&&(p&&p(),_r(t,u,3,[C,y===Ep?void 0:y,f]),y=C)}else S.run()};T.allowRecurse=!!t;let x;r==="sync"?x=T:r==="post"?x=()=>Zt(T,u&&u.suspense):x=()=>BS(T);const S=new Wd(l,x);return t?i?T():y=S.run():r==="post"?Zt(S.run.bind(S),u&&u.suspense):S.run(),()=>{S.stop(),u&&u.scope&&Hd(u.scope.effects,S)}}function KS(n,t,i){const a=this.proxy,r=Tt(n)?n.includes(".")?Qv(a,n):()=>a[n]:n.bind(a,a);let s;De(t)?s=t:(s=t.handler,i=t);const o=yt;ta(this);const u=Zd(r,s.bind(a),i);return o?ta(o):hi(),u}function Qv(n,t){const i=t.split(".");return()=>{let a=n;for(let r=0;r<i.length&&a;r++)a=a[i[r]];return a}}function ci(n,t){if(!bt(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),Pt(n))ci(n.value,t);else if(Ie(n))for(let i=0;i<n.length;i++)ci(n[i],t);else if(Yx(n)||ns(n))n.forEach(i=>{ci(i,t)});else if(Zx(n))for(const i in n)ci(n[i],t);return n}function XS(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $n(()=>{n.isMounted=!0}),Yu(()=>{n.isUnmounting=!0}),n}const mr=[Function,Array],YS={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mr,onEnter:mr,onAfterEnter:mr,onEnterCancelled:mr,onBeforeLeave:mr,onLeave:mr,onAfterLeave:mr,onLeaveCancelled:mr,onBeforeAppear:mr,onAppear:mr,onAfterAppear:mr,onAppearCancelled:mr},setup(n,{slots:t}){const i=bi(),a=XS();let r;return()=>{const s=t.default&&e0(t.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const x of s)if(x.type!==Rr){o=x;break}}const u=Ue(n),{mode:l}=u;if(a.isLeaving)return $l(o);const c=Cp(o);if(!c)return $l(o);const d=zc(c,u,a,i);Gc(c,d);const p=i.subTree,f=p&&Cp(p);let y=!1;const{getTransitionKey:T}=c.type;if(T){const x=T();r===void 0?r=x:x!==r&&(r=x,y=!0)}if(f&&f.type!==Rr&&(!oi(c,f)||y)){const x=zc(f,u,a,i);if(Gc(f,x),l==="out-in")return a.isLeaving=!0,x.afterLeave=()=>{a.isLeaving=!1,i.update()},$l(o);l==="in-out"&&c.type!==Rr&&(x.delayLeave=(S,C,A)=>{const j=Zv(a,f);j[String(f.key)]=f,S._leaveCb=()=>{C(),S._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=A})}return o}}},Jv=YS;function Zv(n,t){const{leavingVNodes:i}=n;let a=i.get(t.type);return a||(a=Object.create(null),i.set(t.type,a)),a}function zc(n,t,i,a){const{appear:r,mode:s,persisted:o=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:y,onLeaveCancelled:T,onBeforeAppear:x,onAppear:S,onAfterAppear:C,onAppearCancelled:A}=t,j=String(n.key),R=Zv(i,n),O=(U,H)=>{U&&_r(U,a,9,H)},W=(U,H)=>{const V=H[1];O(U,H),Ie(U)?U.every(X=>X.length<=1)&&V():U.length<=1&&V()},q={mode:s,persisted:o,beforeEnter(U){let H=u;if(!i.isMounted)if(r)H=x||u;else return;U._leaveCb&&U._leaveCb(!0);const V=R[j];V&&oi(n,V)&&V.el._leaveCb&&V.el._leaveCb(),O(H,[U])},enter(U){let H=l,V=c,X=d;if(!i.isMounted)if(r)H=S||l,V=C||c,X=A||d;else return;let $=!1;const ee=U._enterCb=pe=>{$||($=!0,pe?O(X,[U]):O(V,[U]),q.delayedLeave&&q.delayedLeave(),U._enterCb=void 0)};H?W(H,[U,ee]):ee()},leave(U,H){const V=String(n.key);if(U._enterCb&&U._enterCb(!0),i.isUnmounting)return H();O(p,[U]);let X=!1;const $=U._leaveCb=ee=>{X||(X=!0,H(),ee?O(T,[U]):O(y,[U]),U._leaveCb=void 0,R[V]===n&&delete R[V])};R[V]=n,f?W(f,[U,$]):$()},clone(U){return zc(U,t,i,a)}};return q}function $l(n){if(Gu(n))return n=Un(n),n.children=null,n}function Cp(n){return Gu(n)?n.children?n.children[0]:void 0:n}function Gc(n,t){n.shapeFlag&6&&n.component?Gc(n.component.subTree,t):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function e0(n,t=!1,i){let a=[],r=0;for(let s=0;s<n.length;s++){let o=n[s];const u=i==null?o.key:String(i)+String(o.key!=null?o.key:s);o.type===Wt?(o.patchFlag&128&&r++,a=a.concat(e0(o.children,t,u))):(t||o.type!==Rr)&&a.push(u!=null?Un(o,{key:u}):o)}if(r>1)for(let s=0;s<a.length;s++)a[s].patchFlag=-2;return a}function ot(n){return De(n)?{setup:n,name:n.name}:n}const Wo=n=>!!n.type.__asyncLoader,Gu=n=>n.type.__isKeepAlive;function ef(n,t){t0(n,"a",t)}function Ku(n,t){t0(n,"da",t)}function t0(n,t,i=yt){const a=n.__wdc||(n.__wdc=()=>{let r=i;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(Xu(t,a,i),i){let r=i.parent;for(;r&&r.parent;)Gu(r.parent.vnode)&&QS(a,t,i,r),r=r.parent}}function QS(n,t,i,a){const r=Xu(t,n,a,!0);Bs(()=>{Hd(a[t],r)},i)}function Xu(n,t,i=yt,a=!1){if(i){const r=i[n]||(i[n]=[]),s=t.__weh||(t.__weh=(...o)=>{if(i.isUnmounted)return;va(),ta(i);const u=_r(t,i,n,o);return hi(),ya(),u});return a?r.unshift(s):r.push(s),s}}const bn=n=>(t,i=yt)=>(!bs||n==="sp")&&Xu(n,t,i),JS=bn("bm"),$n=bn("m"),ZS=bn("bu"),eE=bn("u"),Yu=bn("bum"),Bs=bn("um"),tE=bn("sp"),rE=bn("rtg"),nE=bn("rtc");function iE(n,t=yt){Xu("ec",n,t)}function tf(n,t){const i=yr;if(i===null)return n;const a=Ju(i)||i.proxy,r=n.dirs||(n.dirs=[]);for(let s=0;s<t.length;s++){let[o,u,l,c=Ge]=t[s];De(o)&&(o={mounted:o,updated:o}),o.deep&&ci(u),r.push({dir:o,instance:a,value:u,oldValue:void 0,arg:l,modifiers:c})}return n}function Zn(n,t,i,a){const r=n.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const u=r[o];s&&(u.oldValue=s[o].value);let l=u.dir[a];l&&(va(),_r(l,i,8,[n.el,u,n,t]),ya())}}const r0="components";function aE(n,t){return oE(r0,n,!0,t)||n}const sE=Symbol();function oE(n,t,i=!0,a=!1){const r=yr||yt;if(r){const s=r.type;if(n===r0){const u=UE(s,!1);if(u&&(u===t||u===Qr(t)||u===Vu(Qr(t))))return s}const o=wp(r[n]||s[n],t)||wp(r.appContext[n],t);return!o&&a?s:o}}function wp(n,t){return n&&(n[t]||n[Qr(t)]||n[Vu(Qr(t))])}function uE(n,t,i,a){let r;const s=i&&i[a];if(Ie(n)||Tt(n)){r=new Array(n.length);for(let o=0,u=n.length;o<u;o++)r[o]=t(n[o],o,void 0,s&&s[o])}else if(typeof n=="number"){r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(bt(n))if(n[Symbol.iterator])r=Array.from(n,(o,u)=>t(o,u,void 0,s&&s[u]));else{const o=Object.keys(n);r=new Array(o.length);for(let u=0,l=o.length;u<l;u++){const c=o[u];r[u]=t(n[c],c,u,s&&s[u])}}else r=[];return i&&(i[a]=r),r}const Kc=n=>n?p0(n)?Ju(n)||n.proxy:Kc(n.parent):null,au=Ot(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Kc(n.parent),$root:n=>Kc(n.root),$emit:n=>n.emit,$options:n=>i0(n),$forceUpdate:n=>n.f||(n.f=()=>qv(n.update)),$nextTick:n=>n.n||(n.n=kr.bind(n.proxy)),$watch:n=>KS.bind(n)}),lE={get({_:n},t){const{ctx:i,setupState:a,data:r,props:s,accessCache:o,type:u,appContext:l}=n;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return a[t];case 2:return r[t];case 4:return i[t];case 3:return s[t]}else{if(a!==Ge&&Fe(a,t))return o[t]=1,a[t];if(r!==Ge&&Fe(r,t))return o[t]=2,r[t];if((c=n.propsOptions[0])&&Fe(c,t))return o[t]=3,s[t];if(i!==Ge&&Fe(i,t))return o[t]=4,i[t];Xc&&(o[t]=0)}}const d=au[t];let p,f;if(d)return t==="$attrs"&&hr(n,"get",t),d(n);if((p=u.__cssModules)&&(p=p[t]))return p;if(i!==Ge&&Fe(i,t))return o[t]=4,i[t];if(f=l.config.globalProperties,Fe(f,t))return f[t]},set({_:n},t,i){const{data:a,setupState:r,ctx:s}=n;return r!==Ge&&Fe(r,t)?(r[t]=i,!0):a!==Ge&&Fe(a,t)?(a[t]=i,!0):Fe(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(s[t]=i,!0)},has({_:{data:n,setupState:t,accessCache:i,ctx:a,appContext:r,propsOptions:s}},o){let u;return!!i[o]||n!==Ge&&Fe(n,o)||t!==Ge&&Fe(t,o)||(u=s[0])&&Fe(u,o)||Fe(a,o)||Fe(au,o)||Fe(r.config.globalProperties,o)},defineProperty(n,t,i){return i.get!=null?n._.accessCache[t]=0:Fe(i,"value")&&this.set(n,t,i.value,null),Reflect.defineProperty(n,t,i)}};let Xc=!0;function cE(n){const t=i0(n),i=n.proxy,a=n.ctx;Xc=!1,t.beforeCreate&&Pp(t.beforeCreate,n,"bc");const{data:r,computed:s,methods:o,watch:u,provide:l,inject:c,created:d,beforeMount:p,mounted:f,beforeUpdate:y,updated:T,activated:x,deactivated:S,beforeDestroy:C,beforeUnmount:A,destroyed:j,unmounted:R,render:O,renderTracked:W,renderTriggered:q,errorCaptured:U,serverPrefetch:H,expose:V,inheritAttrs:X,components:$,directives:ee,filters:pe}=t;if(c&&dE(c,a,null,n.appContext.config.unwrapInjectedRef),o)for(const ge in o){const Te=o[ge];De(Te)&&(a[ge]=Te.bind(i))}if(r){const ge=r.call(i,i);bt(ge)&&(n.data=Nr(ge))}if(Xc=!0,s)for(const ge in s){const Te=s[ge],Be=De(Te)?Te.bind(i,i):De(Te.get)?Te.get.bind(i,i):Dr,Re=!De(Te)&&De(Te.set)?Te.set.bind(i):Dr,Lt=qe({get:Be,set:Re});Object.defineProperty(a,ge,{enumerable:!0,configurable:!0,get:()=>Lt.value,set:Qe=>Lt.value=Qe})}if(u)for(const ge in u)n0(u[ge],a,i,ge);if(l){const ge=De(l)?l.call(i):l;Reflect.ownKeys(ge).forEach(Te=>{Nn(Te,ge[Te])})}d&&Pp(d,n,"c");function de(ge,Te){Ie(Te)?Te.forEach(Be=>ge(Be.bind(i))):Te&&ge(Te.bind(i))}if(de(JS,p),de($n,f),de(ZS,y),de(eE,T),de(ef,x),de(Ku,S),de(iE,U),de(nE,W),de(rE,q),de(Yu,A),de(Bs,R),de(tE,H),Ie(V))if(V.length){const ge=n.exposed||(n.exposed={});V.forEach(Te=>{Object.defineProperty(ge,Te,{get:()=>i[Te],set:Be=>i[Te]=Be})})}else n.exposed||(n.exposed={});O&&n.render===Dr&&(n.render=O),X!=null&&(n.inheritAttrs=X),$&&(n.components=$),ee&&(n.directives=ee)}function dE(n,t,i=Dr,a=!1){Ie(n)&&(n=Yc(n));for(const r in n){const s=n[r];let o;bt(s)?"default"in s?o=Lr(s.from||r,s.default,!0):o=Lr(s.from||r):o=Lr(s),Pt(o)&&a?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:u=>o.value=u}):t[r]=o}}function Pp(n,t,i){_r(Ie(n)?n.map(a=>a.bind(t.proxy)):n.bind(t.proxy),t,i)}function n0(n,t,i,a){const r=a.includes(".")?Qv(i,a):()=>i[a];if(Tt(n)){const s=t[n];De(s)&&It(r,s)}else if(De(n))It(r,n.bind(i));else if(bt(n))if(Ie(n))n.forEach(s=>n0(s,t,i,a));else{const s=De(n.handler)?n.handler.bind(i):t[n.handler];De(s)&&It(r,s,n)}}function i0(n){const t=n.type,{mixins:i,extends:a}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=n.appContext,u=s.get(t);let l;return u?l=u:!r.length&&!i&&!a?l=t:(l={},r.length&&r.forEach(c=>su(l,c,o,!0)),su(l,t,o)),s.set(t,l),l}function su(n,t,i,a=!1){const{mixins:r,extends:s}=t;s&&su(n,s,i,!0),r&&r.forEach(o=>su(n,o,i,!0));for(const o in t)if(!(a&&o==="expose")){const u=fE[o]||i&&i[o];n[o]=u?u(n[o],t[o]):t[o]}return n}const fE={data:Ap,props:ii,emits:ii,methods:ii,computed:ii,beforeCreate:qt,created:qt,beforeMount:qt,mounted:qt,beforeUpdate:qt,updated:qt,beforeDestroy:qt,beforeUnmount:qt,destroyed:qt,unmounted:qt,activated:qt,deactivated:qt,errorCaptured:qt,serverPrefetch:qt,components:ii,directives:ii,watch:pE,provide:Ap,inject:hE};function Ap(n,t){return t?n?function(){return Ot(De(n)?n.call(this,this):n,De(t)?t.call(this,this):t)}:t:n}function hE(n,t){return ii(Yc(n),Yc(t))}function Yc(n){if(Ie(n)){const t={};for(let i=0;i<n.length;i++)t[n[i]]=n[i];return t}return n}function qt(n,t){return n?[...new Set([].concat(n,t))]:t}function ii(n,t){return n?Ot(Ot(Object.create(null),n),t):t}function pE(n,t){if(!n)return t;if(!t)return n;const i=Ot(Object.create(null),n);for(const a in t)i[a]=qt(n[a],t[a]);return i}function mE(n,t,i,a=!1){const r={},s={};ru(s,Qu,1),n.propsDefaults=Object.create(null),a0(n,t,r,s);for(const o in n.propsOptions[0])o in r||(r[o]=void 0);i?n.props=a?r:IS(r):n.type.props?n.props=r:n.props=s,n.attrs=s}function gE(n,t,i,a){const{props:r,attrs:s,vnode:{patchFlag:o}}=n,u=Ue(r),[l]=n.propsOptions;let c=!1;if((a||o>0)&&!(o&16)){if(o&8){const d=n.vnode.dynamicProps;for(let p=0;p<d.length;p++){let f=d[p];if(zu(n.emitsOptions,f))continue;const y=t[f];if(l)if(Fe(s,f))y!==s[f]&&(s[f]=y,c=!0);else{const T=Qr(f);r[T]=Qc(l,u,T,y,n,!1)}else y!==s[f]&&(s[f]=y,c=!0)}}}else{a0(n,t,r,s)&&(c=!0);let d;for(const p in u)(!t||!Fe(t,p)&&((d=Ti(p))===p||!Fe(t,d)))&&(l?i&&(i[p]!==void 0||i[d]!==void 0)&&(r[p]=Qc(l,u,p,void 0,n,!0)):delete r[p]);if(s!==u)for(const p in s)(!t||!Fe(t,p)&&!0)&&(delete s[p],c=!0)}c&&gn(n,"set","$attrs")}function a0(n,t,i,a){const[r,s]=n.propsOptions;let o=!1,u;if(t)for(let l in t){if($o(l))continue;const c=t[l];let d;r&&Fe(r,d=Qr(l))?!s||!s.includes(d)?i[d]=c:(u||(u={}))[d]=c:zu(n.emitsOptions,l)||(!(l in a)||c!==a[l])&&(a[l]=c,o=!0)}if(s){const l=Ue(i),c=u||Ge;for(let d=0;d<s.length;d++){const p=s[d];i[p]=Qc(r,l,p,c[p],n,!Fe(c,p))}}return o}function Qc(n,t,i,a,r,s){const o=n[i];if(o!=null){const u=Fe(o,"default");if(u&&a===void 0){const l=o.default;if(o.type!==Function&&De(l)){const{propsDefaults:c}=r;i in c?a=c[i]:(ta(r),a=c[i]=l.call(null,t),hi())}else a=l}o[0]&&(s&&!u?a=!1:o[1]&&(a===""||a===Ti(i))&&(a=!0))}return a}function s0(n,t,i=!1){const a=t.propsCache,r=a.get(n);if(r)return r;const s=n.props,o={},u=[];let l=!1;if(!De(n)){const d=p=>{l=!0;const[f,y]=s0(p,t,!0);Ot(o,f),y&&u.push(...y)};!i&&t.mixins.length&&t.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}if(!s&&!l)return a.set(n,Yi),Yi;if(Ie(s))for(let d=0;d<s.length;d++){const p=Qr(s[d]);kp(p)&&(o[p]=Ge)}else if(s)for(const d in s){const p=Qr(d);if(kp(p)){const f=s[d],y=o[p]=Ie(f)||De(f)?{type:f}:f;if(y){const T=Dp(Boolean,y.type),x=Dp(String,y.type);y[0]=T>-1,y[1]=x<0||T<x,(T>-1||Fe(y,"default"))&&u.push(p)}}}const c=[o,u];return a.set(n,c),c}function kp(n){return n[0]!=="$"}function Ip(n){const t=n&&n.toString().match(/^\s*function (\w+)/);return t?t[1]:n===null?"null":""}function Op(n,t){return Ip(n)===Ip(t)}function Dp(n,t){return Ie(t)?t.findIndex(i=>Op(i,n)):De(t)&&Op(t,n)?0:-1}const o0=n=>n[0]==="_"||n==="$stable",rf=n=>Ie(n)?n.map(Wr):[Wr(n)],vE=(n,t,i)=>{if(t._n)return t;const a=cr((...r)=>rf(t(...r)),i);return a._c=!1,a},u0=(n,t,i)=>{const a=n._ctx;for(const r in n){if(o0(r))continue;const s=n[r];if(De(s))t[r]=vE(r,s,a);else if(s!=null){const o=rf(s);t[r]=()=>o}}},l0=(n,t)=>{const i=rf(t);n.slots.default=()=>i},yE=(n,t)=>{if(n.vnode.shapeFlag&32){const i=t._;i?(n.slots=Ue(t),ru(t,"_",i)):u0(t,n.slots={})}else n.slots={},t&&l0(n,t);ru(n.slots,Qu,1)},_E=(n,t,i)=>{const{vnode:a,slots:r}=n;let s=!0,o=Ge;if(a.shapeFlag&32){const u=t._;u?i&&u===1?s=!1:(Ot(r,t),!i&&u===1&&delete r._):(s=!t.$stable,u0(t,r)),o=t}else t&&(l0(n,t),o={default:1});if(s)for(const u in r)!o0(u)&&!(u in o)&&delete r[u]};function c0(){return{app:null,config:{isNativeTag:Gx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let TE=0;function bE(n,t){return function(a,r=null){De(a)||(a=Object.assign({},a)),r!=null&&!bt(r)&&(r=null);const s=c0(),o=new Set;let u=!1;const l=s.app={_uid:TE++,_component:a,_props:r,_container:null,_context:s,_instance:null,version:HE,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&De(c.install)?(o.add(c),c.install(l,...d)):De(c)&&(o.add(c),c(l,...d))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,d){return d?(s.components[c]=d,l):s.components[c]},directive(c,d){return d?(s.directives[c]=d,l):s.directives[c]},mount(c,d,p){if(!u){const f=K(a,r);return f.appContext=s,d&&t?t(f,c):n(f,c,p),u=!0,l._container=c,c.__vue_app__=l,Ju(f.component)||f.component.proxy}},unmount(){u&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,d){return s.provides[c]=d,l}};return l}}function Jc(n,t,i,a,r=!1){if(Ie(n)){n.forEach((f,y)=>Jc(f,t&&(Ie(t)?t[y]:t),i,a,r));return}if(Wo(a)&&!r)return;const s=a.shapeFlag&4?Ju(a.component)||a.component.proxy:a.el,o=r?null:s,{i:u,r:l}=n,c=t&&t.r,d=u.refs===Ge?u.refs={}:u.refs,p=u.setupState;if(c!=null&&c!==l&&(Tt(c)?(d[c]=null,Fe(p,c)&&(p[c]=null)):Pt(c)&&(c.value=null)),De(l))Fn(l,u,12,[o,d]);else{const f=Tt(l),y=Pt(l);if(f||y){const T=()=>{if(n.f){const x=f?d[l]:l.value;r?Ie(x)&&Hd(x,s):Ie(x)?x.includes(s)||x.push(s):f?(d[l]=[s],Fe(p,l)&&(p[l]=d[l])):(l.value=[s],n.k&&(d[n.k]=l.value))}else f?(d[l]=o,Fe(p,l)&&(p[l]=o)):y&&(l.value=o,n.k&&(d[n.k]=o))};o?(T.id=-1,Zt(T,i)):T()}}}const Zt=zS;function xE(n){return SE(n)}function SE(n,t){const i=rS();i.__VUE__=!0;const{insert:a,remove:r,patchProp:s,createElement:o,createText:u,createComment:l,setText:c,setElementText:d,parentNode:p,nextSibling:f,setScopeId:y=Dr,cloneNode:T,insertStaticContent:x}=n,S=(I,N,z,J=null,Q=null,se=null,te=!1,oe=null,ce=!!N.dynamicChildren)=>{if(I===N)return;I&&!oi(I,N)&&(J=fe(I),tt(I,Q,se,!0),I=null),N.patchFlag===-2&&(ce=!1,N.dynamicChildren=null);const{type:ne,ref:ye,shapeFlag:ve}=N;switch(ne){case af:C(I,N,z,J);break;case Rr:A(I,N,z,J);break;case ql:I==null&&j(N,z,J,te);break;case Wt:ee(I,N,z,J,Q,se,te,oe,ce);break;default:ve&1?W(I,N,z,J,Q,se,te,oe,ce):ve&6?pe(I,N,z,J,Q,se,te,oe,ce):(ve&64||ve&128)&&ne.process(I,N,z,J,Q,se,te,oe,ce,We)}ye!=null&&Q&&Jc(ye,I&&I.ref,se,N||I,!N)},C=(I,N,z,J)=>{if(I==null)a(N.el=u(N.children),z,J);else{const Q=N.el=I.el;N.children!==I.children&&c(Q,N.children)}},A=(I,N,z,J)=>{I==null?a(N.el=l(N.children||""),z,J):N.el=I.el},j=(I,N,z,J)=>{[I.el,I.anchor]=x(I.children,N,z,J,I.el,I.anchor)},R=({el:I,anchor:N},z,J)=>{let Q;for(;I&&I!==N;)Q=f(I),a(I,z,J),I=Q;a(N,z,J)},O=({el:I,anchor:N})=>{let z;for(;I&&I!==N;)z=f(I),r(I),I=z;r(N)},W=(I,N,z,J,Q,se,te,oe,ce)=>{te=te||N.type==="svg",I==null?q(N,z,J,Q,se,te,oe,ce):V(I,N,Q,se,te,oe,ce)},q=(I,N,z,J,Q,se,te,oe)=>{let ce,ne;const{type:ye,props:ve,shapeFlag:_e,transition:Ee,patchFlag:Me,dirs:je}=I;if(I.el&&T!==void 0&&Me===-1)ce=I.el=T(I.el);else{if(ce=I.el=o(I.type,se,ve&&ve.is,ve),_e&8?d(ce,I.children):_e&16&&H(I.children,ce,null,J,Q,se&&ye!=="foreignObject",te,oe),je&&Zn(I,null,J,"created"),ve){for(const ze in ve)ze!=="value"&&!$o(ze)&&s(ce,ze,null,ve[ze],se,I.children,J,Q,Y);"value"in ve&&s(ce,"value",null,ve.value),(ne=ve.onVnodeBeforeMount)&&Vr(ne,J,I)}U(ce,I,I.scopeId,te,J)}je&&Zn(I,null,J,"beforeMount");const He=(!Q||Q&&!Q.pendingBranch)&&Ee&&!Ee.persisted;He&&Ee.beforeEnter(ce),a(ce,N,z),((ne=ve&&ve.onVnodeMounted)||He||je)&&Zt(()=>{ne&&Vr(ne,J,I),He&&Ee.enter(ce),je&&Zn(I,null,J,"mounted")},Q)},U=(I,N,z,J,Q)=>{if(z&&y(I,z),J)for(let se=0;se<J.length;se++)y(I,J[se]);if(Q){let se=Q.subTree;if(N===se){const te=Q.vnode;U(I,te,te.scopeId,te.slotScopeIds,Q.parent)}}},H=(I,N,z,J,Q,se,te,oe,ce=0)=>{for(let ne=ce;ne<I.length;ne++){const ye=I[ne]=oe?Dn(I[ne]):Wr(I[ne]);S(null,ye,N,z,J,Q,se,te,oe)}},V=(I,N,z,J,Q,se,te)=>{const oe=N.el=I.el;let{patchFlag:ce,dynamicChildren:ne,dirs:ye}=N;ce|=I.patchFlag&16;const ve=I.props||Ge,_e=N.props||Ge;let Ee;z&&ei(z,!1),(Ee=_e.onVnodeBeforeUpdate)&&Vr(Ee,z,N,I),ye&&Zn(N,I,z,"beforeUpdate"),z&&ei(z,!0);const Me=Q&&N.type!=="foreignObject";if(ne?X(I.dynamicChildren,ne,oe,z,J,Me,se):te||Be(I,N,oe,null,z,J,Me,se,!1),ce>0){if(ce&16)$(oe,N,ve,_e,z,J,Q);else if(ce&2&&ve.class!==_e.class&&s(oe,"class",null,_e.class,Q),ce&4&&s(oe,"style",ve.style,_e.style,Q),ce&8){const je=N.dynamicProps;for(let He=0;He<je.length;He++){const ze=je[He],ke=ve[ze],Cn=_e[ze];(Cn!==ke||ze==="value")&&s(oe,ze,ke,Cn,Q,I.children,z,J,Y)}}ce&1&&I.children!==N.children&&d(oe,N.children)}else!te&&ne==null&&$(oe,N,ve,_e,z,J,Q);((Ee=_e.onVnodeUpdated)||ye)&&Zt(()=>{Ee&&Vr(Ee,z,N,I),ye&&Zn(N,I,z,"updated")},J)},X=(I,N,z,J,Q,se,te)=>{for(let oe=0;oe<N.length;oe++){const ce=I[oe],ne=N[oe],ye=ce.el&&(ce.type===Wt||!oi(ce,ne)||ce.shapeFlag&70)?p(ce.el):z;S(ce,ne,ye,null,J,Q,se,te,!0)}},$=(I,N,z,J,Q,se,te)=>{if(z!==J){for(const oe in J){if($o(oe))continue;const ce=J[oe],ne=z[oe];ce!==ne&&oe!=="value"&&s(I,oe,ne,ce,te,N.children,Q,se,Y)}if(z!==Ge)for(const oe in z)!$o(oe)&&!(oe in J)&&s(I,oe,z[oe],null,te,N.children,Q,se,Y);"value"in J&&s(I,"value",z.value,J.value)}},ee=(I,N,z,J,Q,se,te,oe,ce)=>{const ne=N.el=I?I.el:u(""),ye=N.anchor=I?I.anchor:u("");let{patchFlag:ve,dynamicChildren:_e,slotScopeIds:Ee}=N;Ee&&(oe=oe?oe.concat(Ee):Ee),I==null?(a(ne,z,J),a(ye,z,J),H(N.children,z,ye,Q,se,te,oe,ce)):ve>0&&ve&64&&_e&&I.dynamicChildren?(X(I.dynamicChildren,_e,z,Q,se,te,oe),(N.key!=null||Q&&N===Q.subTree)&&nf(I,N,!0)):Be(I,N,z,ye,Q,se,te,oe,ce)},pe=(I,N,z,J,Q,se,te,oe,ce)=>{N.slotScopeIds=oe,I==null?N.shapeFlag&512?Q.ctx.activate(N,z,J,te,ce):xe(N,z,J,Q,se,te,ce):de(I,N,ce)},xe=(I,N,z,J,Q,se,te)=>{const oe=I.component=RE(I,J,Q);if(Gu(I)&&(oe.ctx.renderer=We),ME(oe),oe.asyncDep){if(Q&&Q.registerDep(oe,ge),!I.el){const ce=oe.subTree=K(Rr);A(null,ce,N,z)}return}ge(oe,I,N,z,Q,se,te)},de=(I,N,z)=>{const J=N.component=I.component;if($S(I,N,z))if(J.asyncDep&&!J.asyncResolved){Te(J,N,z);return}else J.next=N,NS(J.update),J.update();else N.el=I.el,J.vnode=N},ge=(I,N,z,J,Q,se,te)=>{const oe=()=>{if(I.isMounted){let{next:ye,bu:ve,u:_e,parent:Ee,vnode:Me}=I,je=ye,He;ei(I,!1),ye?(ye.el=Me.el,Te(I,ye,te)):ye=Me,ve&&Hl(ve),(He=ye.props&&ye.props.onVnodeBeforeUpdate)&&Vr(He,Ee,ye,Me),ei(I,!0);const ze=Vl(I),ke=I.subTree;I.subTree=ze,S(ke,ze,p(ke.el),fe(ke),I,Q,se),ye.el=ze.el,je===null&&qS(I,ze.el),_e&&Zt(_e,Q),(He=ye.props&&ye.props.onVnodeUpdated)&&Zt(()=>Vr(He,Ee,ye,Me),Q)}else{let ye;const{el:ve,props:_e}=N,{bm:Ee,m:Me,parent:je}=I,He=Wo(N);if(ei(I,!1),Ee&&Hl(Ee),!He&&(ye=_e&&_e.onVnodeBeforeMount)&&Vr(ye,je,N),ei(I,!0),ve&&Pe){const ze=()=>{I.subTree=Vl(I),Pe(ve,I.subTree,I,Q,null)};He?N.type.__asyncLoader().then(()=>!I.isUnmounted&&ze()):ze()}else{const ze=I.subTree=Vl(I);S(null,ze,z,J,I,Q,se),N.el=ze.el}if(Me&&Zt(Me,Q),!He&&(ye=_e&&_e.onVnodeMounted)){const ze=N;Zt(()=>Vr(ye,je,ze),Q)}(N.shapeFlag&256||je&&Wo(je.vnode)&&je.vnode.shapeFlag&256)&&I.a&&Zt(I.a,Q),I.isMounted=!0,N=z=J=null}},ce=I.effect=new Wd(oe,()=>qv(ne),I.scope),ne=I.update=()=>ce.run();ne.id=I.uid,ei(I,!0),ne()},Te=(I,N,z)=>{N.component=I;const J=I.vnode.props;I.vnode=N,I.next=null,gE(I,N.props,J,z),_E(I,N.children,z),va(),Wu(void 0,I.update),ya()},Be=(I,N,z,J,Q,se,te,oe,ce=!1)=>{const ne=I&&I.children,ye=I?I.shapeFlag:0,ve=N.children,{patchFlag:_e,shapeFlag:Ee}=N;if(_e>0){if(_e&128){Lt(ne,ve,z,J,Q,se,te,oe,ce);return}else if(_e&256){Re(ne,ve,z,J,Q,se,te,oe,ce);return}}Ee&8?(ye&16&&Y(ne,Q,se),ve!==ne&&d(z,ve)):ye&16?Ee&16?Lt(ne,ve,z,J,Q,se,te,oe,ce):Y(ne,Q,se,!0):(ye&8&&d(z,""),Ee&16&&H(ve,z,J,Q,se,te,oe,ce))},Re=(I,N,z,J,Q,se,te,oe,ce)=>{I=I||Yi,N=N||Yi;const ne=I.length,ye=N.length,ve=Math.min(ne,ye);let _e;for(_e=0;_e<ve;_e++){const Ee=N[_e]=ce?Dn(N[_e]):Wr(N[_e]);S(I[_e],Ee,z,null,Q,se,te,oe,ce)}ne>ye?Y(I,Q,se,!0,!1,ve):H(N,z,J,Q,se,te,oe,ce,ve)},Lt=(I,N,z,J,Q,se,te,oe,ce)=>{let ne=0;const ye=N.length;let ve=I.length-1,_e=ye-1;for(;ne<=ve&&ne<=_e;){const Ee=I[ne],Me=N[ne]=ce?Dn(N[ne]):Wr(N[ne]);if(oi(Ee,Me))S(Ee,Me,z,null,Q,se,te,oe,ce);else break;ne++}for(;ne<=ve&&ne<=_e;){const Ee=I[ve],Me=N[_e]=ce?Dn(N[_e]):Wr(N[_e]);if(oi(Ee,Me))S(Ee,Me,z,null,Q,se,te,oe,ce);else break;ve--,_e--}if(ne>ve){if(ne<=_e){const Ee=_e+1,Me=Ee<ye?N[Ee].el:J;for(;ne<=_e;)S(null,N[ne]=ce?Dn(N[ne]):Wr(N[ne]),z,Me,Q,se,te,oe,ce),ne++}}else if(ne>_e)for(;ne<=ve;)tt(I[ne],Q,se,!0),ne++;else{const Ee=ne,Me=ne,je=new Map;for(ne=Me;ne<=_e;ne++){const Ut=N[ne]=ce?Dn(N[ne]):Wr(N[ne]);Ut.key!=null&&je.set(Ut.key,ne)}let He,ze=0;const ke=_e-Me+1;let Cn=!1,Zs=0;const zn=new Array(ke);for(ne=0;ne<ke;ne++)zn[ne]=0;for(ne=Ee;ne<=ve;ne++){const Ut=I[ne];if(ze>=ke){tt(Ut,Q,se,!0);continue}let jt;if(Ut.key!=null)jt=je.get(Ut.key);else for(He=Me;He<=_e;He++)if(zn[He-Me]===0&&oi(Ut,N[He])){jt=He;break}jt===void 0?tt(Ut,Q,se,!0):(zn[jt-Me]=ne+1,jt>=Zs?Zs=jt:Cn=!0,S(Ut,N[jt],z,null,Q,se,te,oe,ce),ze++)}const eo=Cn?EE(zn):Yi;for(He=eo.length-1,ne=ke-1;ne>=0;ne--){const Ut=Me+ne,jt=N[Ut],to=Ut+1<ye?N[Ut+1].el:J;zn[ne]===0?S(null,jt,z,to,Q,se,te,oe,ce):Cn&&(He<0||ne!==eo[He]?Qe(jt,z,to,2):He--)}}},Qe=(I,N,z,J,Q=null)=>{const{el:se,type:te,transition:oe,children:ce,shapeFlag:ne}=I;if(ne&6){Qe(I.component.subTree,N,z,J);return}if(ne&128){I.suspense.move(N,z,J);return}if(ne&64){te.move(I,N,z,We);return}if(te===Wt){a(se,N,z);for(let ve=0;ve<ce.length;ve++)Qe(ce[ve],N,z,J);a(I.anchor,N,z);return}if(te===ql){R(I,N,z);return}if(J!==2&&ne&1&&oe)if(J===0)oe.beforeEnter(se),a(se,N,z),Zt(()=>oe.enter(se),Q);else{const{leave:ve,delayLeave:_e,afterLeave:Ee}=oe,Me=()=>a(se,N,z),je=()=>{ve(se,()=>{Me(),Ee&&Ee()})};_e?_e(se,Me,je):je()}else a(se,N,z)},tt=(I,N,z,J=!1,Q=!1)=>{const{type:se,props:te,ref:oe,children:ce,dynamicChildren:ne,shapeFlag:ye,patchFlag:ve,dirs:_e}=I;if(oe!=null&&Jc(oe,null,z,I,!0),ye&256){N.ctx.deactivate(I);return}const Ee=ye&1&&_e,Me=!Wo(I);let je;if(Me&&(je=te&&te.onVnodeBeforeUnmount)&&Vr(je,N,I),ye&6)re(I.component,z,J);else{if(ye&128){I.suspense.unmount(z,J);return}Ee&&Zn(I,null,N,"beforeUnmount"),ye&64?I.type.remove(I,N,z,Q,We,J):ne&&(se!==Wt||ve>0&&ve&64)?Y(ne,N,z,!1,!0):(se===Wt&&ve&384||!Q&&ye&16)&&Y(ce,N,z),J&&Rt(I)}(Me&&(je=te&&te.onVnodeUnmounted)||Ee)&&Zt(()=>{je&&Vr(je,N,I),Ee&&Zn(I,null,N,"unmounted")},z)},Rt=I=>{const{type:N,el:z,anchor:J,transition:Q}=I;if(N===Wt){M(z,J);return}if(N===ql){O(I);return}const se=()=>{r(z),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(I.shapeFlag&1&&Q&&!Q.persisted){const{leave:te,delayLeave:oe}=Q,ce=()=>te(z,se);oe?oe(I.el,se,ce):ce()}else se()},M=(I,N)=>{let z;for(;I!==N;)z=f(I),r(I),I=z;r(N)},re=(I,N,z)=>{const{bum:J,scope:Q,update:se,subTree:te,um:oe}=I;J&&Hl(J),Q.stop(),se&&(se.active=!1,tt(te,I,N,z)),oe&&Zt(oe,N),Zt(()=>{I.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},Y=(I,N,z,J=!1,Q=!1,se=0)=>{for(let te=se;te<I.length;te++)tt(I[te],N,z,J,Q)},fe=I=>I.shapeFlag&6?fe(I.component.subTree):I.shapeFlag&128?I.suspense.next():f(I.anchor||I.el),we=(I,N,z)=>{I==null?N._vnode&&tt(N._vnode,null,null,!0):S(N._vnode||null,I,N,null,null,null,z),Gv(),N._vnode=I},We={p:S,um:tt,m:Qe,r:Rt,mt:xe,mc:H,pc:Be,pbc:X,n:fe,o:n};let Oe,Pe;return t&&([Oe,Pe]=t(We)),{render:we,hydrate:Oe,createApp:bE(we,Oe)}}function ei({effect:n,update:t},i){n.allowRecurse=t.allowRecurse=i}function nf(n,t,i=!1){const a=n.children,r=t.children;if(Ie(a)&&Ie(r))for(let s=0;s<a.length;s++){const o=a[s];let u=r[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=r[s]=Dn(r[s]),u.el=o.el),i||nf(o,u))}}function EE(n){const t=n.slice(),i=[0];let a,r,s,o,u;const l=n.length;for(a=0;a<l;a++){const c=n[a];if(c!==0){if(r=i[i.length-1],n[r]<c){t[a]=r,i.push(a);continue}for(s=0,o=i.length-1;s<o;)u=s+o>>1,n[i[u]]<c?s=u+1:o=u;c<n[i[s]]&&(s>0&&(t[a]=i[s-1]),i[s]=a)}}for(s=i.length,o=i[s-1];s-- >0;)i[s]=o,o=t[o];return i}const CE=n=>n.__isTeleport,ss=n=>n&&(n.disabled||n.disabled===""),Lp=n=>typeof SVGElement<"u"&&n instanceof SVGElement,Zc=(n,t)=>{const i=n&&n.to;return Tt(i)?t?t(i):null:i},wE={__isTeleport:!0,process(n,t,i,a,r,s,o,u,l,c){const{mc:d,pc:p,pbc:f,o:{insert:y,querySelector:T,createText:x,createComment:S}}=c,C=ss(t.props);let{shapeFlag:A,children:j,dynamicChildren:R}=t;if(n==null){const O=t.el=x(""),W=t.anchor=x("");y(O,i,a),y(W,i,a);const q=t.target=Zc(t.props,T),U=t.targetAnchor=x("");q&&(y(U,q),o=o||Lp(q));const H=(V,X)=>{A&16&&d(j,V,X,r,s,o,u,l)};C?H(i,W):q&&H(q,U)}else{t.el=n.el;const O=t.anchor=n.anchor,W=t.target=n.target,q=t.targetAnchor=n.targetAnchor,U=ss(n.props),H=U?i:W,V=U?O:q;if(o=o||Lp(W),R?(f(n.dynamicChildren,R,H,r,s,o,u),nf(n,t,!0)):l||p(n,t,H,V,r,s,o,u,!1),C)U||Po(t,i,O,c,1);else if((t.props&&t.props.to)!==(n.props&&n.props.to)){const X=t.target=Zc(t.props,T);X&&Po(t,X,null,c,0)}else U&&Po(t,W,q,c,1)}},remove(n,t,i,a,{um:r,o:{remove:s}},o){const{shapeFlag:u,children:l,anchor:c,targetAnchor:d,target:p,props:f}=n;if(p&&s(d),(o||!ss(f))&&(s(c),u&16))for(let y=0;y<l.length;y++){const T=l[y];r(T,t,i,!0,!!T.dynamicChildren)}},move:Po,hydrate:PE};function Po(n,t,i,{o:{insert:a},m:r},s=2){s===0&&a(n.targetAnchor,t,i);const{el:o,anchor:u,shapeFlag:l,children:c,props:d}=n,p=s===2;if(p&&a(o,t,i),(!p||ss(d))&&l&16)for(let f=0;f<c.length;f++)r(c[f],t,i,2);p&&a(u,t,i)}function PE(n,t,i,a,r,s,{o:{nextSibling:o,parentNode:u,querySelector:l}},c){const d=t.target=Zc(t.props,l);if(d){const p=d._lpa||d.firstChild;if(t.shapeFlag&16)if(ss(t.props))t.anchor=c(o(n),t,u(n),i,a,r,s),t.targetAnchor=p;else{t.anchor=o(n);let f=p;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(p,t,d,i,a,r,s)}}return t.anchor&&o(t.anchor)}const AE=wE,Wt=Symbol(void 0),af=Symbol(void 0),Rr=Symbol(void 0),ql=Symbol(void 0),os=[];let Ir=null;function si(n=!1){os.push(Ir=n?null:[])}function kE(){os.pop(),Ir=os[os.length-1]||null}let Ts=1;function Rp(n){Ts+=n}function d0(n){return n.dynamicChildren=Ts>0?Ir||Yi:null,kE(),Ts>0&&Ir&&Ir.push(n),n}function Mp(n,t,i,a,r,s){return d0(h0(n,t,i,a,r,s,!0))}function us(n,t,i,a,r){return d0(K(n,t,i,a,r,!0))}function ou(n){return n?n.__v_isVNode===!0:!1}function oi(n,t){return n.type===t.type&&n.key===t.key}const Qu="__vInternal",f0=({key:n})=>n!=null?n:null,zo=({ref:n,ref_key:t,ref_for:i})=>n!=null?Tt(n)||Pt(n)||De(n)?{i:yr,r:n,k:t,f:!!i}:n:null;function h0(n,t=null,i=null,a=0,r=null,s=n===Wt?0:1,o=!1,u=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&f0(t),ref:t&&zo(t),scopeId:Yv,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:a,dynamicProps:r,dynamicChildren:null,appContext:null};return u?(sf(l,i),s&128&&n.normalize(l)):i&&(l.shapeFlag|=Tt(i)?8:16),Ts>0&&!o&&Ir&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ir.push(l),l}const K=IE;function IE(n,t=null,i=null,a=0,r=null,s=!1){if((!n||n===sE)&&(n=Rr),ou(n)){const u=Un(n,t,!0);return i&&sf(u,i),Ts>0&&!s&&Ir&&(u.shapeFlag&6?Ir[Ir.indexOf(n)]=u:Ir.push(u)),u.patchFlag|=-2,u}if(jE(n)&&(n=n.__vccOpts),t){t=OE(t);let{class:u,style:l}=t;u&&!Tt(u)&&(t.class=Xi(u)),bt(l)&&(Nv(l)&&!Ie(l)&&(l=Ot({},l)),t.style=Ud(l))}const o=Tt(n)?1:WS(n)?128:CE(n)?64:bt(n)?4:De(n)?2:0;return h0(n,t,i,a,r,o,s,!0)}function OE(n){return n?Nv(n)||Qu in n?Ot({},n):n:null}function Un(n,t,i=!1){const{props:a,ref:r,patchFlag:s,children:o}=n,u=t?Zr(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&f0(u),ref:t&&t.ref?i&&r?Ie(r)?r.concat(zo(t)):[r,zo(t)]:zo(t):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Wt?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Un(n.ssContent),ssFallback:n.ssFallback&&Un(n.ssFallback),el:n.el,anchor:n.anchor}}function qn(n=" ",t=0){return K(af,null,n,t)}function Fp(n="",t=!1){return t?(si(),us(Rr,null,n)):K(Rr,null,n)}function Wr(n){return n==null||typeof n=="boolean"?K(Rr):Ie(n)?K(Wt,null,n.slice()):typeof n=="object"?Dn(n):K(af,null,String(n))}function Dn(n){return n.el===null||n.memo?n:Un(n)}function sf(n,t){let i=0;const{shapeFlag:a}=n;if(t==null)t=null;else if(Ie(t))i=16;else if(typeof t=="object")if(a&65){const r=t.default;r&&(r._c&&(r._d=!1),sf(n,r()),r._c&&(r._d=!0));return}else{i=32;const r=t._;!r&&!(Qu in t)?t._ctx=yr:r===3&&yr&&(yr.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else De(t)?(t={default:t,_ctx:yr},i=32):(t=String(t),a&64?(i=16,t=[qn(t)]):i=8);n.children=t,n.shapeFlag|=i}function Zr(...n){const t={};for(let i=0;i<n.length;i++){const a=n[i];for(const r in a)if(r==="class")t.class!==a.class&&(t.class=Xi([t.class,a.class]));else if(r==="style")t.style=Ud([t.style,a.style]);else if(Uu(r)){const s=t[r],o=a[r];o&&s!==o&&!(Ie(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=a[r])}return t}function Vr(n,t,i,a=null){_r(n,t,7,[i,a])}const DE=c0();let LE=0;function RE(n,t,i){const a=n.type,r=(t?t.appContext:n.appContext)||DE,s={uid:LE++,vnode:n,type:a,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new nS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:s0(a,r),emitsOptions:Xv(a,r),emit:null,emitted:null,propsDefaults:Ge,inheritAttrs:a.inheritAttrs,ctx:Ge,data:Ge,props:Ge,attrs:Ge,slots:Ge,refs:Ge,setupState:Ge,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=jS.bind(null,s),n.ce&&n.ce(s),s}let yt=null;const bi=()=>yt||yr,ta=n=>{yt=n,n.scope.on()},hi=()=>{yt&&yt.scope.off(),yt=null};function p0(n){return n.vnode.shapeFlag&4}let bs=!1;function ME(n,t=!1){bs=t;const{props:i,children:a}=n.vnode,r=p0(n);mE(n,i,r,t),yE(n,a);const s=r?FE(n,t):void 0;return bs=!1,s}function FE(n,t){const i=n.type;n.accessCache=Object.create(null),n.proxy=Bv(new Proxy(n.ctx,lE));const{setup:a}=i;if(a){const r=n.setupContext=a.length>1?BE(n):null;ta(n),va();const s=Fn(a,n,0,[n.props,r]);if(ya(),hi(),Cv(s)){if(s.then(hi,hi),t)return s.then(o=>{Np(n,o,t)}).catch(o=>{qu(o,n,0)});n.asyncDep=s}else Np(n,s,t)}else m0(n,t)}function Np(n,t,i){De(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:bt(t)&&(n.setupState=Vv(t)),m0(n,i)}let Bp;function m0(n,t,i){const a=n.type;if(!n.render){if(!t&&Bp&&!a.render){const r=a.template;if(r){const{isCustomElement:s,compilerOptions:o}=n.appContext.config,{delimiters:u,compilerOptions:l}=a,c=Ot(Ot({isCustomElement:s,delimiters:u},o),l);a.render=Bp(r,c)}}n.render=a.render||Dr}ta(n),va(),cE(n),ya(),hi()}function NE(n){return new Proxy(n.attrs,{get(t,i){return hr(n,"get","$attrs"),t[i]}})}function BE(n){const t=a=>{n.exposed=a||{}};let i;return{get attrs(){return i||(i=NE(n))},slots:n.slots,emit:n.emit,expose:t}}function Ju(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Vv(Bv(n.exposed)),{get(t,i){if(i in t)return t[i];if(i in au)return au[i](n)}}))}function UE(n,t=!0){return De(n)?n.displayName||n.name:n.name||t&&n.__name}function jE(n){return De(n)&&"__vccOpts"in n}const qe=(n,t)=>RS(n,t,bs);function xs(n,t,i){const a=arguments.length;return a===2?bt(t)&&!Ie(t)?ou(t)?K(n,null,[t]):K(n,t):K(n,null,t):(a>3?i=Array.prototype.slice.call(arguments,2):a===3&&ou(i)&&(i=[i]),K(n,t,i))}const HE="3.2.37",VE="http://www.w3.org/2000/svg",ui=typeof document<"u"?document:null,Up=ui&&ui.createElement("template"),$E={insert:(n,t,i)=>{t.insertBefore(n,i||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,i,a)=>{const r=t?ui.createElementNS(VE,n):ui.createElement(n,i?{is:i}:void 0);return n==="select"&&a&&a.multiple!=null&&r.setAttribute("multiple",a.multiple),r},createText:n=>ui.createTextNode(n),createComment:n=>ui.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ui.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},cloneNode(n){const t=n.cloneNode(!0);return"_value"in n&&(t._value=n._value),t},insertStaticContent(n,t,i,a,r,s){const o=i?i.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),i),!(r===s||!(r=r.nextSibling)););else{Up.innerHTML=a?`<svg>${n}</svg>`:n;const u=Up.content;if(a){const l=u.firstChild;for(;l.firstChild;)u.appendChild(l.firstChild);u.removeChild(l)}t.insertBefore(u,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function qE(n,t,i){const a=n._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?n.removeAttribute("class"):i?n.setAttribute("class",t):n.className=t}function WE(n,t,i){const a=n.style,r=Tt(i);if(i&&!r){for(const s in i)ed(a,s,i[s]);if(t&&!Tt(t))for(const s in t)i[s]==null&&ed(a,s,"")}else{const s=a.display;r?t!==i&&(a.cssText=i):t&&n.removeAttribute("style"),"_vod"in n&&(a.display=s)}}const jp=/\s*!important$/;function ed(n,t,i){if(Ie(i))i.forEach(a=>ed(n,t,a));else if(i==null&&(i=""),t.startsWith("--"))n.setProperty(t,i);else{const a=zE(n,t);jp.test(i)?n.setProperty(Ti(a),i.replace(jp,""),"important"):n[a]=i}}const Hp=["Webkit","Moz","ms"],Wl={};function zE(n,t){const i=Wl[t];if(i)return i;let a=Qr(t);if(a!=="filter"&&a in n)return Wl[t]=a;a=Vu(a);for(let r=0;r<Hp.length;r++){const s=Hp[r]+a;if(s in n)return Wl[t]=s}return t}const Vp="http://www.w3.org/1999/xlink";function GE(n,t,i,a,r){if(a&&t.startsWith("xlink:"))i==null?n.removeAttributeNS(Vp,t.slice(6,t.length)):n.setAttributeNS(Vp,t,i);else{const s=$x(t);i==null||s&&!Ev(i)?n.removeAttribute(t):n.setAttribute(t,s?"":i)}}function KE(n,t,i,a,r,s,o){if(t==="innerHTML"||t==="textContent"){a&&o(a,r,s),n[t]=i==null?"":i;return}if(t==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=i;const l=i==null?"":i;(n.value!==l||n.tagName==="OPTION")&&(n.value=l),i==null&&n.removeAttribute(t);return}let u=!1;if(i===""||i==null){const l=typeof n[t];l==="boolean"?i=Ev(i):i==null&&l==="string"?(i="",u=!0):l==="number"&&(i=0,u=!0)}try{n[t]=i}catch{}u&&n.removeAttribute(t)}const[g0,XE]=(()=>{let n=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(n=performance.now.bind(performance));const i=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(i&&Number(i[1])<=53)}return[n,t]})();let td=0;const YE=Promise.resolve(),QE=()=>{td=0},JE=()=>td||(YE.then(QE),td=g0());function ZE(n,t,i,a){n.addEventListener(t,i,a)}function eC(n,t,i,a){n.removeEventListener(t,i,a)}function tC(n,t,i,a,r=null){const s=n._vei||(n._vei={}),o=s[t];if(a&&o)o.value=a;else{const[u,l]=rC(t);if(a){const c=s[t]=nC(a,r);ZE(n,u,c,l)}else o&&(eC(n,u,o,l),s[t]=void 0)}}const $p=/(?:Once|Passive|Capture)$/;function rC(n){let t;if($p.test(n)){t={};let i;for(;i=n.match($p);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[Ti(n.slice(2)),t]}function nC(n,t){const i=a=>{const r=a.timeStamp||g0();(XE||r>=i.attached-1)&&_r(iC(a,i.value),t,5,[a])};return i.value=n,i.attached=JE(),i}function iC(n,t){if(Ie(t)){const i=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{i.call(n),n._stopped=!0},t.map(a=>r=>!r._stopped&&a&&a(r))}else return t}const qp=/^on[a-z]/,aC=(n,t,i,a,r=!1,s,o,u,l)=>{t==="class"?qE(n,a,r):t==="style"?WE(n,i,a):Uu(t)?jd(t)||tC(n,t,i,a,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):sC(n,t,a,r))?KE(n,t,a,s,o,u,l):(t==="true-value"?n._trueValue=a:t==="false-value"&&(n._falseValue=a),GE(n,t,a,r))};function sC(n,t,i,a){return a?!!(t==="innerHTML"||t==="textContent"||t in n&&qp.test(t)&&De(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA"||qp.test(t)&&Tt(i)?!1:t in n}const Pn="transition",Fa="animation",Zu=(n,{slots:t})=>xs(Jv,oC(n),t);Zu.displayName="Transition";const v0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Zu.props=Ot({},Jv.props,v0);const ti=(n,t=[])=>{Ie(n)?n.forEach(i=>i(...t)):n&&n(...t)},Wp=n=>n?Ie(n)?n.some(t=>t.length>1):n.length>1:!1;function oC(n){const t={};for(const $ in n)$ in v0||(t[$]=n[$]);if(n.css===!1)return t;const{name:i="v",type:a,duration:r,enterFromClass:s=`${i}-enter-from`,enterActiveClass:o=`${i}-enter-active`,enterToClass:u=`${i}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:d=u,leaveFromClass:p=`${i}-leave-from`,leaveActiveClass:f=`${i}-leave-active`,leaveToClass:y=`${i}-leave-to`}=n,T=uC(r),x=T&&T[0],S=T&&T[1],{onBeforeEnter:C,onEnter:A,onEnterCancelled:j,onLeave:R,onLeaveCancelled:O,onBeforeAppear:W=C,onAppear:q=A,onAppearCancelled:U=j}=t,H=($,ee,pe)=>{ri($,ee?d:u),ri($,ee?c:o),pe&&pe()},V=($,ee)=>{$._isLeaving=!1,ri($,p),ri($,y),ri($,f),ee&&ee()},X=$=>(ee,pe)=>{const xe=$?q:A,de=()=>H(ee,$,pe);ti(xe,[ee,de]),zp(()=>{ri(ee,$?l:s),An(ee,$?d:u),Wp(xe)||Gp(ee,a,x,de)})};return Ot(t,{onBeforeEnter($){ti(C,[$]),An($,s),An($,o)},onBeforeAppear($){ti(W,[$]),An($,l),An($,c)},onEnter:X(!1),onAppear:X(!0),onLeave($,ee){$._isLeaving=!0;const pe=()=>V($,ee);An($,p),dC(),An($,f),zp(()=>{!$._isLeaving||(ri($,p),An($,y),Wp(R)||Gp($,a,S,pe))}),ti(R,[$,pe])},onEnterCancelled($){H($,!1),ti(j,[$])},onAppearCancelled($){H($,!0),ti(U,[$])},onLeaveCancelled($){V($),ti(O,[$])}})}function uC(n){if(n==null)return null;if(bt(n))return[zl(n.enter),zl(n.leave)];{const t=zl(n);return[t,t]}}function zl(n){return wv(n)}function An(n,t){t.split(/\s+/).forEach(i=>i&&n.classList.add(i)),(n._vtc||(n._vtc=new Set)).add(t)}function ri(n,t){t.split(/\s+/).forEach(a=>a&&n.classList.remove(a));const{_vtc:i}=n;i&&(i.delete(t),i.size||(n._vtc=void 0))}function zp(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let lC=0;function Gp(n,t,i,a){const r=n._endId=++lC,s=()=>{r===n._endId&&a()};if(i)return setTimeout(s,i);const{type:o,timeout:u,propCount:l}=cC(n,t);if(!o)return a();const c=o+"end";let d=0;const p=()=>{n.removeEventListener(c,f),s()},f=y=>{y.target===n&&++d>=l&&p()};setTimeout(()=>{d<l&&p()},u+1),n.addEventListener(c,f)}function cC(n,t){const i=window.getComputedStyle(n),a=T=>(i[T]||"").split(", "),r=a(Pn+"Delay"),s=a(Pn+"Duration"),o=Kp(r,s),u=a(Fa+"Delay"),l=a(Fa+"Duration"),c=Kp(u,l);let d=null,p=0,f=0;t===Pn?o>0&&(d=Pn,p=o,f=s.length):t===Fa?c>0&&(d=Fa,p=c,f=l.length):(p=Math.max(o,c),d=p>0?o>c?Pn:Fa:null,f=d?d===Pn?s.length:l.length:0);const y=d===Pn&&/\b(transform|all)(,|$)/.test(i[Pn+"Property"]);return{type:d,timeout:p,propCount:f,hasTransform:y}}function Kp(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((i,a)=>Xp(i)+Xp(n[a])))}function Xp(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function dC(){return document.body.offsetHeight}const fC={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},hC=(n,t)=>i=>{if(!("key"in i))return;const a=Ti(i.key);if(t.some(r=>r===a||fC[r]===a))return n(i)},of={beforeMount(n,{value:t},{transition:i}){n._vod=n.style.display==="none"?"":n.style.display,i&&t?i.beforeEnter(n):Na(n,t)},mounted(n,{value:t},{transition:i}){i&&t&&i.enter(n)},updated(n,{value:t,oldValue:i},{transition:a}){!t!=!i&&(a?t?(a.beforeEnter(n),Na(n,!0),a.enter(n)):a.leave(n,()=>{Na(n,!1)}):Na(n,t))},beforeUnmount(n,{value:t}){Na(n,t)}};function Na(n,t){n.style.display=t?n._vod:"none"}const pC=Ot({patchProp:aC},$E);let Yp;function mC(){return Yp||(Yp=xE(pC))}const y0=(...n)=>{const t=mC().createApp(...n),{mount:i}=t;return t.mount=a=>{const r=gC(a);if(!r)return;const s=t._component;!De(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=i(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function gC(n){return Tt(n)?document.querySelector(n):n}const _0=(n,t)=>{const i=n.__vccOpts||n;for(const[a,r]of t)i[a]=r;return i},vC={};function yC(n,t){const i=aE("RouterView");return si(),us(i)}const _C=_0(vC,[["render",yC]]),TC="modulepreload",bC=function(n,t){return new URL(n,t).href},Qp={},xC=function(t,i,a){return!i||i.length===0?t():Promise.all(i.map(r=>{if(r=bC(r,a),r in Qp)return;Qp[r]=!0;const s=r.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":TC,s||(u.as="script",u.crossOrigin=""),u.href=r,document.head.appendChild(u),s)return new Promise((l,c)=>{u.addEventListener("load",l),u.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};/*!
  * vue-router v4.1.4
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const qi=typeof window<"u";function SC(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const $e=Object.assign;function Gl(n,t){const i={};for(const a in t){const r=t[a];i[a]=Br(r)?r.map(n):n(r)}return i}const ls=()=>{},Br=Array.isArray,EC=/\/$/,CC=n=>n.replace(EC,"");function Kl(n,t,i="/"){let a,r={},s="",o="";const u=t.indexOf("#");let l=t.indexOf("?");return u<l&&u>=0&&(l=-1),l>-1&&(a=t.slice(0,l),s=t.slice(l+1,u>-1?u:t.length),r=n(s)),u>-1&&(a=a||t.slice(0,u),o=t.slice(u,t.length)),a=kC(a!=null?a:t,i),{fullPath:a+(s&&"?")+s+o,path:a,query:r,hash:o}}function wC(n,t){const i=t.query?n(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function Jp(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function PC(n,t,i){const a=t.matched.length-1,r=i.matched.length-1;return a>-1&&a===r&&ra(t.matched[a],i.matched[r])&&T0(t.params,i.params)&&n(t.query)===n(i.query)&&t.hash===i.hash}function ra(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function T0(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const i in n)if(!AC(n[i],t[i]))return!1;return!0}function AC(n,t){return Br(n)?Zp(n,t):Br(t)?Zp(t,n):n===t}function Zp(n,t){return Br(t)?n.length===t.length&&n.every((i,a)=>i===t[a]):n.length===1&&n[0]===t}function kC(n,t){if(n.startsWith("/"))return n;if(!n)return t;const i=t.split("/"),a=n.split("/");let r=i.length-1,s,o;for(s=0;s<a.length;s++)if(o=a[s],o!==".")if(o==="..")r>1&&r--;else break;return i.slice(0,r).join("/")+"/"+a.slice(s-(s===a.length?1:0)).join("/")}var Ss;(function(n){n.pop="pop",n.push="push"})(Ss||(Ss={}));var cs;(function(n){n.back="back",n.forward="forward",n.unknown=""})(cs||(cs={}));function IC(n){if(!n)if(qi){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),CC(n)}const OC=/^[^#]+#/;function DC(n,t){return n.replace(OC,"#")+t}function LC(n,t){const i=document.documentElement.getBoundingClientRect(),a=n.getBoundingClientRect();return{behavior:t.behavior,left:a.left-i.left-(t.left||0),top:a.top-i.top-(t.top||0)}}const el=()=>({left:window.pageXOffset,top:window.pageYOffset});function RC(n){let t;if("el"in n){const i=n.el,a=typeof i=="string"&&i.startsWith("#"),r=typeof i=="string"?a?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!r)return;t=LC(r,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function em(n,t){return(history.state?history.state.position-t:-1)+n}const rd=new Map;function MC(n,t){rd.set(n,t)}function FC(n){const t=rd.get(n);return rd.delete(n),t}let NC=()=>location.protocol+"//"+location.host;function b0(n,t){const{pathname:i,search:a,hash:r}=t,s=n.indexOf("#");if(s>-1){let u=r.includes(n.slice(s))?n.slice(s).length:1,l=r.slice(u);return l[0]!=="/"&&(l="/"+l),Jp(l,"")}return Jp(i,n)+a+r}function BC(n,t,i,a){let r=[],s=[],o=null;const u=({state:f})=>{const y=b0(n,location),T=i.value,x=t.value;let S=0;if(f){if(i.value=y,t.value=f,o&&o===T){o=null;return}S=x?f.position-x.position:0}else a(y);r.forEach(C=>{C(i.value,T,{delta:S,type:Ss.pop,direction:S?S>0?cs.forward:cs.back:cs.unknown})})};function l(){o=i.value}function c(f){r.push(f);const y=()=>{const T=r.indexOf(f);T>-1&&r.splice(T,1)};return s.push(y),y}function d(){const{history:f}=window;!f.state||f.replaceState($e({},f.state,{scroll:el()}),"")}function p(){for(const f of s)f();s=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",d),{pauseListeners:l,listen:c,destroy:p}}function tm(n,t,i,a=!1,r=!1){return{back:n,current:t,forward:i,replaced:a,position:window.history.length,scroll:r?el():null}}function UC(n){const{history:t,location:i}=window,a={value:b0(n,i)},r={value:t.state};r.value||s(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,c,d){const p=n.indexOf("#"),f=p>-1?(i.host&&document.querySelector("base")?n:n.slice(p))+l:NC()+n+l;try{t[d?"replaceState":"pushState"](c,"",f),r.value=c}catch(y){console.error(y),i[d?"replace":"assign"](f)}}function o(l,c){const d=$e({},t.state,tm(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,d,!0),a.value=l}function u(l,c){const d=$e({},r.value,t.state,{forward:l,scroll:el()});s(d.current,d,!0);const p=$e({},tm(a.value,l,null),{position:d.position+1},c);s(l,p,!1),a.value=l}return{location:a,state:r,push:u,replace:o}}function jC(n){n=IC(n);const t=UC(n),i=BC(n,t.state,t.location,t.replace);function a(s,o=!0){o||i.pauseListeners(),history.go(s)}const r=$e({location:"",base:n,go:a,createHref:DC.bind(null,n)},t,i);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function HC(n){return typeof n=="string"||n&&typeof n=="object"}function x0(n){return typeof n=="string"||typeof n=="symbol"}const kn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},S0=Symbol("");var rm;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(rm||(rm={}));function na(n,t){return $e(new Error,{type:n,[S0]:!0},t)}function rn(n,t){return n instanceof Error&&S0 in n&&(t==null||!!(n.type&t))}const nm="[^/]+?",VC={sensitive:!1,strict:!1,start:!0,end:!0},$C=/[.+*?^${}()[\]/\\]/g;function qC(n,t){const i=$e({},VC,t),a=[];let r=i.start?"^":"";const s=[];for(const c of n){const d=c.length?[]:[90];i.strict&&!c.length&&(r+="/");for(let p=0;p<c.length;p++){const f=c[p];let y=40+(i.sensitive?.25:0);if(f.type===0)p||(r+="/"),r+=f.value.replace($C,"\\$&"),y+=40;else if(f.type===1){const{value:T,repeatable:x,optional:S,regexp:C}=f;s.push({name:T,repeatable:x,optional:S});const A=C||nm;if(A!==nm){y+=10;try{new RegExp(`(${A})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${T}" (${A}): `+R.message)}}let j=x?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;p||(j=S&&c.length<2?`(?:/${j})`:"/"+j),S&&(j+="?"),r+=j,y+=20,S&&(y+=-8),x&&(y+=-20),A===".*"&&(y+=-50)}d.push(y)}a.push(d)}if(i.strict&&i.end){const c=a.length-1;a[c][a[c].length-1]+=.7000000000000001}i.strict||(r+="/?"),i.end?r+="$":i.strict&&(r+="(?:/|$)");const o=new RegExp(r,i.sensitive?"":"i");function u(c){const d=c.match(o),p={};if(!d)return null;for(let f=1;f<d.length;f++){const y=d[f]||"",T=s[f-1];p[T.name]=y&&T.repeatable?y.split("/"):y}return p}function l(c){let d="",p=!1;for(const f of n){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const y of f)if(y.type===0)d+=y.value;else if(y.type===1){const{value:T,repeatable:x,optional:S}=y,C=T in c?c[T]:"";if(Br(C)&&!x)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const A=Br(C)?C.join("/"):C;if(!A)if(S)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${T}"`);d+=A}}return d||"/"}return{re:o,score:a,keys:s,parse:u,stringify:l}}function WC(n,t){let i=0;for(;i<n.length&&i<t.length;){const a=t[i]-n[i];if(a)return a;i++}return n.length<t.length?n.length===1&&n[0]===40+40?-1:1:n.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function zC(n,t){let i=0;const a=n.score,r=t.score;for(;i<a.length&&i<r.length;){const s=WC(a[i],r[i]);if(s)return s;i++}if(Math.abs(r.length-a.length)===1){if(im(a))return 1;if(im(r))return-1}return r.length-a.length}function im(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const GC={type:0,value:""},KC=/[a-zA-Z0-9_]/;function XC(n){if(!n)return[[]];if(n==="/")return[[GC]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(y){throw new Error(`ERR (${i})/"${c}": ${y}`)}let i=0,a=i;const r=[];let s;function o(){s&&r.push(s),s=[]}let u=0,l,c="",d="";function p(){!c||(i===0?s.push({type:0,value:c}):i===1||i===2||i===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;u<n.length;){if(l=n[u++],l==="\\"&&i!==2){a=i,i=4;continue}switch(i){case 0:l==="/"?(c&&p(),o()):l===":"?(p(),i=1):f();break;case 4:f(),i=a;break;case 1:l==="("?i=2:KC.test(l)?f():(p(),i=0,l!=="*"&&l!=="?"&&l!=="+"&&u--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:i=3:d+=l;break;case 3:p(),i=0,l!=="*"&&l!=="?"&&l!=="+"&&u--,d="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${c}"`),p(),o(),r}function YC(n,t,i){const a=qC(XC(n.path),i),r=$e(a,{record:n,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function QC(n,t){const i=[],a=new Map;t=om({strict:!1,end:!0,sensitive:!1},t);function r(d){return a.get(d)}function s(d,p,f){const y=!f,T=JC(d);T.aliasOf=f&&f.record;const x=om(t,d),S=[T];if("alias"in d){const j=typeof d.alias=="string"?[d.alias]:d.alias;for(const R of j)S.push($e({},T,{components:f?f.record.components:T.components,path:R,aliasOf:f?f.record:T}))}let C,A;for(const j of S){const{path:R}=j;if(p&&R[0]!=="/"){const O=p.record.path,W=O[O.length-1]==="/"?"":"/";j.path=p.record.path+(R&&W+R)}if(C=YC(j,p,x),f?f.alias.push(C):(A=A||C,A!==C&&A.alias.push(C),y&&d.name&&!sm(C)&&o(d.name)),T.children){const O=T.children;for(let W=0;W<O.length;W++)s(O[W],C,f&&f.children[W])}f=f||C,l(C)}return A?()=>{o(A)}:ls}function o(d){if(x0(d)){const p=a.get(d);p&&(a.delete(d),i.splice(i.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=i.indexOf(d);p>-1&&(i.splice(p,1),d.record.name&&a.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function u(){return i}function l(d){let p=0;for(;p<i.length&&zC(d,i[p])>=0&&(d.record.path!==i[p].record.path||!E0(d,i[p]));)p++;i.splice(p,0,d),d.record.name&&!sm(d)&&a.set(d.record.name,d)}function c(d,p){let f,y={},T,x;if("name"in d&&d.name){if(f=a.get(d.name),!f)throw na(1,{location:d});x=f.record.name,y=$e(am(p.params,f.keys.filter(A=>!A.optional).map(A=>A.name)),d.params&&am(d.params,f.keys.map(A=>A.name))),T=f.stringify(y)}else if("path"in d)T=d.path,f=i.find(A=>A.re.test(T)),f&&(y=f.parse(T),x=f.record.name);else{if(f=p.name?a.get(p.name):i.find(A=>A.re.test(p.path)),!f)throw na(1,{location:d,currentLocation:p});x=f.record.name,y=$e({},p.params,d.params),T=f.stringify(y)}const S=[];let C=f;for(;C;)S.unshift(C.record),C=C.parent;return{name:x,path:T,params:y,matched:S,meta:ew(S)}}return n.forEach(d=>s(d)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:u,getRecordMatcher:r}}function am(n,t){const i={};for(const a of t)a in n&&(i[a]=n[a]);return i}function JC(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:ZC(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function ZC(n){const t={},i=n.props||!1;if("component"in n)t.default=i;else for(const a in n.components)t[a]=typeof i=="boolean"?i:i[a];return t}function sm(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function ew(n){return n.reduce((t,i)=>$e(t,i.meta),{})}function om(n,t){const i={};for(const a in n)i[a]=a in t?t[a]:n[a];return i}function E0(n,t){return t.children.some(i=>i===n||E0(n,i))}const C0=/#/g,tw=/&/g,rw=/\//g,nw=/=/g,iw=/\?/g,w0=/\+/g,aw=/%5B/g,sw=/%5D/g,P0=/%5E/g,ow=/%60/g,A0=/%7B/g,uw=/%7C/g,k0=/%7D/g,lw=/%20/g;function uf(n){return encodeURI(""+n).replace(uw,"|").replace(aw,"[").replace(sw,"]")}function cw(n){return uf(n).replace(A0,"{").replace(k0,"}").replace(P0,"^")}function nd(n){return uf(n).replace(w0,"%2B").replace(lw,"+").replace(C0,"%23").replace(tw,"%26").replace(ow,"`").replace(A0,"{").replace(k0,"}").replace(P0,"^")}function dw(n){return nd(n).replace(nw,"%3D")}function fw(n){return uf(n).replace(C0,"%23").replace(iw,"%3F")}function hw(n){return n==null?"":fw(n).replace(rw,"%2F")}function uu(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function pw(n){const t={};if(n===""||n==="?")return t;const a=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<a.length;++r){const s=a[r].replace(w0," "),o=s.indexOf("="),u=uu(o<0?s:s.slice(0,o)),l=o<0?null:uu(s.slice(o+1));if(u in t){let c=t[u];Br(c)||(c=t[u]=[c]),c.push(l)}else t[u]=l}return t}function um(n){let t="";for(let i in n){const a=n[i];if(i=dw(i),a==null){a!==void 0&&(t+=(t.length?"&":"")+i);continue}(Br(a)?a.map(s=>s&&nd(s)):[a&&nd(a)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+i,s!=null&&(t+="="+s))})}return t}function mw(n){const t={};for(const i in n){const a=n[i];a!==void 0&&(t[i]=Br(a)?a.map(r=>r==null?null:""+r):a==null?a:""+a)}return t}const gw=Symbol(""),lm=Symbol(""),lf=Symbol(""),I0=Symbol(""),id=Symbol("");function Ba(){let n=[];function t(a){return n.push(a),()=>{const r=n.indexOf(a);r>-1&&n.splice(r,1)}}function i(){n=[]}return{add:t,list:()=>n,reset:i}}function Ln(n,t,i,a,r){const s=a&&(a.enterCallbacks[r]=a.enterCallbacks[r]||[]);return()=>new Promise((o,u)=>{const l=p=>{p===!1?u(na(4,{from:i,to:t})):p instanceof Error?u(p):HC(p)?u(na(2,{from:t,to:p})):(s&&a.enterCallbacks[r]===s&&typeof p=="function"&&s.push(p),o())},c=n.call(a&&a.instances[r],t,i,l);let d=Promise.resolve(c);n.length<3&&(d=d.then(l)),d.catch(p=>u(p))})}function Xl(n,t,i,a){const r=[];for(const s of n)for(const o in s.components){let u=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(vw(u)){const c=(u.__vccOpts||u)[t];c&&r.push(Ln(c,i,a,s,o))}else{let l=u();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const d=SC(c)?c.default:c;s.components[o]=d;const f=(d.__vccOpts||d)[t];return f&&Ln(f,i,a,s,o)()}))}}return r}function vw(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function cm(n){const t=Lr(lf),i=Lr(I0),a=qe(()=>t.resolve(cn(n.to))),r=qe(()=>{const{matched:l}=a.value,{length:c}=l,d=l[c-1],p=i.matched;if(!d||!p.length)return-1;const f=p.findIndex(ra.bind(null,d));if(f>-1)return f;const y=dm(l[c-2]);return c>1&&dm(d)===y&&p[p.length-1].path!==y?p.findIndex(ra.bind(null,l[c-2])):f}),s=qe(()=>r.value>-1&&bw(i.params,a.value.params)),o=qe(()=>r.value>-1&&r.value===i.matched.length-1&&T0(i.params,a.value.params));function u(l={}){return Tw(l)?t[cn(n.replace)?"replace":"push"](cn(n.to)).catch(ls):Promise.resolve()}return{route:a,href:qe(()=>a.value.href),isActive:s,isExactActive:o,navigate:u}}const yw=ot({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:cm,setup(n,{slots:t}){const i=Nr(cm(n)),{options:a}=Lr(lf),r=qe(()=>({[fm(n.activeClass,a.linkActiveClass,"router-link-active")]:i.isActive,[fm(n.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const s=t.default&&t.default(i);return n.custom?s:xs("a",{"aria-current":i.isExactActive?n.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:r.value},s)}}}),_w=yw;function Tw(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function bw(n,t){for(const i in t){const a=t[i],r=n[i];if(typeof a=="string"){if(a!==r)return!1}else if(!Br(r)||r.length!==a.length||a.some((s,o)=>s!==r[o]))return!1}return!0}function dm(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const fm=(n,t,i)=>n!=null?n:t!=null?t:i,xw=ot({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:i}){const a=Lr(id),r=qe(()=>n.route||a.value),s=Lr(lm,0),o=qe(()=>{let c=cn(s);const{matched:d}=r.value;let p;for(;(p=d[c])&&!p.components;)c++;return c}),u=qe(()=>r.value.matched[o.value]);Nn(lm,qe(()=>o.value+1)),Nn(gw,u),Nn(id,r);const l=Ke();return It(()=>[l.value,u.value,n.name],([c,d,p],[f,y,T])=>{d&&(d.instances[p]=c,y&&y!==d&&c&&c===f&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),c&&d&&(!y||!ra(d,y)||!f)&&(d.enterCallbacks[p]||[]).forEach(x=>x(c))},{flush:"post"}),()=>{const c=r.value,d=n.name,p=u.value,f=p&&p.components[d];if(!f)return hm(i.default,{Component:f,route:c});const y=p.props[d],T=y?y===!0?c.params:typeof y=="function"?y(c):y:null,S=xs(f,$e({},T,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(p.instances[d]=null)},ref:l}));return hm(i.default,{Component:S,route:c})||S}}});function hm(n,t){if(!n)return null;const i=n(t);return i.length===1?i[0]:i}const Sw=xw;function Ew(n){const t=QC(n.routes,n),i=n.parseQuery||pw,a=n.stringifyQuery||um,r=n.history,s=Ba(),o=Ba(),u=Ba(),l=qo(kn);let c=kn;qi&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Gl.bind(null,M=>""+M),p=Gl.bind(null,hw),f=Gl.bind(null,uu);function y(M,re){let Y,fe;return x0(M)?(Y=t.getRecordMatcher(M),fe=re):fe=M,t.addRoute(fe,Y)}function T(M){const re=t.getRecordMatcher(M);re&&t.removeRoute(re)}function x(){return t.getRoutes().map(M=>M.record)}function S(M){return!!t.getRecordMatcher(M)}function C(M,re){if(re=$e({},re||l.value),typeof M=="string"){const Pe=Kl(i,M,re.path),I=t.resolve({path:Pe.path},re),N=r.createHref(Pe.fullPath);return $e(Pe,I,{params:f(I.params),hash:uu(Pe.hash),redirectedFrom:void 0,href:N})}let Y;if("path"in M)Y=$e({},M,{path:Kl(i,M.path,re.path).path});else{const Pe=$e({},M.params);for(const I in Pe)Pe[I]==null&&delete Pe[I];Y=$e({},M,{params:p(M.params)}),re.params=p(re.params)}const fe=t.resolve(Y,re),we=M.hash||"";fe.params=d(f(fe.params));const We=wC(a,$e({},M,{hash:cw(we),path:fe.path})),Oe=r.createHref(We);return $e({fullPath:We,hash:we,query:a===um?mw(M.query):M.query||{}},fe,{redirectedFrom:void 0,href:Oe})}function A(M){return typeof M=="string"?Kl(i,M,l.value.path):$e({},M)}function j(M,re){if(c!==M)return na(8,{from:re,to:M})}function R(M){return q(M)}function O(M){return R($e(A(M),{replace:!0}))}function W(M){const re=M.matched[M.matched.length-1];if(re&&re.redirect){const{redirect:Y}=re;let fe=typeof Y=="function"?Y(M):Y;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=A(fe):{path:fe},fe.params={}),$e({query:M.query,hash:M.hash,params:"path"in fe?{}:M.params},fe)}}function q(M,re){const Y=c=C(M),fe=l.value,we=M.state,We=M.force,Oe=M.replace===!0,Pe=W(Y);if(Pe)return q($e(A(Pe),{state:typeof Pe=="object"?$e({},we,Pe.state):we,force:We,replace:Oe}),re||Y);const I=Y;I.redirectedFrom=re;let N;return!We&&PC(a,fe,Y)&&(N=na(16,{to:I,from:fe}),Re(fe,fe,!0,!1)),(N?Promise.resolve(N):H(I,fe)).catch(z=>rn(z)?rn(z,2)?z:Be(z):ge(z,I,fe)).then(z=>{if(z){if(rn(z,2))return q($e({replace:Oe},A(z.to),{state:typeof z.to=="object"?$e({},we,z.to.state):we,force:We}),re||I)}else z=X(I,fe,!0,Oe,we);return V(I,fe,z),z})}function U(M,re){const Y=j(M,re);return Y?Promise.reject(Y):Promise.resolve()}function H(M,re){let Y;const[fe,we,We]=Cw(M,re);Y=Xl(fe.reverse(),"beforeRouteLeave",M,re);for(const Pe of fe)Pe.leaveGuards.forEach(I=>{Y.push(Ln(I,M,re))});const Oe=U.bind(null,M,re);return Y.push(Oe),ki(Y).then(()=>{Y=[];for(const Pe of s.list())Y.push(Ln(Pe,M,re));return Y.push(Oe),ki(Y)}).then(()=>{Y=Xl(we,"beforeRouteUpdate",M,re);for(const Pe of we)Pe.updateGuards.forEach(I=>{Y.push(Ln(I,M,re))});return Y.push(Oe),ki(Y)}).then(()=>{Y=[];for(const Pe of M.matched)if(Pe.beforeEnter&&!re.matched.includes(Pe))if(Br(Pe.beforeEnter))for(const I of Pe.beforeEnter)Y.push(Ln(I,M,re));else Y.push(Ln(Pe.beforeEnter,M,re));return Y.push(Oe),ki(Y)}).then(()=>(M.matched.forEach(Pe=>Pe.enterCallbacks={}),Y=Xl(We,"beforeRouteEnter",M,re),Y.push(Oe),ki(Y))).then(()=>{Y=[];for(const Pe of o.list())Y.push(Ln(Pe,M,re));return Y.push(Oe),ki(Y)}).catch(Pe=>rn(Pe,8)?Pe:Promise.reject(Pe))}function V(M,re,Y){for(const fe of u.list())fe(M,re,Y)}function X(M,re,Y,fe,we){const We=j(M,re);if(We)return We;const Oe=re===kn,Pe=qi?history.state:{};Y&&(fe||Oe?r.replace(M.fullPath,$e({scroll:Oe&&Pe&&Pe.scroll},we)):r.push(M.fullPath,we)),l.value=M,Re(M,re,Y,Oe),Be()}let $;function ee(){$||($=r.listen((M,re,Y)=>{if(!Rt.listening)return;const fe=C(M),we=W(fe);if(we){q($e(we,{replace:!0}),fe).catch(ls);return}c=fe;const We=l.value;qi&&MC(em(We.fullPath,Y.delta),el()),H(fe,We).catch(Oe=>rn(Oe,12)?Oe:rn(Oe,2)?(q(Oe.to,fe).then(Pe=>{rn(Pe,20)&&!Y.delta&&Y.type===Ss.pop&&r.go(-1,!1)}).catch(ls),Promise.reject()):(Y.delta&&r.go(-Y.delta,!1),ge(Oe,fe,We))).then(Oe=>{Oe=Oe||X(fe,We,!1),Oe&&(Y.delta&&!rn(Oe,8)?r.go(-Y.delta,!1):Y.type===Ss.pop&&rn(Oe,20)&&r.go(-1,!1)),V(fe,We,Oe)}).catch(ls)}))}let pe=Ba(),xe=Ba(),de;function ge(M,re,Y){Be(M);const fe=xe.list();return fe.length?fe.forEach(we=>we(M,re,Y)):console.error(M),Promise.reject(M)}function Te(){return de&&l.value!==kn?Promise.resolve():new Promise((M,re)=>{pe.add([M,re])})}function Be(M){return de||(de=!M,ee(),pe.list().forEach(([re,Y])=>M?Y(M):re()),pe.reset()),M}function Re(M,re,Y,fe){const{scrollBehavior:we}=n;if(!qi||!we)return Promise.resolve();const We=!Y&&FC(em(M.fullPath,0))||(fe||!Y)&&history.state&&history.state.scroll||null;return kr().then(()=>we(M,re,We)).then(Oe=>Oe&&RC(Oe)).catch(Oe=>ge(Oe,M,re))}const Lt=M=>r.go(M);let Qe;const tt=new Set,Rt={currentRoute:l,listening:!0,addRoute:y,removeRoute:T,hasRoute:S,getRoutes:x,resolve:C,options:n,push:R,replace:O,go:Lt,back:()=>Lt(-1),forward:()=>Lt(1),beforeEach:s.add,beforeResolve:o.add,afterEach:u.add,onError:xe.add,isReady:Te,install(M){const re=this;M.component("RouterLink",_w),M.component("RouterView",Sw),M.config.globalProperties.$router=re,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>cn(l)}),qi&&!Qe&&l.value===kn&&(Qe=!0,R(r.location).catch(we=>{}));const Y={};for(const we in kn)Y[we]=qe(()=>l.value[we]);M.provide(lf,re),M.provide(I0,Nr(Y)),M.provide(id,l);const fe=M.unmount;tt.add(M),M.unmount=function(){tt.delete(M),tt.size<1&&(c=kn,$&&$(),$=null,l.value=kn,Qe=!1,de=!1),fe()}}};return Rt}function ki(n){return n.reduce((t,i)=>t.then(()=>i()),Promise.resolve())}function Cw(n,t){const i=[],a=[],r=[],s=Math.max(t.matched.length,n.matched.length);for(let o=0;o<s;o++){const u=t.matched[o];u&&(n.matched.find(c=>ra(c,u))?a.push(u):i.push(u));const l=n.matched[o];l&&(t.matched.find(c=>ra(c,l))||r.push(l))}return[i,a,r]}function lu(){}const dt=Object.assign,cf=typeof window<"u";function pm(n,t){const i=t.split(".");let a=n;return i.forEach(r=>{var s;a=(s=a[r])!=null?s:""}),a}function cu(n,t,i){return t.reduce((a,r)=>((!i||n[r]!==void 0)&&(a[r]=n[r]),a),{})}const mm=n=>Array.isArray(n)?n:[n],dn=null,it=[Number,String],At={type:Boolean,default:!0},ww=n=>({type:Number,default:n}),Pw=n=>({type:it,default:n}),st=n=>({type:String,default:n});var tl=typeof window<"u";function ad(n){return tl?requestAnimationFrame(n):-1}function Aw(n){ad(()=>ad(n))}var kw=n=>n===window,gm=(n,t)=>({top:0,left:0,right:n,bottom:t,width:n,height:t}),Iw=n=>{const t=cn(n);if(kw(t)){const i=t.innerWidth,a=t.innerHeight;return gm(i,a)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():gm(0,0)};function df(n){const t=Lr(n,null);if(t){const i=bi(),{link:a,unlink:r,internalChildren:s}=t;a(i),Bs(()=>r(i));const o=qe(()=>s.indexOf(i));return{parent:t,index:o}}return{parent:null,index:Ke(-1)}}function Ow(n){const t=[],i=a=>{Array.isArray(a)&&a.forEach(r=>{var s;ou(r)&&(t.push(r),(s=r.component)!=null&&s.subTree&&(t.push(r.component.subTree),i(r.component.subTree.children)),r.children&&i(r.children))})};return i(n),t}function Dw(n,t,i){const a=Ow(n.subTree.children);i.sort((s,o)=>a.indexOf(s.vnode)-a.indexOf(o.vnode));const r=i.map(s=>s.proxy);t.sort((s,o)=>{const u=r.indexOf(s),l=r.indexOf(o);return u-l})}function O0(n){const t=Nr([]),i=Nr([]),a=bi();return{children:t,linkChildren:s=>{Nn(n,Object.assign({link:l=>{l.proxy&&(i.push(l),t.push(l.proxy),Dw(a,t,i))},unlink:l=>{const c=i.indexOf(l);t.splice(c,1),i.splice(c,1)},children:t,internalChildren:i},s))}}}function D0(n){let t;$n(()=>{n(),kr(()=>{t=!0})}),ef(()=>{t&&n()})}function Lw(n,t,i={}){if(!tl)return;const{target:a=window,passive:r=!1,capture:s=!1}=i;let o;const u=c=>{const d=cn(c);d&&!o&&(d.addEventListener(n,t,{capture:s,passive:r}),o=!0)},l=c=>{const d=cn(c);d&&o&&(d.removeEventListener(n,t,s),o=!1)};Bs(()=>l(a)),Ku(()=>l(a)),D0(()=>u(a)),Pt(a)&&It(a,(c,d)=>{l(d),u(c)})}var Ao,Yl;function Rw(){if(!Ao&&(Ao=Ke(0),Yl=Ke(0),tl)){const n=()=>{Ao.value=window.innerWidth,Yl.value=window.innerHeight};n(),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("orientationchange",n,{passive:!0})}return{width:Ao,height:Yl}}var Mw=/scroll|auto|overlay/i,Fw=tl?window:void 0;function Nw(n){return n.tagName!=="HTML"&&n.tagName!=="BODY"&&n.nodeType===1}function Bw(n,t=Fw){let i=n;for(;i&&i!==t&&Nw(i);){const{overflowY:a}=window.getComputedStyle(i);if(Mw.test(a))return i;i=i.parentNode}return t}var Uw=Symbol("van-field");const Qt=n=>n!=null,Es=n=>typeof n=="function",rl=n=>n!==null&&typeof n=="object",L0=n=>rl(n)&&Es(n.then)&&Es(n.catch),R0=n=>typeof n=="number"||/^\d+(\.\d+)?$/.test(n),jw=()=>cf?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function vm(n,t){"scrollTop"in n?n.scrollTop=t:n.scrollTo(n.scrollX,t)}function M0(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function F0(n){vm(window,n),vm(document.body,n)}const Hw=jw();function Vw(){Hw&&F0(M0())}const $w=n=>n.stopPropagation();function Cs(n,t){(typeof n.cancelable!="boolean"||n.cancelable)&&n.preventDefault(),t&&$w(n)}Rw();function Or(n){if(Qt(n))return R0(n)?`${n}px`:String(n)}function qw(n){if(Qt(n)){if(Array.isArray(n))return{width:Or(n[0]),height:Or(n[1])};const t=Or(n);return{width:t,height:t}}}function N0(n){const t={};return n!==void 0&&(t.zIndex=+n),t}const Ww=/-(\w)/g,B0=n=>n.replace(Ww,(t,i)=>i.toUpperCase()),zw=n=>n.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function ym(n,t,i){const a=n.indexOf(t);return a===-1?n:t==="-"&&a!==0?n.slice(0,a):n.slice(0,a+1)+n.slice(a).replace(i,"")}function Gw(n,t=!0,i=!0){t?n=ym(n,".",/\./g):n=n.split(".")[0],i?n=ym(n,"-",/-/g):n=n.replace(/-/,"");const a=t?/[^-0-9.]/g:/[^-0-9]/g;return n.replace(a,"")}const{hasOwnProperty:Kw}=Object.prototype;function Xw(n,t,i){const a=t[i];!Qt(a)||(!Kw.call(n,i)||!rl(a)?n[i]=a:n[i]=U0(Object(n[i]),a))}function U0(n,t){return Object.keys(t).forEach(i=>{Xw(n,t,i)}),n}var Yw={name:"\u59D3\u540D",tel:"\u7535\u8BDD",save:"\u4FDD\u5B58",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",loading:"\u52A0\u8F7D\u4E2D...",noCoupon:"\u6682\u65E0\u4F18\u60E0\u5238",nameEmpty:"\u8BF7\u586B\u5199\u59D3\u540D",addContact:"\u6DFB\u52A0\u8054\u7CFB\u4EBA",telInvalid:"\u8BF7\u586B\u5199\u6B63\u786E\u7684\u7535\u8BDD",vanCalendar:{end:"\u7ED3\u675F",start:"\u5F00\u59CB",title:"\u65E5\u671F\u9009\u62E9",weekdays:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],monthTitle:(n,t)=>`${n}\u5E74${t}\u6708`,rangePrompt:n=>`\u6700\u591A\u9009\u62E9 ${n} \u5929`},vanCascader:{select:"\u8BF7\u9009\u62E9"},vanPagination:{prev:"\u4E0A\u4E00\u9875",next:"\u4E0B\u4E00\u9875"},vanPullRefresh:{pulling:"\u4E0B\u62C9\u5373\u53EF\u5237\u65B0...",loosing:"\u91CA\u653E\u5373\u53EF\u5237\u65B0..."},vanSubmitBar:{label:"\u5408\u8BA1:"},vanCoupon:{unlimited:"\u65E0\u95E8\u69DB",discount:n=>`${n}\u6298`,condition:n=>`\u6EE1${n}\u5143\u53EF\u7528`},vanCouponCell:{title:"\u4F18\u60E0\u5238",count:n=>`${n}\u5F20\u53EF\u7528`},vanCouponList:{exchange:"\u5151\u6362",close:"\u4E0D\u4F7F\u7528",enable:"\u53EF\u7528",disabled:"\u4E0D\u53EF\u7528",placeholder:"\u8F93\u5165\u4F18\u60E0\u7801"},vanAddressEdit:{area:"\u5730\u533A",postal:"\u90AE\u653F\u7F16\u7801",areaEmpty:"\u8BF7\u9009\u62E9\u5730\u533A",addressEmpty:"\u8BF7\u586B\u5199\u8BE6\u7EC6\u5730\u5740",postalEmpty:"\u90AE\u653F\u7F16\u7801\u4E0D\u6B63\u786E",addressDetail:"\u8BE6\u7EC6\u5730\u5740",defaultAddress:"\u8BBE\u4E3A\u9ED8\u8BA4\u6536\u8D27\u5730\u5740"},vanAddressList:{add:"\u65B0\u589E\u5730\u5740"}};const _m=Ke("zh-CN"),Tm=Nr({"zh-CN":Yw}),Qw={messages(){return Tm[_m.value]},use(n,t){_m.value=n,this.add({[n]:t})},add(n={}){U0(Tm,n)}};var Jw=Qw;function Zw(n){const t=B0(n)+".";return(i,...a)=>{const r=Jw.messages(),s=pm(r,t+i)||pm(r,i);return Es(s)?s(...a):s}}function sd(n,t){return t?typeof t=="string"?` ${n}--${t}`:Array.isArray(t)?t.reduce((i,a)=>i+sd(n,a),""):Object.keys(t).reduce((i,a)=>i+(t[a]?sd(n,a):""),""):""}function eP(n){return(t,i)=>(t&&typeof t!="string"&&(i=t,t=""),t=t?`${n}__${t}`:n,`${t}${sd(t,i)}`)}function mt(n){const t=`van-${n}`;return[t,eP(t),Zw(t)]}const Us="van-hairline",tP=`${Us}--top`,rP=`${Us}--left`,nP=`${Us}--bottom`,iP=`${Us}--surround`,j0=`${Us}--top-bottom`,od="van-haptics-feedback",aP=Symbol("van-form");function H0(n,{args:t=[],done:i,canceled:a}){if(n){const r=n.apply(null,t);L0(r)?r.then(s=>{s?i():a&&a()}).catch(lu):r?i():a&&a()}else i()}function Et(n){return n.install=t=>{const{name:i}=n;t.component(i,n),t.component(B0(`-${i}`),n)},n}const V0=Symbol();function sP(n){const t=Lr(V0,null);t&&It(t,i=>{i&&n()})}const oP=(n,t)=>{const i=Ke(),a=()=>{i.value=Iw(n).height};return $n(()=>{if(kr(a),t)for(let r=1;r<=3;r++)setTimeout(a,100*r)}),sP(()=>kr(a)),i};function $0(n,t){const i=oP(n,!0);return a=>K("div",{class:t("placeholder"),style:{height:i.value?`${i.value}px`:void 0}},[a()])}const[q0,bm]=mt("action-bar"),W0=Symbol(q0),uP={placeholder:Boolean,safeAreaInsetBottom:At};var lP=ot({name:q0,props:uP,setup(n,{slots:t}){const i=Ke(),a=$0(i,bm),{linkChildren:r}=O0(W0);r();const s=()=>{var o;return K("div",{ref:i,class:[bm(),{"van-safe-area-bottom":n.safeAreaInsetBottom}]},[(o=t.default)==null?void 0:o.call(t)])};return()=>n.placeholder?a(s):s()}});const cP=Et(lP);function _a(n){const t=bi();t&&dt(t.proxy,n)}const ff={to:[String,Object],url:String,replace:Boolean};function dP({to:n,url:t,replace:i,$router:a}){n&&a?a[i?"replace":"push"](n):t&&(i?location.replace(t):location.href=t)}function hf(){const n=bi().proxy;return()=>dP(n)}const[fP,xm]=mt("badge"),hP={dot:Boolean,max:it,tag:st("div"),color:String,offset:Array,content:it,showZero:At,position:st("top-right")};var pP=ot({name:fP,props:hP,setup(n,{slots:t}){const i=()=>{if(t.content)return!0;const{content:o,showZero:u}=n;return Qt(o)&&o!==""&&(u||o!==0&&o!=="0")},a=()=>{const{dot:o,max:u,content:l}=n;if(!o&&i())return t.content?t.content():Qt(u)&&R0(l)&&+l>u?`${u}+`:l},r=qe(()=>{const o={background:n.color};if(n.offset){const[u,l]=n.offset;t.default?(o.top=Or(l),typeof u=="number"?o.right=Or(-u):o.right=u.startsWith("-")?u.replace("-",""):`-${u}`):(o.marginTop=Or(l),o.marginLeft=Or(u))}return o}),s=()=>{if(i()||n.dot)return K("div",{class:xm([n.position,{dot:n.dot,fixed:!!t.default}]),style:r.value},[a()])};return()=>{if(t.default){const{tag:o}=n;return K(o,{class:xm("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const mP=Et(pP);let z0=2e3;const gP=()=>++z0,vP=n=>{z0=n},[G0,yP]=mt("config-provider"),K0=Symbol(G0),_P={tag:st("div"),zIndex:Number,themeVars:Object,iconPrefix:String};function TP(n){const t={};return Object.keys(n).forEach(i=>{t[`--van-${zw(i)}`]=n[i]}),t}ot({name:G0,props:_P,setup(n,{slots:t}){const i=qe(()=>{if(n.themeVars)return TP(n.themeVars)});return Nn(K0,n),GS(()=>{n.zIndex!==void 0&&vP(n.zIndex)}),()=>K(n.tag,{class:yP(),style:i.value},{default:()=>{var a;return[(a=t.default)==null?void 0:a.call(t)]}})}});const[bP,Sm]=mt("icon"),xP=n=>n==null?void 0:n.includes("/"),SP={dot:Boolean,tag:st("i"),name:String,size:it,badge:it,color:String,badgeProps:Object,classPrefix:String};var EP=ot({name:bP,props:SP,setup(n,{slots:t}){const i=Lr(K0,null),a=qe(()=>n.classPrefix||(i==null?void 0:i.iconPrefix)||Sm());return()=>{const{tag:r,dot:s,name:o,size:u,badge:l,color:c}=n,d=xP(o);return K(mP,Zr({dot:s,tag:r,class:[a.value,d?"":`${a.value}-${o}`],style:{color:c,fontSize:Or(u)},content:l},n.badgeProps),{default:()=>{var p;return[(p=t.default)==null?void 0:p.call(t),d&&K("img",{class:Sm("image"),src:o},null)]}})}}});const fn=Et(EP),[CP,ds]=mt("loading"),wP=Array(12).fill(null).map((n,t)=>K("i",{class:ds("line",String(t+1))},null)),PP=K("svg",{class:ds("circular"),viewBox:"25 25 50 50"},[K("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),AP={size:it,type:st("circular"),color:String,vertical:Boolean,textSize:it,textColor:String};var kP=ot({name:CP,props:AP,setup(n,{slots:t}){const i=qe(()=>dt({color:n.color},qw(n.size))),a=()=>{var r;if(t.default)return K("span",{class:ds("text"),style:{fontSize:Or(n.textSize),color:(r=n.textColor)!=null?r:n.color}},[t.default()])};return()=>{const{type:r,vertical:s}=n;return K("div",{class:ds([r,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[K("span",{class:ds("spinner",r),style:i.value},[r==="spinner"?wP:PP]),a()])}}});const X0=Et(kP),[IP,Ii]=mt("button"),OP=dt({},ff,{tag:st("button"),text:String,icon:String,type:st("default"),size:st("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:st("button"),loadingSize:it,loadingText:String,loadingType:String,iconPosition:st("left")});var DP=ot({name:IP,props:OP,emits:["click"],setup(n,{emit:t,slots:i}){const a=hf(),r=()=>i.loading?i.loading():K(X0,{size:n.loadingSize,type:n.loadingType,class:Ii("loading")},null),s=()=>{if(n.loading)return r();if(i.icon)return K("div",{class:Ii("icon")},[i.icon()]);if(n.icon)return K(fn,{name:n.icon,class:Ii("icon"),classPrefix:n.iconPrefix},null)},o=()=>{let c;if(n.loading?c=n.loadingText:c=i.default?i.default():n.text,c)return K("span",{class:Ii("text")},[c])},u=()=>{const{color:c,plain:d}=n;if(c){const p={color:d?c:"white"};return d||(p.background=c),c.includes("gradient")?p.border=0:p.borderColor=c,p}},l=c=>{n.loading?Cs(c):n.disabled||(t("click",c),a())};return()=>{const{tag:c,type:d,size:p,block:f,round:y,plain:T,square:x,loading:S,disabled:C,hairline:A,nativeType:j,iconPosition:R}=n,O=[Ii([d,p,{plain:T,block:f,round:y,square:x,loading:S,disabled:C,hairline:A}]),{[iP]:A}];return K(c,{type:j,class:O,style:u(),disabled:C,onClick:l},{default:()=>[K("div",{class:Ii("content")},[R==="left"&&s(),o(),R==="right"&&s()])]})}}});const du=Et(DP),[LP,RP]=mt("action-bar-button"),MP=dt({},ff,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var FP=ot({name:LP,props:MP,setup(n,{slots:t}){const i=hf(),{parent:a,index:r}=df(W0),s=qe(()=>{if(a){const u=a.children[r.value-1];return!(u&&"isButton"in u)}}),o=qe(()=>{if(a){const u=a.children[r.value+1];return!(u&&"isButton"in u)}});return _a({isButton:!0}),()=>{const{type:u,icon:l,text:c,color:d,loading:p,disabled:f}=n;return K(du,{class:RP([u,{last:o.value,first:s.value}]),size:"large",type:u,icon:l,color:d,loading:p,disabled:f,onClick:i},{default:()=>[t.default?t.default():c]})}}});const Em=Et(FP),pf={show:Boolean,zIndex:it,overlay:At,duration:it,teleport:[String,Object],lockScroll:At,lazyRender:At,beforeClose:Function,overlayStyle:Object,overlayClass:dn,transitionAppear:Boolean,closeOnClickOverlay:At},NP=Object.keys(pf);function BP(n,t){return n>t?"horizontal":t>n?"vertical":""}function UP(){const n=Ke(0),t=Ke(0),i=Ke(0),a=Ke(0),r=Ke(0),s=Ke(0),o=Ke(""),u=()=>o.value==="vertical",l=()=>o.value==="horizontal",c=()=>{i.value=0,a.value=0,r.value=0,s.value=0,o.value=""};return{move:f=>{const y=f.touches[0];i.value=(y.clientX<0?0:y.clientX)-n.value,a.value=y.clientY-t.value,r.value=Math.abs(i.value),s.value=Math.abs(a.value);const T=10;(!o.value||r.value<T&&s.value<T)&&(o.value=BP(r.value,s.value))},start:f=>{c(),n.value=f.touches[0].clientX,t.value=f.touches[0].clientY},reset:c,startX:n,startY:t,deltaX:i,deltaY:a,offsetX:r,offsetY:s,direction:o,isVertical:u,isHorizontal:l}}let Ua=0;const Cm="van-overflow-hidden";function jP(n,t){const i=UP(),a="01",r="10",s=d=>{i.move(d);const p=i.deltaY.value>0?r:a,f=Bw(d.target,n.value),{scrollHeight:y,offsetHeight:T,scrollTop:x}=f;let S="11";x===0?S=T>=y?"00":"01":x+T>=y&&(S="10"),S!=="11"&&i.isVertical()&&!(parseInt(S,2)&parseInt(p,2))&&Cs(d,!0)},o=()=>{document.addEventListener("touchstart",i.start),document.addEventListener("touchmove",s,{passive:!1}),Ua||document.body.classList.add(Cm),Ua++},u=()=>{Ua&&(document.removeEventListener("touchstart",i.start),document.removeEventListener("touchmove",s),Ua--,Ua||document.body.classList.remove(Cm))},l=()=>t()&&o(),c=()=>t()&&u();D0(l),Ku(c),Yu(c),It(t,d=>{d?o():u()})}function mf(n){const t=Ke(!1);return It(n,i=>{i&&(t.value=i)},{immediate:!0}),i=>()=>t.value?i():null}const[HP,VP]=mt("overlay"),$P={show:Boolean,zIndex:it,duration:it,className:dn,lockScroll:At,lazyRender:At,customStyle:Object};var qP=ot({name:HP,props:$P,setup(n,{slots:t}){const i=mf(()=>n.show||!n.lazyRender),a=s=>{Cs(s,!0)},r=i(()=>{var s;const o=dt(N0(n.zIndex),n.customStyle);return Qt(n.duration)&&(o.animationDuration=`${n.duration}s`),tf(K("div",{style:o,class:[VP(),n.className],onTouchmove:n.lockScroll?a:lu},[(s=t.default)==null?void 0:s.call(t)]),[[of,n.show]])});return()=>K(Zu,{name:"van-fade",appear:!0},{default:r})}});const WP=Et(qP),zP=dt({},pf,{round:Boolean,position:st("center"),closeIcon:st("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:st("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[GP,wm]=mt("popup");var KP=ot({name:GP,inheritAttrs:!1,props:zP,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(n,{emit:t,attrs:i,slots:a}){let r,s;const o=Ke(),u=Ke(),l=mf(()=>n.show||!n.lazyRender),c=qe(()=>{const O={zIndex:o.value};if(Qt(n.duration)){const W=n.position==="center"?"animationDuration":"transitionDuration";O[W]=`${n.duration}s`}return O}),d=()=>{r||(r=!0,o.value=n.zIndex!==void 0?+n.zIndex:gP(),t("open"))},p=()=>{r&&H0(n.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},f=O=>{t("click-overlay",O),n.closeOnClickOverlay&&p()},y=()=>{if(n.overlay)return K(WP,{show:n.show,class:n.overlayClass,zIndex:o.value,duration:n.duration,customStyle:n.overlayStyle,role:n.closeOnClickOverlay?"button":void 0,tabindex:n.closeOnClickOverlay?0:void 0,onClick:f},{default:a["overlay-content"]})},T=O=>{t("click-close-icon",O),p()},x=()=>{if(n.closeable)return K(fn,{role:"button",tabindex:0,name:n.closeIcon,class:[wm("close-icon",n.closeIconPosition),od],classPrefix:n.iconPrefix,onClick:T},null)},S=()=>t("opened"),C=()=>t("closed"),A=O=>t("keydown",O),j=l(()=>{var O;const{round:W,position:q,safeAreaInsetTop:U,safeAreaInsetBottom:H}=n;return tf(K("div",Zr({ref:u,style:c.value,role:"dialog",tabindex:0,class:[wm({round:W,[q]:q}),{"van-safe-area-top":U,"van-safe-area-bottom":H}],onKeydown:A},i),[(O=a.default)==null?void 0:O.call(a),x()]),[[of,n.show]])}),R=()=>{const{position:O,transition:W,transitionAppear:q}=n,U=O==="center"?"van-fade":`van-popup-slide-${O}`;return K(Zu,{name:W||U,appear:q,onAfterEnter:S,onAfterLeave:C},{default:j})};return It(()=>n.show,O=>{O&&!r&&(d(),i.tabindex===0&&kr(()=>{var W;(W=u.value)==null||W.focus()})),!O&&r&&(r=!1,t("close"))}),_a({popupRef:u}),jP(u,()=>n.show&&n.lockScroll),Lw("popstate",()=>{n.closeOnPopstate&&(p(),s=!1)}),$n(()=>{n.show&&d()}),ef(()=>{s&&(t("update:show",!0),s=!1)}),Ku(()=>{n.show&&n.teleport&&(p(),s=!0)}),Nn(V0,()=>n.show),()=>n.teleport?K(AE,{to:n.teleport},{default:()=>[y(),R()]}):K(Wt,null,[y(),R()])}});const Y0=Et(KP),[XP,Oi]=mt("cell"),nl={icon:String,size:String,title:it,value:it,label:it,center:Boolean,isLink:Boolean,border:At,required:Boolean,iconPrefix:String,valueClass:dn,labelClass:dn,titleClass:dn,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},YP=dt({},nl,ff);var QP=ot({name:XP,props:YP,setup(n,{slots:t}){const i=hf(),a=()=>{if(t.label||Qt(n.label))return K("div",{class:[Oi("label"),n.labelClass]},[t.label?t.label():n.label])},r=()=>{if(t.title||Qt(n.title))return K("div",{class:[Oi("title"),n.titleClass],style:n.titleStyle},[t.title?t.title():K("span",null,[n.title]),a()])},s=()=>{const l=t.value||t.default;if(l||Qt(n.value)){const d=t.title||Qt(n.title);return K("div",{class:[Oi("value",{alone:!d}),n.valueClass]},[l?l():K("span",null,[n.value])])}},o=()=>{if(t.icon)return t.icon();if(n.icon)return K(fn,{name:n.icon,class:Oi("left-icon"),classPrefix:n.iconPrefix},null)},u=()=>{if(t["right-icon"])return t["right-icon"]();if(n.isLink){const l=n.arrowDirection?`arrow-${n.arrowDirection}`:"arrow";return K(fn,{name:l,class:Oi("right-icon")},null)}};return()=>{var l,c;const{size:d,center:p,border:f,isLink:y,required:T}=n,x=(l=n.clickable)!=null?l:y,S={center:p,required:T,clickable:x,borderless:!f};return d&&(S[d]=!!d),K("div",{class:Oi(S),role:x?"button":void 0,tabindex:x?0:void 0,onClick:i},[o(),r(),s(),u(),(c=t.extra)==null?void 0:c.call(t)])}}});const gf=Et(QP);function Q0(n){return Array.isArray(n)?!n.length:n===0?!1:!n}function JP(n,t){if(Q0(n)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(n)))}function ZP(n,t){return new Promise(i=>{const a=t.validator(n,t);if(L0(a)){a.then(i);return}i(a)})}function Pm(n,t){const{message:i}=t;return Es(i)?i(n,t):i||""}function eA({target:n}){n.composing=!0}function Am({target:n}){n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}function tA(n,t){const i=M0();n.style.height="auto";let a=n.scrollHeight;if(rl(t)){const{maxHeight:r,minHeight:s}=t;r!==void 0&&(a=Math.min(a,r)),s!==void 0&&(a=Math.max(a,s))}a&&(n.style.height=`${a}px`,F0(i))}function rA(n){return n==="number"?{type:"text",inputmode:"decimal"}:n==="digit"?{type:"tel",inputmode:"numeric"}:{type:n}}function Ql(n){return[...n].length}function nA(n,t){return[...n].slice(0,t).join("")}let iA=0;function aA(){const n=bi(),{name:t="unknown"}=(n==null?void 0:n.type)||{};return`${t}-${++iA}`}const[sA,gr]=mt("field"),oA={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:it,formatter:Function,clearIcon:st("clear"),modelValue:Pw(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:st("focus"),formatTrigger:st("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},uA=dt({},nl,oA,{rows:it,type:st("text"),rules:Array,autosize:[Boolean,Object],labelWidth:it,labelClass:dn,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var lA=ot({name:sA,props:uA,emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(n,{emit:t,slots:i}){const a=aA(),r=Nr({status:"unvalidated",focused:!1,validateMessage:""}),s=Ke(),o=Ke(),{parent:u}=df(aP),l=()=>{var M;return String((M=n.modelValue)!=null?M:"")},c=M=>{if(Qt(n[M]))return n[M];if(u&&Qt(u.props[M]))return u.props[M]},d=qe(()=>{const M=c("readonly");if(n.clearable&&!M){const re=l()!=="",Y=n.clearTrigger==="always"||n.clearTrigger==="focus"&&r.focused;return re&&Y}return!1}),p=qe(()=>o.value&&i.input?o.value():n.modelValue),f=M=>M.reduce((re,Y)=>re.then(()=>{if(r.status==="failed")return;let{value:fe}=p;if(Y.formatter&&(fe=Y.formatter(fe,Y)),!JP(fe,Y)){r.status="failed",r.validateMessage=Pm(fe,Y);return}if(Y.validator)return Q0(fe)&&Y.validateEmpty===!1?void 0:ZP(fe,Y).then(we=>{we&&typeof we=="string"?(r.status="failed",r.validateMessage=we):we===!1&&(r.status="failed",r.validateMessage=Pm(fe,Y))})}),Promise.resolve()),y=()=>{r.status="unvalidated",r.validateMessage=""},T=()=>t("end-validate",{status:r.status}),x=(M=n.rules)=>new Promise(re=>{y(),M?(t("start-validate"),f(M).then(()=>{r.status==="failed"?(re({name:n.name,message:r.validateMessage}),T()):(r.status="passed",re(),T())})):re()}),S=M=>{if(u&&n.rules){const{validateTrigger:re}=u.props,Y=mm(re).includes(M),fe=n.rules.filter(we=>we.trigger?mm(we.trigger).includes(M):Y);fe.length&&x(fe)}},C=M=>{const{maxlength:re}=n;if(Qt(re)&&Ql(M)>re){const Y=l();return Y&&Ql(Y)===+re?Y:nA(M,+re)}return M},A=(M,re="onChange")=>{if(M=C(M),n.type==="number"||n.type==="digit"){const Y=n.type==="number";M=Gw(M,Y,Y)}n.formatter&&re===n.formatTrigger&&(M=n.formatter(M)),s.value&&s.value.value!==M&&(s.value.value=M),M!==n.modelValue&&t("update:modelValue",M)},j=M=>{M.target.composing||A(M.target.value)},R=()=>{var M;return(M=s.value)==null?void 0:M.blur()},O=()=>{var M;return(M=s.value)==null?void 0:M.focus()},W=()=>{const M=s.value;n.type==="textarea"&&n.autosize&&M&&tA(M,n.autosize)},q=M=>{r.focused=!0,t("focus",M),kr(W),c("readonly")&&R()},U=M=>{c("readonly")||(r.focused=!1,A(l(),"onBlur"),t("blur",M),S("onBlur"),kr(W),Vw())},H=M=>t("click-input",M),V=M=>t("click-left-icon",M),X=M=>t("click-right-icon",M),$=M=>{Cs(M),t("update:modelValue",""),t("clear",M)},ee=qe(()=>{if(typeof n.error=="boolean")return n.error;if(u&&u.props.showError&&r.status==="failed")return!0}),pe=qe(()=>{const M=c("labelWidth");if(M)return{width:Or(M)}}),xe=M=>{M.keyCode===13&&(!(u&&u.props.submitOnEnter)&&n.type!=="textarea"&&Cs(M),n.type==="search"&&R()),t("keypress",M)},de=()=>n.id||`${a}-input`,ge=()=>r.status,Te=()=>{const M=gr("control",[c("inputAlign"),{error:ee.value,custom:!!i.input,"min-height":n.type==="textarea"&&!n.autosize}]);if(i.input)return K("div",{class:M,onClick:H},[i.input()]);const re={id:de(),ref:s,name:n.name,rows:n.rows!==void 0?+n.rows:void 0,class:M,disabled:c("disabled"),readonly:c("readonly"),autofocus:n.autofocus,placeholder:n.placeholder,autocomplete:n.autocomplete,enterkeyhint:n.enterkeyhint,"aria-labelledby":n.label?`${a}-label`:void 0,onBlur:U,onFocus:q,onInput:j,onClick:H,onChange:Am,onKeypress:xe,onCompositionend:Am,onCompositionstart:eA};return n.type==="textarea"?K("textarea",re,null):K("input",Zr(rA(n.type),re),null)},Be=()=>{const M=i["left-icon"];if(n.leftIcon||M)return K("div",{class:gr("left-icon"),onClick:V},[M?M():K(fn,{name:n.leftIcon,classPrefix:n.iconPrefix},null)])},Re=()=>{const M=i["right-icon"];if(n.rightIcon||M)return K("div",{class:gr("right-icon"),onClick:X},[M?M():K(fn,{name:n.rightIcon,classPrefix:n.iconPrefix},null)])},Lt=()=>{if(n.showWordLimit&&n.maxlength){const M=Ql(l());return K("div",{class:gr("word-limit")},[K("span",{class:gr("word-num")},[M]),qn("/"),n.maxlength])}},Qe=()=>{if(u&&u.props.showErrorMessage===!1)return;const M=n.errorMessage||r.validateMessage;if(M){const re=i["error-message"],Y=c("errorMessageAlign");return K("div",{class:gr("error-message",Y)},[re?re({message:M}):M])}},tt=()=>{const M=c("colon")?":":"";if(i.label)return[i.label(),M];if(n.label)return K("label",{id:`${a}-label`,for:de()},[n.label+M])},Rt=()=>[K("div",{class:gr("body")},[Te(),d.value&&K(fn,{name:n.clearIcon,class:gr("clear"),onTouchstart:$},null),Re(),i.button&&K("div",{class:gr("button")},[i.button()])]),Lt(),Qe()];return _a({blur:R,focus:O,validate:x,formValue:p,resetValidation:y,getValidationStatus:ge}),Nn(Uw,{customValue:o,resetValidation:y,validateWithTrigger:S}),It(()=>n.modelValue,()=>{A(l()),y(),S("onChange"),kr(W)}),$n(()=>{A(l(),n.formatTrigger),kr(W)}),()=>{const M=c("disabled"),re=c("labelAlign"),Y=tt(),fe=Be();return K(gf,{size:n.size,icon:n.leftIcon,class:gr({error:ee.value,disabled:M,[`label-${re}`]:re}),center:n.center,border:n.border,isLink:n.isLink,clickable:n.clickable,titleStyle:pe.value,valueClass:gr("value"),titleClass:[gr("label",[re,{required:n.required}]),n.labelClass],arrowDirection:n.arrowDirection},{icon:fe?()=>fe:null,title:Y?()=>Y:null,value:Rt,extra:i.extra})}}});const cA=Et(lA);function J0(){const n=Nr({show:!1}),t=r=>{n.show=r},i=r=>{dt(n,r,{transitionAppear:!0}),t(!0)},a=()=>t(!1);return _a({open:i,close:a,toggle:t}),{open:i,close:a,state:n,toggle:t}}function Z0(n){const t=y0(n),i=document.createElement("div");return document.body.appendChild(i),{instance:t.mount(i),unmount(){t.unmount(),document.body.removeChild(i)}}}let ja=0;function dA(n){n?(ja||document.body.classList.add("van-toast--unclickable"),ja++):ja&&(ja--,ja||document.body.classList.remove("van-toast--unclickable"))}const[fA,Ha]=mt("toast"),hA=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],pA={icon:String,show:Boolean,type:st("text"),overlay:Boolean,message:it,iconSize:it,duration:ww(2e3),position:st("middle"),teleport:[String,Object],className:dn,iconPrefix:String,transition:st("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:dn,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var ey=ot({name:fA,props:pA,emits:["update:show"],setup(n,{emit:t}){let i,a=!1;const r=()=>{const d=n.show&&n.forbidClick;a!==d&&(a=d,dA(a))},s=d=>t("update:show",d),o=()=>{n.closeOnClick&&s(!1)},u=()=>clearTimeout(i),l=()=>{const{icon:d,type:p,iconSize:f,iconPrefix:y,loadingType:T}=n;if(d||p==="success"||p==="fail")return K(fn,{name:d||p,size:f,class:Ha("icon"),classPrefix:y},null);if(p==="loading")return K(X0,{class:Ha("loading"),size:f,type:T},null)},c=()=>{const{type:d,message:p}=n;if(Qt(p)&&p!=="")return d==="html"?K("div",{key:0,class:Ha("text"),innerHTML:String(p)},null):K("div",{class:Ha("text")},[p])};return It(()=>[n.show,n.forbidClick],r),It(()=>[n.show,n.type,n.message,n.duration],()=>{u(),n.show&&n.duration>0&&(i=setTimeout(()=>{s(!1)},n.duration))}),$n(r),Bs(r),()=>K(Y0,Zr({class:[Ha([n.position,{[n.type]:!n.icon}]),n.className],lockScroll:!1,onClick:o,onClosed:u,"onUpdate:show":s},cu(n,hA)),{default:()=>[l(),c()]})}});const ty={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Ar=[],il=!1,fu=dt({},ty);const hu=new Map;function ry(n){return rl(n)?n:{message:n}}function mA(){const{instance:n,unmount:t}=Z0({setup(){const i=Ke(""),{open:a,state:r,close:s,toggle:o}=J0(),u=()=>{il&&(Ar=Ar.filter(c=>c!==n),t())},l=()=>K(ey,Zr(r,{onClosed:u,"onUpdate:show":o}),null);return It(i,c=>{r.message=c}),bi().render=l,{open:a,clear:s,message:i}}});return n}function gA(){if(!Ar.length||il){const n=mA();Ar.push(n)}return Ar[Ar.length-1]}function rr(n={}){if(!cf)return{};const t=gA(),i=ry(n);return t.open(dt({},fu,hu.get(i.type||fu.type),i)),t}const vf=n=>t=>rr(dt({type:n},ry(t)));rr.loading=vf("loading");rr.success=vf("success");rr.fail=vf("fail");rr.clear=n=>{var t;Ar.length&&(n?(Ar.forEach(i=>{i.clear()}),Ar=[]):il?(t=Ar.shift())==null||t.clear():Ar[0].clear())};function vA(n,t){typeof n=="string"?hu.set(n,t):dt(fu,n)}rr.setDefaultOptions=vA;rr.resetDefaultOptions=n=>{typeof n=="string"?hu.delete(n):(fu=dt({},ty),hu.clear())};rr.allowMultiple=(n=!0)=>{il=n};rr.install=n=>{n.use(Et(ey)),n.config.globalProperties.$toast=rr};const[yA,km]=mt("cell-group"),_A={title:String,inset:Boolean,border:At};var TA=ot({name:yA,inheritAttrs:!1,props:_A,setup(n,{slots:t,attrs:i}){const a=()=>{var s;return K("div",Zr({class:[km({inset:n.inset}),{[j0]:n.border&&!n.inset}]},i),[(s=t.default)==null?void 0:s.call(t)])},r=()=>K("div",{class:km("title",{inset:n.inset})},[t.title?t.title():n.title]);return()=>n.title||t.title?K(Wt,null,[r(),a()]):a()}});const bA=Et(TA),[ny,xA]=mt("collapse"),iy=Symbol(ny),SA={border:At,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var EA=ot({name:ny,props:SA,emits:["change","update:modelValue"],setup(n,{emit:t,slots:i}){const{linkChildren:a,children:r}=O0(iy),s=c=>{t("change",c),t("update:modelValue",c)},o=(c,d)=>{const{accordion:p,modelValue:f}=n;s(p?c===f?"":c:d?f.concat(c):f.filter(y=>y!==c))},u=(c={})=>{if(n.accordion)return;typeof c=="boolean"&&(c={expanded:c});const{expanded:d,skipDisabled:p}=c,y=r.filter(T=>T.disabled&&p?T.expanded.value:d!=null?d:!T.expanded.value).map(T=>T.itemName.value);s(y)},l=c=>{const{accordion:d,modelValue:p}=n;return d?p===c:p.includes(c)};return _a({toggleAll:u}),a({toggle:o,isExpanded:l}),()=>{var c;return K("div",{class:[xA(),{[j0]:n.border}]},[(c=i.default)==null?void 0:c.call(i)])}}});const CA=Et(EA),[wA,ko]=mt("collapse-item"),PA=["icon","title","value","label","right-icon"],AA=dt({},nl,{name:it,isLink:At,disabled:Boolean,readonly:Boolean,lazyRender:At});var kA=ot({name:wA,props:AA,setup(n,{slots:t}){const i=Ke(),a=Ke(),{parent:r,index:s}=df(iy);if(!r)return;const o=qe(()=>{var x;return(x=n.name)!=null?x:s.value}),u=qe(()=>r.isExpanded(o.value)),l=Ke(u.value),c=mf(()=>l.value||!n.lazyRender),d=()=>{u.value?i.value&&(i.value.style.height=""):l.value=!1};It(u,(x,S)=>{if(S===null)return;x&&(l.value=!0),(x?kr:ad)(()=>{if(!a.value||!i.value)return;const{offsetHeight:A}=a.value;if(A){const j=`${A}px`;i.value.style.height=x?"0":j,Aw(()=>{i.value&&(i.value.style.height=x?j:"0")})}else d()})});const p=(x=!u.value)=>{r.toggle(o.value,x)},f=()=>{!n.disabled&&!n.readonly&&p()},y=()=>{const{border:x,disabled:S,readonly:C}=n,A=cu(n,Object.keys(nl));return C&&(A.isLink=!1),(S||C)&&(A.clickable=!1),K(gf,Zr({role:"button",class:ko("title",{disabled:S,expanded:u.value,borderless:!x}),"aria-expanded":String(u.value),onClick:f},A),cu(t,PA))},T=c(()=>{var x;return tf(K("div",{ref:i,class:ko("wrapper"),onTransitionend:d},[K("div",{ref:a,class:ko("content")},[(x=t.default)==null?void 0:x.call(t)])]),[[of,l.value]])});return _a({toggle:p,expanded:u,itemName:o}),()=>K("div",{class:[ko({border:s.value&&n.border})]},[y(),T()])}});const IA=Et(kA),[OA,Sr,Io]=mt("dialog"),DA=dt({},pf,{title:String,theme:String,width:it,message:[String,Function],callback:Function,allowHtml:Boolean,className:dn,transition:st("van-dialog-bounce"),messageAlign:String,closeOnPopstate:At,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:At,closeOnClickOverlay:Boolean}),LA=[...NP,"transition","closeOnPopstate"];var ay=ot({name:OA,props:DA,emits:["confirm","cancel","keydown","update:show"],setup(n,{emit:t,slots:i}){const a=Ke(),r=Nr({confirm:!1,cancel:!1}),s=C=>t("update:show",C),o=C=>{var A;s(!1),(A=n.callback)==null||A.call(n,C)},u=C=>()=>{!n.show||(t(C),n.beforeClose?(r[C]=!0,H0(n.beforeClose,{args:[C],done(){o(C),r[C]=!1},canceled(){r[C]=!1}})):o(C))},l=u("cancel"),c=u("confirm"),d=hC(C=>{var A,j;if(C.target!==((j=(A=a.value)==null?void 0:A.popupRef)==null?void 0:j.value))return;({Enter:n.showConfirmButton?c:lu,Escape:n.showCancelButton?l:lu})[C.key](),t("keydown",C)},["enter","esc"]),p=()=>{const C=i.title?i.title():n.title;if(C)return K("div",{class:Sr("header",{isolated:!n.message&&!i.default})},[C])},f=C=>{const{message:A,allowHtml:j,messageAlign:R}=n,O=Sr("message",{"has-title":C,[R]:R}),W=Es(A)?A():A;return j&&typeof W=="string"?K("div",{class:O,innerHTML:W},null):K("div",{class:O},[W])},y=()=>{if(i.default)return K("div",{class:Sr("content")},[i.default()]);const{title:C,message:A,allowHtml:j}=n;if(A){const R=!!(C||i.title);return K("div",{key:j?1:0,class:Sr("content",{isolated:!R})},[f(R)])}},T=()=>K("div",{class:[tP,Sr("footer")]},[n.showCancelButton&&K(du,{size:"large",text:n.cancelButtonText||Io("cancel"),class:Sr("cancel"),style:{color:n.cancelButtonColor},loading:r.cancel,disabled:n.cancelButtonDisabled,onClick:l},null),n.showConfirmButton&&K(du,{size:"large",text:n.confirmButtonText||Io("confirm"),class:[Sr("confirm"),{[rP]:n.showCancelButton}],style:{color:n.confirmButtonColor},loading:r.confirm,disabled:n.confirmButtonDisabled,onClick:c},null)]),x=()=>K(cP,{class:Sr("footer")},{default:()=>[n.showCancelButton&&K(Em,{type:"warning",text:n.cancelButtonText||Io("cancel"),class:Sr("cancel"),color:n.cancelButtonColor,loading:r.cancel,disabled:n.cancelButtonDisabled,onClick:l},null),n.showConfirmButton&&K(Em,{type:"danger",text:n.confirmButtonText||Io("confirm"),class:Sr("confirm"),color:n.confirmButtonColor,loading:r.confirm,disabled:n.confirmButtonDisabled,onClick:c},null)]}),S=()=>i.footer?i.footer():n.theme==="round-button"?x():T();return()=>{const{width:C,title:A,theme:j,message:R,className:O}=n;return K(Y0,Zr({ref:a,role:"dialog",class:[Sr([j]),O],style:{width:Or(C)},tabindex:0,"aria-labelledby":A||R,onKeydown:d,"onUpdate:show":s},cu(n,LA)),{default:()=>[p(),y(),S()]})}}});let ws;function RA(){({instance:ws}=Z0({setup(){const{state:t,toggle:i}=J0();return()=>K(ay,Zr(t,{"onUpdate:show":i}),null)}}))}function pt(n){return cf?new Promise((t,i)=>{ws||RA(),ws.open(dt({},pt.currentOptions,n,{callback:a=>{(a==="confirm"?t:i)(a)}}))}):Promise.resolve()}pt.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};pt.currentOptions=dt({},pt.defaultOptions);pt.alert=pt;pt.confirm=n=>pt(dt({showCancelButton:!0},n));pt.close=()=>{ws&&ws.toggle(!1)};pt.setDefaultOptions=n=>{dt(pt.currentOptions,n)};pt.resetDefaultOptions=()=>{pt.currentOptions=dt({},pt.defaultOptions)};pt.Component=Et(ay);pt.install=n=>{n.use(pt.Component),n.config.globalProperties.$dialog=pt};const[MA,FA]=mt("divider"),NA={dashed:Boolean,hairline:At,contentPosition:st("center")};var BA=ot({name:MA,props:NA,setup(n,{slots:t}){return()=>{var i;return K("div",{role:"separator",class:FA({dashed:n.dashed,hairline:n.hairline,[`content-${n.contentPosition}`]:!!t.default})},[(i=t.default)==null?void 0:i.call(t)])}}});const UA=Et(BA),[jA,nn]=mt("nav-bar"),HA={title:String,fixed:Boolean,zIndex:it,border:At,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var VA=ot({name:jA,props:HA,emits:["click-left","click-right"],setup(n,{emit:t,slots:i}){const a=Ke(),r=$0(a,nn),s=d=>t("click-left",d),o=d=>t("click-right",d),u=()=>i.left?i.left():[n.leftArrow&&K(fn,{class:nn("arrow"),name:"arrow-left"},null),n.leftText&&K("span",{class:nn("text")},[n.leftText])],l=()=>i.right?i.right():K("span",{class:nn("text")},[n.rightText]),c=()=>{const{title:d,fixed:p,border:f,zIndex:y}=n,T=N0(y),x=n.leftArrow||n.leftText||i.left,S=n.rightText||i.right;return K("div",{ref:a,style:T,class:[nn({fixed:p}),{[nP]:f,"van-safe-area-top":n.safeAreaInsetTop}]},[K("div",{class:nn("content")},[x&&K("div",{class:[nn("left"),od],onClick:s},[u()]),K("div",{class:[nn("title"),"van-ellipsis"]},[i.title?i.title():d]),S&&K("div",{class:[nn("right"),od],onClick:o},[l()])])])};return()=>n.fixed&&n.placeholder?r(c):c()}});const $A=Et(VA),[Im,qA]=mt("space"),WA={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function sy(n=[]){const t=[];return n.forEach(i=>{Array.isArray(i)?t.push(...i):i.type===Wt?t.push(...sy(i.children)):t.push(i)}),t.filter(i=>{var a;return!(i&&(typeof Comment<"u"&&i.type===Comment||i.type===Wt&&((a=i.children)==null?void 0:a.length)===0||i.type===Text&&i.children.trim()===""))})}var zA=ot({name:Im,props:WA,setup(n,{slots:t}){const i=qe(()=>{var s;return(s=n.align)!=null?s:n.direction==="horizontal"?"center":""}),a=s=>typeof s=="number"?s+"px":s,r=s=>{const o={},u=`${a(Array.isArray(n.size)?n.size[0]:n.size)}`,l=`${a(Array.isArray(n.size)?n.size[1]:n.size)}`;return s?n.wrap?{marginBottom:l}:{}:(n.direction==="horizontal"&&(o.marginRight=u),(n.direction==="vertical"||n.wrap)&&(o.marginBottom=l),o)};return()=>{var s;const o=sy((s=t.default)==null?void 0:s.call(t));return K("div",{class:[qA({[n.direction]:n.direction,[`align-${i.value}`]:i.value,wrap:n.wrap,fill:n.fill})]},[o.map((u,l)=>K("div",{key:`item-${l}`,class:`${Im}-item`,style:r(l===o.length-1)},[u]))])}}});const GA=Et(zA);var pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function oy(n){var t=n.default;if(typeof t=="function"){var i=function(){return t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var r=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(i,a,r.get?r:{enumerable:!0,get:function(){return n[a]}})}),i}var uy={exports:{}},yf={exports:{}},ly=function(t,i){return function(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];return t.apply(i,r)}},XA=ly,_f=Object.prototype.toString,Tf=function(n){return function(t){var i=_f.call(t);return n[i]||(n[i]=i.slice(8,-1).toLowerCase())}}(Object.create(null));function xi(n){return n=n.toLowerCase(),function(i){return Tf(i)===n}}function bf(n){return Array.isArray(n)}function mu(n){return typeof n>"u"}function YA(n){return n!==null&&!mu(n)&&n.constructor!==null&&!mu(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}var cy=xi("ArrayBuffer");function QA(n){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&cy(n.buffer),t}function JA(n){return typeof n=="string"}function ZA(n){return typeof n=="number"}function dy(n){return n!==null&&typeof n=="object"}function Go(n){if(Tf(n)!=="object")return!1;var t=Object.getPrototypeOf(n);return t===null||t===Object.prototype}var ek=xi("Date"),tk=xi("File"),rk=xi("Blob"),nk=xi("FileList");function xf(n){return _f.call(n)==="[object Function]"}function ik(n){return dy(n)&&xf(n.pipe)}function ak(n){var t="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||_f.call(n)===t||xf(n.toString)&&n.toString()===t)}var sk=xi("URLSearchParams");function ok(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function uk(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Sf(n,t){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),bf(n))for(var i=0,a=n.length;i<a;i++)t.call(null,n[i],i,n);else for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.call(null,n[r],r,n)}function ud(){var n={};function t(r,s){Go(n[s])&&Go(r)?n[s]=ud(n[s],r):Go(r)?n[s]=ud({},r):bf(r)?n[s]=r.slice():n[s]=r}for(var i=0,a=arguments.length;i<a;i++)Sf(arguments[i],t);return n}function lk(n,t,i){return Sf(t,function(r,s){i&&typeof r=="function"?n[s]=XA(r,i):n[s]=r}),n}function ck(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}function dk(n,t,i,a){n.prototype=Object.create(t.prototype,a),n.prototype.constructor=n,i&&Object.assign(n.prototype,i)}function fk(n,t,i){var a,r,s,o={};t=t||{};do{for(a=Object.getOwnPropertyNames(n),r=a.length;r-- >0;)s=a[r],o[s]||(t[s]=n[s],o[s]=!0);n=Object.getPrototypeOf(n)}while(n&&(!i||i(n,t))&&n!==Object.prototype);return t}function hk(n,t,i){n=String(n),(i===void 0||i>n.length)&&(i=n.length),i-=t.length;var a=n.indexOf(t,i);return a!==-1&&a===i}function pk(n){if(!n)return null;var t=n.length;if(mu(t))return null;for(var i=new Array(t);t-- >0;)i[t]=n[t];return i}var mk=function(n){return function(t){return n&&t instanceof n}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Dt={isArray:bf,isArrayBuffer:cy,isBuffer:YA,isFormData:ak,isArrayBufferView:QA,isString:JA,isNumber:ZA,isObject:dy,isPlainObject:Go,isUndefined:mu,isDate:ek,isFile:tk,isBlob:rk,isFunction:xf,isStream:ik,isURLSearchParams:sk,isStandardBrowserEnv:uk,forEach:Sf,merge:ud,extend:lk,trim:ok,stripBOM:ck,inherits:dk,toFlatObject:fk,kindOf:Tf,kindOfTest:xi,endsWith:hk,toArray:pk,isTypedArray:mk,isFileList:nk},Di=Dt;function Om(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var fy=function(t,i,a){if(!i)return t;var r;if(a)r=a(i);else if(Di.isURLSearchParams(i))r=i.toString();else{var s=[];Di.forEach(i,function(l,c){l===null||typeof l>"u"||(Di.isArray(l)?c=c+"[]":l=[l],Di.forEach(l,function(p){Di.isDate(p)?p=p.toISOString():Di.isObject(p)&&(p=JSON.stringify(p)),s.push(Om(c)+"="+Om(p))}))}),r=s.join("&")}if(r){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t},gk=Dt;function al(){this.handlers=[]}al.prototype.use=function(t,i,a){return this.handlers.push({fulfilled:t,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1};al.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};al.prototype.forEach=function(t){gk.forEach(this.handlers,function(a){a!==null&&t(a)})};var vk=al,yk=Dt,_k=function(t,i){yk.forEach(t,function(r,s){s!==i&&s.toUpperCase()===i.toUpperCase()&&(t[i]=r,delete t[s])})},hy=Dt;function ia(n,t,i,a,r){Error.call(this),this.message=n,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),a&&(this.request=a),r&&(this.response=r)}hy.inherits(ia,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var py=ia.prototype,my={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(n){my[n]={value:n}});Object.defineProperties(ia,my);Object.defineProperty(py,"isAxiosError",{value:!0});ia.from=function(n,t,i,a,r,s){var o=Object.create(py);return hy.toFlatObject(n,o,function(l){return l!==Error.prototype}),ia.call(o,n.message,t,i,a,r),o.name=n.name,s&&Object.assign(o,s),o};var Ta=ia,gy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Er=Dt;function Tk(n,t){t=t||new FormData;var i=[];function a(s){return s===null?"":Er.isDate(s)?s.toISOString():Er.isArrayBuffer(s)||Er.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function r(s,o){if(Er.isPlainObject(s)||Er.isArray(s)){if(i.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);i.push(s),Er.forEach(s,function(l,c){if(!Er.isUndefined(l)){var d=o?o+"."+c:c,p;if(l&&!o&&typeof l=="object"){if(Er.endsWith(c,"{}"))l=JSON.stringify(l);else if(Er.endsWith(c,"[]")&&(p=Er.toArray(l))){p.forEach(function(f){!Er.isUndefined(f)&&t.append(d,a(f))});return}}r(l,d)}}),i.pop()}else t.append(o,a(s))}return r(n),t}var vy=Tk,Jl,Dm;function bk(){if(Dm)return Jl;Dm=1;var n=Ta;return Jl=function(i,a,r){var s=r.config.validateStatus;!r.status||!s||s(r.status)?i(r):a(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},Jl}var Zl,Lm;function xk(){if(Lm)return Zl;Lm=1;var n=Dt;return Zl=n.isStandardBrowserEnv()?function(){return{write:function(a,r,s,o,u,l){var c=[];c.push(a+"="+encodeURIComponent(r)),n.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),n.isString(o)&&c.push("path="+o),n.isString(u)&&c.push("domain="+u),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(a){var r=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Zl}var Sk=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},Ek=function(t,i){return i?t.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):t},Ck=Sk,wk=Ek,yy=function(t,i){return t&&!Ck(i)?wk(t,i):i},ec,Rm;function Pk(){if(Rm)return ec;Rm=1;var n=Dt,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ec=function(a){var r={},s,o,u;return a&&n.forEach(a.split(`
`),function(c){if(u=c.indexOf(":"),s=n.trim(c.substr(0,u)).toLowerCase(),o=n.trim(c.substr(u+1)),s){if(r[s]&&t.indexOf(s)>=0)return;s==="set-cookie"?r[s]=(r[s]?r[s]:[]).concat([o]):r[s]=r[s]?r[s]+", "+o:o}}),r},ec}var tc,Mm;function Ak(){if(Mm)return tc;Mm=1;var n=Dt;return tc=n.isStandardBrowserEnv()?function(){var i=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),r;function s(o){var u=o;return i&&(a.setAttribute("href",u),u=a.href),a.setAttribute("href",u),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return r=s(window.location.href),function(u){var l=n.isString(u)?s(u):u;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),tc}var rc,Fm;function sl(){if(Fm)return rc;Fm=1;var n=Ta,t=Dt;function i(a){n.call(this,a==null?"canceled":a,n.ERR_CANCELED),this.name="CanceledError"}return t.inherits(i,n,{__CANCEL__:!0}),rc=i,rc}var nc,Nm;function kk(){return Nm||(Nm=1,nc=function(t){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}),nc}var ic,Bm;function Um(){if(Bm)return ic;Bm=1;var n=Dt,t=bk(),i=xk(),a=fy,r=yy,s=Pk(),o=Ak(),u=gy,l=Ta,c=sl(),d=kk();return ic=function(f){return new Promise(function(T,x){var S=f.data,C=f.headers,A=f.responseType,j;function R(){f.cancelToken&&f.cancelToken.unsubscribe(j),f.signal&&f.signal.removeEventListener("abort",j)}n.isFormData(S)&&n.isStandardBrowserEnv()&&delete C["Content-Type"];var O=new XMLHttpRequest;if(f.auth){var W=f.auth.username||"",q=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";C.Authorization="Basic "+btoa(W+":"+q)}var U=r(f.baseURL,f.url);O.open(f.method.toUpperCase(),a(U,f.params,f.paramsSerializer),!0),O.timeout=f.timeout;function H(){if(!!O){var $="getAllResponseHeaders"in O?s(O.getAllResponseHeaders()):null,ee=!A||A==="text"||A==="json"?O.responseText:O.response,pe={data:ee,status:O.status,statusText:O.statusText,headers:$,config:f,request:O};t(function(de){T(de),R()},function(de){x(de),R()},pe),O=null}}if("onloadend"in O?O.onloadend=H:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(H)},O.onabort=function(){!O||(x(new l("Request aborted",l.ECONNABORTED,f,O)),O=null)},O.onerror=function(){x(new l("Network Error",l.ERR_NETWORK,f,O,O)),O=null},O.ontimeout=function(){var ee=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",pe=f.transitional||u;f.timeoutErrorMessage&&(ee=f.timeoutErrorMessage),x(new l(ee,pe.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,f,O)),O=null},n.isStandardBrowserEnv()){var V=(f.withCredentials||o(U))&&f.xsrfCookieName?i.read(f.xsrfCookieName):void 0;V&&(C[f.xsrfHeaderName]=V)}"setRequestHeader"in O&&n.forEach(C,function(ee,pe){typeof S>"u"&&pe.toLowerCase()==="content-type"?delete C[pe]:O.setRequestHeader(pe,ee)}),n.isUndefined(f.withCredentials)||(O.withCredentials=!!f.withCredentials),A&&A!=="json"&&(O.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&O.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&O.upload&&O.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(j=function($){!O||(x(!$||$&&$.type?new c:$),O.abort(),O=null)},f.cancelToken&&f.cancelToken.subscribe(j),f.signal&&(f.signal.aborted?j():f.signal.addEventListener("abort",j))),S||(S=null);var X=d(U);if(X&&["http","https","file"].indexOf(X)===-1){x(new l("Unsupported protocol "+X+":",l.ERR_BAD_REQUEST,f));return}O.send(S)})},ic}var ac,jm;function Ik(){return jm||(jm=1,ac=null),ac}var gt=Dt,Hm=_k,Vm=Ta,Ok=gy,Dk=vy,Lk={"Content-Type":"application/x-www-form-urlencoded"};function $m(n,t){!gt.isUndefined(n)&&gt.isUndefined(n["Content-Type"])&&(n["Content-Type"]=t)}function Rk(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=Um()),n}function Mk(n,t,i){if(gt.isString(n))try{return(t||JSON.parse)(n),gt.trim(n)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(n)}var ol={transitional:Ok,adapter:Rk(),transformRequest:[function(t,i){if(Hm(i,"Accept"),Hm(i,"Content-Type"),gt.isFormData(t)||gt.isArrayBuffer(t)||gt.isBuffer(t)||gt.isStream(t)||gt.isFile(t)||gt.isBlob(t))return t;if(gt.isArrayBufferView(t))return t.buffer;if(gt.isURLSearchParams(t))return $m(i,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var a=gt.isObject(t),r=i&&i["Content-Type"],s;if((s=gt.isFileList(t))||a&&r==="multipart/form-data"){var o=this.env&&this.env.FormData;return Dk(s?{"files[]":t}:t,o&&new o)}else if(a||r==="application/json")return $m(i,"application/json"),Mk(t);return t}],transformResponse:[function(t){var i=this.transitional||ol.transitional,a=i&&i.silentJSONParsing,r=i&&i.forcedJSONParsing,s=!a&&this.responseType==="json";if(s||r&&gt.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?Vm.from(o,Vm.ERR_BAD_RESPONSE,this,null,this.response):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ik()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};gt.forEach(["delete","get","head"],function(t){ol.headers[t]={}});gt.forEach(["post","put","patch"],function(t){ol.headers[t]=gt.merge(Lk)});var Ef=ol,Fk=Dt,Nk=Ef,Bk=function(t,i,a){var r=this||Nk;return Fk.forEach(a,function(o){t=o.call(r,t,i)}),t},sc,qm;function _y(){return qm||(qm=1,sc=function(t){return!!(t&&t.__CANCEL__)}),sc}var Wm=Dt,oc=Bk,Uk=_y(),jk=Ef,Hk=sl();function uc(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Hk}var Vk=function(t){uc(t),t.headers=t.headers||{},t.data=oc.call(t,t.data,t.headers,t.transformRequest),t.headers=Wm.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Wm.forEach(["delete","get","head","post","put","patch","common"],function(r){delete t.headers[r]});var i=t.adapter||jk.adapter;return i(t).then(function(r){return uc(t),r.data=oc.call(t,r.data,r.headers,t.transformResponse),r},function(r){return Uk(r)||(uc(t),r&&r.response&&(r.response.data=oc.call(t,r.response.data,r.response.headers,t.transformResponse))),Promise.reject(r)})},or=Dt,Ty=function(t,i){i=i||{};var a={};function r(d,p){return or.isPlainObject(d)&&or.isPlainObject(p)?or.merge(d,p):or.isPlainObject(p)?or.merge({},p):or.isArray(p)?p.slice():p}function s(d){if(or.isUndefined(i[d])){if(!or.isUndefined(t[d]))return r(void 0,t[d])}else return r(t[d],i[d])}function o(d){if(!or.isUndefined(i[d]))return r(void 0,i[d])}function u(d){if(or.isUndefined(i[d])){if(!or.isUndefined(t[d]))return r(void 0,t[d])}else return r(void 0,i[d])}function l(d){if(d in i)return r(t[d],i[d]);if(d in t)return r(void 0,t[d])}var c={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:l};return or.forEach(Object.keys(t).concat(Object.keys(i)),function(p){var f=c[p]||s,y=f(p);or.isUndefined(y)&&f!==l||(a[p]=y)}),a},lc,zm;function by(){return zm||(zm=1,lc={version:"0.27.2"}),lc}var $k=by().version,Rn=Ta,Cf={};["object","boolean","number","function","string","symbol"].forEach(function(n,t){Cf[n]=function(a){return typeof a===n||"a"+(t<1?"n ":" ")+n}});var Gm={};Cf.transitional=function(t,i,a){function r(s,o){return"[Axios v"+$k+"] Transitional option '"+s+"'"+o+(a?". "+a:"")}return function(s,o,u){if(t===!1)throw new Rn(r(o," has been removed"+(i?" in "+i:"")),Rn.ERR_DEPRECATED);return i&&!Gm[o]&&(Gm[o]=!0,console.warn(r(o," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(s,o,u):!0}};function qk(n,t,i){if(typeof n!="object")throw new Rn("options must be an object",Rn.ERR_BAD_OPTION_VALUE);for(var a=Object.keys(n),r=a.length;r-- >0;){var s=a[r],o=t[s];if(o){var u=n[s],l=u===void 0||o(u,s,n);if(l!==!0)throw new Rn("option "+s+" must be "+l,Rn.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Rn("Unknown option "+s,Rn.ERR_BAD_OPTION)}}var Wk={assertOptions:qk,validators:Cf},xy=Dt,zk=fy,Km=vk,Xm=Vk,ul=Ty,Gk=yy,Sy=Wk,Li=Sy.validators;function aa(n){this.defaults=n,this.interceptors={request:new Km,response:new Km}}aa.prototype.request=function(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=ul(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var a=i.transitional;a!==void 0&&Sy.assertOptions(a,{silentJSONParsing:Li.transitional(Li.boolean),forcedJSONParsing:Li.transitional(Li.boolean),clarifyTimeoutError:Li.transitional(Li.boolean)},!1);var r=[],s=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(i)===!1||(s=s&&y.synchronous,r.unshift(y.fulfilled,y.rejected))});var o=[];this.interceptors.response.forEach(function(y){o.push(y.fulfilled,y.rejected)});var u;if(!s){var l=[Xm,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(o),u=Promise.resolve(i);l.length;)u=u.then(l.shift(),l.shift());return u}for(var c=i;r.length;){var d=r.shift(),p=r.shift();try{c=d(c)}catch(f){p(f);break}}try{u=Xm(c)}catch(f){return Promise.reject(f)}for(;o.length;)u=u.then(o.shift(),o.shift());return u};aa.prototype.getUri=function(t){t=ul(this.defaults,t);var i=Gk(t.baseURL,t.url);return zk(i,t.params,t.paramsSerializer)};xy.forEach(["delete","get","head","options"],function(t){aa.prototype[t]=function(i,a){return this.request(ul(a||{},{method:t,url:i,data:(a||{}).data}))}});xy.forEach(["post","put","patch"],function(t){function i(a){return function(s,o,u){return this.request(ul(u||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}aa.prototype[t]=i(),aa.prototype[t+"Form"]=i(!0)});var Kk=aa,cc,Ym;function Xk(){if(Ym)return cc;Ym=1;var n=sl();function t(i){if(typeof i!="function")throw new TypeError("executor must be a function.");var a;this.promise=new Promise(function(o){a=o});var r=this;this.promise.then(function(s){if(!!r._listeners){var o,u=r._listeners.length;for(o=0;o<u;o++)r._listeners[o](s);r._listeners=null}}),this.promise.then=function(s){var o,u=new Promise(function(l){r.subscribe(l),o=l}).then(s);return u.cancel=function(){r.unsubscribe(o)},u},i(function(o){r.reason||(r.reason=new n(o),a(r.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]},t.prototype.unsubscribe=function(a){if(!!this._listeners){var r=this._listeners.indexOf(a);r!==-1&&this._listeners.splice(r,1)}},t.source=function(){var a,r=new t(function(o){a=o});return{token:r,cancel:a}},cc=t,cc}var dc,Qm;function Yk(){return Qm||(Qm=1,dc=function(t){return function(a){return t.apply(null,a)}}),dc}var fc,Jm;function Qk(){if(Jm)return fc;Jm=1;var n=Dt;return fc=function(i){return n.isObject(i)&&i.isAxiosError===!0},fc}var Zm=Dt,Jk=ly,Ko=Kk,Zk=Ty,eI=Ef;function Ey(n){var t=new Ko(n),i=Jk(Ko.prototype.request,t);return Zm.extend(i,Ko.prototype,t),Zm.extend(i,t),i.create=function(r){return Ey(Zk(n,r))},i}var nr=Ey(eI);nr.Axios=Ko;nr.CanceledError=sl();nr.CancelToken=Xk();nr.isCancel=_y();nr.VERSION=by().version;nr.toFormData=vy;nr.AxiosError=Ta;nr.Cancel=nr.CanceledError;nr.all=function(t){return Promise.all(t)};nr.spread=Yk();nr.isAxiosError=Qk();yf.exports=nr;yf.exports.default=nr;(function(n){n.exports=yf.exports})(uy);const tI=KA(uy.exports),Oo=tI.create({baseURL:"/",timeout:3e3});const rI={name:"Down",setup(){return{activeName:Ke("add_m3u8_url")}},data(){return{name:"",url:"",html_url:"",dataList:[],message:"test!!",down:""}},created(){this.initList()},mounted(){this.initList(),this.timer=setInterval(()=>{setTimeout(this.initList,0)},1e3*3)},methods:{add_m3u8(){Oo({url:"/start_down",method:"get",params:{name:this.name,url:this.url}}).then(n=>{console.log(n.data),n.status==200&&rr({message:n.data.msg,position:"top"})})},reDown_m3u8(){let n=e.target.dataset.hash;Oo({url:"/redown_m3u8",method:"get",params:{hash:n}}).then(t=>{console.log(t.data),t.status==200&&rr({message:t.data.msg,position:"top"})})},del_m3u8(n){let t=n.target.dataset.hash;pt.confirm({title:"\u786E\u5B9A\u5220\u9664",message:"\u662F\u5426\u5220\u9664\u5F53\u524D\u4EFB\u52A1\uFF1F"}).then(()=>{Oo({url:"/del_m3u8",method:"get",params:{hash:t}}).then(i=>{console.log(i.data),rr({message:i.data.msg,position:"top"}),this.initList})}).catch(()=>{})},initList(){Oo({url:"/all",method:"get"}).then(n=>{console.log(n.data),n.status==200&&n.data.code==0?this.dataList=n.data.data:rr({message:n.data.msg,position:"top"})})}}},nI=qn("\u63D0\u4EA4"),iI=qn("\u4E0B\u8F7D\u5217\u8868"),aI=qn("\u5220\u9664"),sI=qn("reload"),oI=qn("m3u8\u64AD\u653E"),uI=qn("\u672C\u5730\u64AD\u653E");function lI(n,t,i,a,r,s){const o=$A,u=cA,l=du,c=GA,d=bA,p=IA,f=CA,y=UA,T=gf;return si(),Mp("div",null,[K(o,{title:"\u4E0B\u8F7D"}),K(f,{modelValue:a.activeName,"onUpdate:modelValue":t[2]||(t[2]=x=>a.activeName=x),accordion:""},{default:cr(()=>[K(p,{title:"\u65B0\u589Em3u8",name:"add_m3u8_url"},{default:cr(()=>[K(d,null,{default:cr(()=>[K(u,{modelValue:r.name,"onUpdate:modelValue":t[0]||(t[0]=x=>r.name=x),label:"\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"]),K(u,{modelValue:r.url,"onUpdate:modelValue":t[1]||(t[1]=x=>r.url=x),label:"url",placeholder:"\u8BF7\u8F93\u5165url"},null,8,["modelValue"]),K(c,{direction:"vertical",fill:""},{default:cr(()=>[K(l,{type:"primary",onClick:s.add_m3u8,block:""},{default:cr(()=>[nI]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),K(y,null,{default:cr(()=>[iI]),_:1}),(si(!0),Mp(Wt,null,uE(r.dataList,x=>(si(),us(f,{modelValue:r.down,"onUpdate:modelValue":t[3]||(t[3]=S=>r.down=S),accordion:""},{default:cr(()=>[K(p,{label:x.host,title:x.name,name:x.name,value:x.progress},{default:cr(()=>[K(T,{title:"url",value:x.url},null,8,["value"]),K(T,{title:"ts\u603B\u6570",value:x.ts_len},null,8,["value"]),K(T,{title:"ts\u5DF2\u4E0B\u8F7D",value:x.download_ts_count},null,8,["value"]),K(l,{type:"warning","data-hash":x.hash_value,square:"",onClick:s.del_m3u8},{default:cr(()=>[aI]),_:2},1032,["data-hash","onClick"]),K(l,{type:"success","data-hash":x.hash_value,square:"",onClick:s.reDown_m3u8},{default:cr(()=>[sI]),_:2},1032,["data-hash","onClick"]),x.status=="1"?(si(),us(l,{key:0,type:"danger",url:x.url},{default:cr(()=>[oI]),_:2},1032,["url"])):Fp("",!0),x.status=="1"?(si(),us(l,{key:1,type:"primary",url:x.video_file},{default:cr(()=>[uI]),_:2},1032,["url"])):Fp("",!0)]),_:2},1032,["label","title","name","value"])]),_:2},1032,["modelValue"]))),256))])}const cI=_0(rI,[["render",lI]]),dI=Ew({history:jC("./"),routes:[{path:"/",name:"home",component:cI},{path:"/about",name:"about",component:()=>xC(()=>import("./AboutView.b4d8a2af.js"),["AboutView.b4d8a2af.js","AboutView.4d995ba2.css"],import.meta.url)}]});(function(t,i){var a=i.documentElement,r=t.devicePixelRatio||1;function s(){i.body?i.body.style.fontSize=12*r+"px":i.addEventListener("DOMContentLoaded",s)}s();function o(){var c=a.clientWidth/10;a.style.fontSize=c+"px"}if(o(),t.addEventListener("resize",o),t.addEventListener("pageshow",function(c){c.persisted&&o()}),r>=2){var u=i.createElement("body"),l=i.createElement("div");l.style.border=".5px solid transparent",u.appendChild(l),a.appendChild(u),l.offsetHeight===1&&a.classList.add("hairlines"),a.removeChild(u)}})(window,document);var Qa;typeof window<"u"?Qa=window:typeof pu<"u"?Qa=pu:typeof self<"u"?Qa=self:Qa={};var k=Qa;const fI={},hI=Object.freeze(Object.defineProperty({__proto__:null,default:fI},Symbol.toStringTag,{value:"Module"})),pI=oy(hI);var eg=typeof pu<"u"?pu:typeof window<"u"?window:{},mI=pI,Ja;typeof document<"u"?Ja=document:(Ja=eg["__GLOBAL_DOCUMENT_CACHE@4"],Ja||(Ja=eg["__GLOBAL_DOCUMENT_CACHE@4"]=mI));var ae=Ja;function br(){return br=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},br.apply(this,arguments)}const gI=Object.freeze(Object.defineProperty({__proto__:null,default:br},Symbol.toStringTag,{value:"Module"}));var ld={exports:{}};(function(n,t){function i(l){if(l&&typeof l=="object"){var c=l.which||l.keyCode||l.charCode;c&&(l=c)}if(typeof l=="number")return o[l];var d=String(l),p=a[d.toLowerCase()];if(p)return p;var p=r[d.toLowerCase()];if(p)return p;if(d.length===1)return d.charCodeAt(0)}i.isEventKey=function(c,d){if(c&&typeof c=="object"){var p=c.which||c.keyCode||c.charCode;if(p==null)return!1;if(typeof d=="string"){var f=a[d.toLowerCase()];if(f)return f===p;var f=r[d.toLowerCase()];if(f)return f===p}else if(typeof d=="number")return d===p;return!1}},t=n.exports=i;var a=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(s=97;s<123;s++)a[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)a[s-48]=s;for(s=1;s<13;s++)a["f"+s]=s+111;for(s=0;s<10;s++)a["numpad "+s]=s+96;var o=t.names=t.title={};for(s in a)o[a[s]]=s;for(var u in r)a[u]=r[u]})(ld,ld.exports);const Ae=ld.exports;function Ce(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ps(n,t){return Ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},Ps(n,t)}function le(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,Ps(n,t)}var vI=yI;function yI(n,t){var i,a=null;try{i=JSON.parse(n,t)}catch(r){a=r}return[a,i]}var ll={exports:{}};const _I=oy(gI);var TI=xI,bI=Object.prototype.toString;function xI(n){if(!n)return!1;var t=bI.call(n);return t==="[object Function]"||typeof n=="function"&&t!=="[object RegExp]"||typeof window<"u"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}var SI=k,EI=function(t,i){return i===void 0&&(i=!1),function(a,r,s){if(a){t(a);return}if(r.statusCode>=400&&r.statusCode<=599){var o=s;if(i)if(SI.TextDecoder){var u=CI(r.headers&&r.headers["content-type"]);try{o=new TextDecoder(u).decode(s)}catch{}}else o=String.fromCharCode.apply(null,new Uint8Array(s));t({cause:o});return}t(null,s)}};function CI(n){return n===void 0&&(n=""),n.toLowerCase().split(";").reduce(function(t,i){var a=i.split("="),r=a[0],s=a[1];return r.trim()==="charset"?s.trim():t},"utf-8")}var wI=EI,Cy=k,PI=_I,AI=TI;Yr.httpHandler=wI;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var kI=function(t){var i={};return t&&t.trim().split(`
`).forEach(function(a){var r=a.indexOf(":"),s=a.slice(0,r).trim().toLowerCase(),o=a.slice(r+1).trim();typeof i[s]>"u"?i[s]=o:Array.isArray(i[s])?i[s].push(o):i[s]=[i[s],o]}),i};ll.exports=Yr;ll.exports.default=Yr;Yr.XMLHttpRequest=Cy.XMLHttpRequest||LI;Yr.XDomainRequest="withCredentials"in new Yr.XMLHttpRequest?Yr.XMLHttpRequest:Cy.XDomainRequest;II(["get","put","post","patch","head","delete"],function(n){Yr[n==="delete"?"del":n]=function(t,i,a){return i=wy(t,i,a),i.method=n.toUpperCase(),Py(i)}});function II(n,t){for(var i=0;i<n.length;i++)t(n[i])}function OI(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}function wy(n,t,i){var a=n;return AI(t)?(i=t,typeof n=="string"&&(a={uri:n})):a=PI({},t,{uri:n}),a.callback=i,a}function Yr(n,t,i){return t=wy(n,t,i),Py(t)}function Py(n){if(typeof n.callback>"u")throw new Error("callback argument missing");var t=!1,i=function(j,R,O){t||(t=!0,n.callback(j,R,O))};function a(){u.readyState===4&&setTimeout(o,0)}function r(){var A=void 0;if(u.response?A=u.response:A=u.responseText||DI(u),x)try{A=JSON.parse(A)}catch{}return A}function s(A){return clearTimeout(S),A instanceof Error||(A=new Error(""+(A||"Unknown XMLHttpRequest Error"))),A.statusCode=0,i(A,C)}function o(){if(!c){var A;clearTimeout(S),n.useXDR&&u.status===void 0?A=200:A=u.status===1223?204:u.status;var j=C,R=null;return A!==0?(j={body:r(),statusCode:A,method:p,headers:{},url:d,rawRequest:u},u.getAllResponseHeaders&&(j.headers=kI(u.getAllResponseHeaders()))):R=new Error("Internal XMLHttpRequest Error"),i(R,j,j.body)}}var u=n.xhr||null;u||(n.cors||n.useXDR?u=new Yr.XDomainRequest:u=new Yr.XMLHttpRequest);var l,c,d=u.url=n.uri||n.url,p=u.method=n.method||"GET",f=n.body||n.data,y=u.headers=n.headers||{},T=!!n.sync,x=!1,S,C={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:u};if("json"in n&&n.json!==!1&&(x=!0,y.accept||y.Accept||(y.Accept="application/json"),p!=="GET"&&p!=="HEAD"&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),f=JSON.stringify(n.json===!0?f:n.json))),u.onreadystatechange=a,u.onload=o,u.onerror=s,u.onprogress=function(){},u.onabort=function(){c=!0},u.ontimeout=s,u.open(p,d,!T,n.username,n.password),T||(u.withCredentials=!!n.withCredentials),!T&&n.timeout>0&&(S=setTimeout(function(){if(!c){c=!0,u.abort("timeout");var A=new Error("XMLHttpRequest timeout");A.code="ETIMEDOUT",s(A)}},n.timeout)),u.setRequestHeader)for(l in y)y.hasOwnProperty(l)&&u.setRequestHeader(l,y[l]);else if(n.headers&&!OI(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(u.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(u),u.send(f||null),u}function DI(n){try{if(n.responseType==="document")return n.responseXML;var t=n.responseXML&&n.responseXML.documentElement.nodeName==="parsererror";if(n.responseType===""&&!t)return n.responseXML}catch{}return null}function LI(){}var cd={exports:{}},tg=ae,wf=Object.create||function(){function n(){}return function(t){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=t,new n}}();function fr(n,t){this.name="ParsingError",this.code=n.code,this.message=t||n.message}fr.prototype=wf(Error.prototype);fr.prototype.constructor=fr;fr.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Pf(n){function t(a,r,s,o){return(a|0)*3600+(r|0)*60+(s|0)+(o|0)/1e3}var i=n.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function fs(){this.values=wf(null)}fs.prototype={set:function(n,t){!this.get(n)&&t!==""&&(this.values[n]=t)},get:function(n,t,i){return i?this.has(n)?this.values[n]:t[i]:this.has(n)?this.values[n]:t},has:function(n){return n in this.values},alt:function(n,t,i){for(var a=0;a<i.length;++a)if(t===i[a]){this.set(n,t);break}},integer:function(n,t){/^-?\d+$/.test(t)&&this.set(n,parseInt(t,10))},percent:function(n,t){return t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t),t>=0&&t<=100)?(this.set(n,t),!0):!1}};function Za(n,t,i,a){var r=a?n.split(a):[n];for(var s in r)if(typeof r[s]=="string"){var o=r[s].split(i);if(o.length===2){var u=o[0].trim(),l=o[1].trim();t(u,l)}}}function RI(n,t,i){var a=n;function r(){var u=Pf(n);if(u===null)throw new fr(fr.Errors.BadTimeStamp,"Malformed timestamp: "+a);return n=n.replace(/^[^\sa-zA-Z-]+/,""),u}function s(u,l){var c=new fs;Za(u,function(d,p){switch(d){case"region":for(var f=i.length-1;f>=0;f--)if(i[f].id===p){c.set(d,i[f].region);break}break;case"vertical":c.alt(d,p,["rl","lr"]);break;case"line":var y=p.split(","),T=y[0];c.integer(d,T),c.percent(d,T)&&c.set("snapToLines",!1),c.alt(d,T,["auto"]),y.length===2&&c.alt("lineAlign",y[1],["start","center","end"]);break;case"position":y=p.split(","),c.percent(d,y[0]),y.length===2&&c.alt("positionAlign",y[1],["start","center","end"]);break;case"size":c.percent(d,p);break;case"align":c.alt(d,p,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");try{l.line=c.get("line","auto")}catch{}l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100);try{l.align=c.get("align","center")}catch{l.align=c.get("align","middle")}try{l.position=c.get("position","auto")}catch{l.position=c.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=c.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function o(){n=n.replace(/^\s+/,"")}if(o(),t.startTime=r(),o(),n.substr(0,3)!=="-->")throw new fr(fr.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+a);n=n.substr(3),o(),t.endTime=r(),o(),s(n,t)}var hc=tg.createElement&&tg.createElement("textarea"),MI={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},rg={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},FI={v:"title",lang:"lang"},ng={rt:"ruby"};function Ay(n,t){function i(){if(!t)return null;function T(S){return t=t.substr(S.length),S}var x=t.match(/^([^<]*)(<[^>]*>?)?/);return T(x[1]?x[1]:x[2])}function a(T){return hc.innerHTML=T,T=hc.textContent,hc.textContent="",T}function r(T,x){return!ng[x.localName]||ng[x.localName]===T.localName}function s(T,x){var S=MI[T];if(!S)return null;var C=n.document.createElement(S),A=FI[T];return A&&x&&(C[A]=x.trim()),C}for(var o=n.document.createElement("div"),u=o,l,c=[];(l=i())!==null;){if(l[0]==="<"){if(l[1]==="/"){c.length&&c[c.length-1]===l.substr(2).replace(">","")&&(c.pop(),u=u.parentNode);continue}var d=Pf(l.substr(1,l.length-2)),p;if(d){p=n.document.createProcessingInstruction("timestamp",d),u.appendChild(p);continue}var f=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f||(p=s(f[1],f[3]),!p)||!r(u,p))continue;if(f[2]){var y=f[2].split(".");y.forEach(function(T){var x=/^bg_/.test(T),S=x?T.slice(3):T;if(rg.hasOwnProperty(S)){var C=x?"background-color":"color",A=rg[S];p.style[C]=A}}),p.className=y.join(" ")}c.push(f[1]),u.appendChild(p),u=p;continue}u.appendChild(n.document.createTextNode(a(l)))}return o}var ig=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function NI(n){for(var t=0;t<ig.length;t++){var i=ig[t];if(n>=i[0]&&n<=i[1])return!0}return!1}function BI(n){var t=[],i="",a;if(!n||!n.childNodes)return"ltr";function r(u,l){for(var c=l.childNodes.length-1;c>=0;c--)u.push(l.childNodes[c])}function s(u){if(!u||!u.length)return null;var l=u.pop(),c=l.textContent||l.innerText;if(c){var d=c.match(/^.*(\n|\r)/);return d?(u.length=0,d[0]):c}if(l.tagName==="ruby")return s(u);if(l.childNodes)return r(u,l),s(u)}for(r(t,n);i=s(t);)for(var o=0;o<i.length;o++)if(a=i.charCodeAt(o),NI(a))return"rtl";return"ltr"}function UI(n){if(typeof n.line=="number"&&(n.snapToLines||n.line>=0&&n.line<=100))return n.line;if(!n.track||!n.track.textTrackList||!n.track.textTrackList.mediaElement)return-1;for(var t=n.track,i=t.textTrackList,a=0,r=0;r<i.length&&i[r]!==t;r++)i[r].mode==="showing"&&a++;return++a*-1}function cl(){}cl.prototype.applyStyles=function(n,t){t=t||this.div;for(var i in n)n.hasOwnProperty(i)&&(t.style[i]=n[i])};cl.prototype.formatStyle=function(n,t){return n===0?0:n+t};function gu(n,t,i){cl.call(this),this.cue=t,this.cueDiv=Ay(n,t.text);var a={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(a,this.cueDiv),this.div=n.document.createElement("div"),a={direction:BI(this.cueDiv),writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:t.align==="middle"?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(a),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":r=t.position-t.size;break}t.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}gu.prototype=wf(cl.prototype);gu.prototype.constructor=gu;function Gt(n){var t,i,a,r;if(n.div){i=n.div.offsetHeight,a=n.div.offsetWidth,r=n.div.offsetTop;var s=(s=n.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();n=n.div.getBoundingClientRect(),t=s?Math.max(s[0]&&s[0].height||0,n.height/s.length):0}this.left=n.left,this.right=n.right,this.top=n.top||r,this.height=n.height||i,this.bottom=n.bottom||r+(n.height||i),this.width=n.width||a,this.lineHeight=t!==void 0?t:n.lineHeight}Gt.prototype.move=function(n,t){switch(t=t!==void 0?t:this.lineHeight,n){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t;break}};Gt.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top};Gt.prototype.overlapsAny=function(n){for(var t=0;t<n.length;t++)if(this.overlaps(n[t]))return!0;return!1};Gt.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right};Gt.prototype.overlapsOppositeAxis=function(n,t){switch(t){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}};Gt.prototype.intersectPercentage=function(n){var t=Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left)),i=Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top)),a=t*i;return a/(this.height*this.width)};Gt.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}};Gt.getSimpleBoxPosition=function(n){var t=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,i=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,a=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n;var r={left:n.left,right:n.right,top:n.top||a,height:n.height||t,bottom:n.bottom||a+(n.height||t),width:n.width||i};return r};function jI(n,t,i,a){function r(S,C){for(var A,j=new Gt(S),R=1,O=0;O<C.length;O++){for(;S.overlapsOppositeAxis(i,C[O])||S.within(i)&&S.overlapsAny(a);)S.move(C[O]);if(S.within(i))return S;var W=S.intersectPercentage(i);R>W&&(A=new Gt(S),R=W),S=new Gt(j)}return A||j}var s=new Gt(t),o=t.cue,u=UI(o),l=[];if(o.snapToLines){var c;switch(o.vertical){case"":l=["+y","-y"],c="height";break;case"rl":l=["+x","-x"],c="width";break;case"lr":l=["-x","+x"],c="width";break}var d=s.lineHeight,p=d*Math.round(u),f=i[c]+d,y=l[0];Math.abs(p)>f&&(p=p<0?-1:1,p*=Math.ceil(f/d)*d),u<0&&(p+=o.vertical===""?i.height:i.width,l=l.reverse()),s.move(y,p)}else{var T=s.lineHeight/i.height*100;switch(o.lineAlign){case"center":u-=T/2;break;case"end":u-=T;break}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(u,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(u,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(u,"%")});break}l=["+y","-x","+x","-y"],s=new Gt(t)}var x=r(s,l);t.move(x.toCSSCompatValues(i))}function ba(){}ba.StringDecoder=function(){return{decode:function(n){if(!n)return"";if(typeof n!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}};ba.convertCueToDOMTree=function(n,t){return!n||!t?null:Ay(n,t)};var HI=.05,VI="sans-serif",$I="1.5%";ba.processCues=function(n,t,i){if(!n||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var a=n.document.createElement("div");a.style.position="absolute",a.style.left="0",a.style.right="0",a.style.top="0",a.style.bottom="0",a.style.margin=$I,i.appendChild(a);function r(d){for(var p=0;p<d.length;p++)if(d[p].hasBeenReset||!d[p].displayState)return!0;return!1}if(!r(t)){for(var s=0;s<t.length;s++)a.appendChild(t[s].displayState);return}var o=[],u=Gt.getSimpleBoxPosition(a),l=Math.round(u.height*HI*100)/100,c={font:l+"px "+VI};(function(){for(var d,p,f=0;f<t.length;f++)p=t[f],d=new gu(n,p,c),a.appendChild(d.div),jI(n,d,u,o),p.displayState=d.div,o.push(Gt.getSimpleBoxPosition(d))})()};ba.Parser=function(n,t,i){i||(i=t,t={}),t||(t={}),this.window=n,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};ba.Parser.prototype={reportOrThrowError:function(n){if(n instanceof fr)this.onparsingerror&&this.onparsingerror(n);else throw n},parse:function(n){var t=this;n&&(t.buffer+=t.decoder.decode(n,{stream:!0}));function i(){for(var d=t.buffer,p=0;p<d.length&&d[p]!=="\r"&&d[p]!==`
`;)++p;var f=d.substr(0,p);return d[p]==="\r"&&++p,d[p]===`
`&&++p,t.buffer=d.substr(p),f}function a(d){var p=new fs;if(Za(d,function(y,T){switch(y){case"id":p.set(y,T);break;case"width":p.percent(y,T);break;case"lines":p.integer(y,T);break;case"regionanchor":case"viewportanchor":var x=T.split(",");if(x.length!==2)break;var S=new fs;if(S.percent("x",x[0]),S.percent("y",x[1]),!S.has("x")||!S.has("y"))break;p.set(y+"X",S.get("x")),p.set(y+"Y",S.get("y"));break;case"scroll":p.alt(y,T,["up"]);break}},/=/,/\s/),p.has("id")){var f=new(t.vttjs.VTTRegion||t.window.VTTRegion);f.width=p.get("width",100),f.lines=p.get("lines",3),f.regionAnchorX=p.get("regionanchorX",0),f.regionAnchorY=p.get("regionanchorY",100),f.viewportAnchorX=p.get("viewportanchorX",0),f.viewportAnchorY=p.get("viewportanchorY",100),f.scroll=p.get("scroll",""),t.onregion&&t.onregion(f),t.regionList.push({id:p.get("id"),region:f})}}function r(d){var p=new fs;Za(d,function(f,y){switch(f){case"MPEGT":p.integer(f+"S",y);break;case"LOCA":p.set(f+"L",Pf(y));break}},/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:p.get("MPEGTS"),LOCAL:p.get("LOCAL")})}function s(d){d.match(/X-TIMESTAMP-MAP/)?Za(d,function(p,f){switch(p){case"X-TIMESTAMP-MAP":r(f);break}},/=/):Za(d,function(p,f){switch(p){case"Region":a(f);break}},/:/)}try{var o;if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;o=i();var u=o.match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new fr(fr.Errors.BadSignature);t.state="HEADER"}for(var l=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(l?l=!1:o=i(),t.state){case"HEADER":/:/.test(o)?s(o):o||(t.state="ID");continue;case"NOTE":o||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){t.state="NOTE";break}if(!o)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch{t.cue.align="middle"}if(t.state="CUE",o.indexOf("-->")===-1){t.cue.id=o;continue}case"CUE":try{RI(o,t.cue,t.regionList)}catch(d){t.reportOrThrowError(d),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var c=o.indexOf("-->")!==-1;if(!o||c&&(l=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+=`
`),t.cue.text+=o.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":o||(t.state="ID");continue}}}catch(d){t.reportOrThrowError(d),t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||n.state==="HEADER")&&(n.buffer+=`

`,n.parse()),n.state==="INITIAL")throw new fr(fr.Errors.BadSignature)}catch(t){n.reportOrThrowError(t)}return n.onflush&&n.onflush(),this}};var qI=ba,WI="auto",zI={"":1,lr:1,rl:1},GI={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function KI(n){if(typeof n!="string")return!1;var t=zI[n.toLowerCase()];return t?n.toLowerCase():!1}function pc(n){if(typeof n!="string")return!1;var t=GI[n.toLowerCase()];return t?n.toLowerCase():!1}function ky(n,t,i){this.hasBeenReset=!1;var a="",r=!1,s=n,o=t,u=i,l=null,c="",d=!0,p="auto",f="start",y="auto",T="auto",x=100,S="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(C){a=""+C}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(C){r=!!C}},startTime:{enumerable:!0,get:function(){return s},set:function(C){if(typeof C!="number")throw new TypeError("Start time must be set to a number.");s=C,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(C){if(typeof C!="number")throw new TypeError("End time must be set to a number.");o=C,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(C){u=""+C,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(C){l=C,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(C){var A=KI(C);if(A===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=A,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(C){d=!!C,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(C){if(typeof C!="number"&&C!==WI)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=C,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(C){var A=pc(C);A?(f=A,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return y},set:function(C){if(C<0||C>100)throw new Error("Position must be between 0 and 100.");y=C,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return T},set:function(C){var A=pc(C);A?(T=A,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return x},set:function(C){if(C<0||C>100)throw new Error("Size must be between 0 and 100.");x=C,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return S},set:function(C){var A=pc(C);if(!A)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");S=A,this.hasBeenReset=!0}}}),this.displayState=void 0}ky.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var XI=ky,YI={"":!0,up:!0};function QI(n){if(typeof n!="string")return!1;var t=YI[n.toLowerCase()];return t?n.toLowerCase():!1}function Va(n){return typeof n=="number"&&n>=0&&n<=100}function JI(){var n=100,t=3,i=0,a=100,r=0,s=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(u){if(!Va(u))throw new Error("Width must be between 0 and 100.");n=u}},lines:{enumerable:!0,get:function(){return t},set:function(u){if(typeof u!="number")throw new TypeError("Lines must be set to a number.");t=u}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(u){if(!Va(u))throw new Error("RegionAnchorX must be between 0 and 100.");a=u}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(u){if(!Va(u))throw new Error("RegionAnchorY must be between 0 and 100.");i=u}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(u){if(!Va(u))throw new Error("ViewportAnchorY must be between 0 and 100.");s=u}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(u){if(!Va(u))throw new Error("ViewportAnchorX must be between 0 and 100.");r=u}},scroll:{enumerable:!0,get:function(){return o},set:function(u){var l=QI(u);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):o=l}}})}var ZI=JI,vn=k,Si=cd.exports={WebVTT:qI,VTTCue:XI,VTTRegion:ZI};vn.vttjs=Si;vn.WebVTT=Si.WebVTT;var e1=Si.VTTCue,t1=Si.VTTRegion,r1=vn.VTTCue,n1=vn.VTTRegion;Si.shim=function(){vn.VTTCue=e1,vn.VTTRegion=t1};Si.restore=function(){vn.VTTCue=r1,vn.VTTRegion=n1};vn.VTTCue||Si.shim();function i1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xo(n,t,i){return i1()?Xo=Reflect.construct.bind():Xo=function(r,s,o){var u=[null];u.push.apply(u,s);var l=Function.bind.apply(r,u),c=new l;return o&&Ps(c,o.prototype),c},Xo.apply(null,arguments)}function a1(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Ps(n,t)}var Iy={exports:{}};(function(n,t){(function(i){var a=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,u={buildAbsoluteURL:function(l,c,d){if(d=d||{},l=l.trim(),c=c.trim(),!c){if(!d.alwaysNormalize)return l;var p=u.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");return p.path=u.normalizePath(p.path),u.buildURLFromParts(p)}var f=u.parseURL(c);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return d.alwaysNormalize?(f.path=u.normalizePath(f.path),u.buildURLFromParts(f)):c;var y=u.parseURL(l);if(!y)throw new Error("Error trying to parse base URL.");if(!y.netLoc&&y.path&&y.path[0]!=="/"){var T=r.exec(y.path);y.netLoc=T[1],y.path=T[2]}y.netLoc&&!y.path&&(y.path="/");var x={scheme:y.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(x.netLoc=y.netLoc,f.path[0]!=="/"))if(!f.path)x.path=y.path,f.params||(x.params=y.params,f.query||(x.query=y.query));else{var S=y.path,C=S.substring(0,S.lastIndexOf("/")+1)+f.path;x.path=u.normalizePath(C)}return x.path===null&&(x.path=d.alwaysNormalize?u.normalizePath(f.path):f.path),u.buildURLFromParts(x)},parseURL:function(l){var c=a.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};n.exports=u})()})(Iy);const ag=Iy.exports;var sg="http://example.com",dl=function(t,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(t)&&(t=k.location&&k.location.href||"");var a=typeof k.URL=="function",r=/^\/\//.test(t),s=!k.location&&!/\/\//i.test(t);if(a?t=new k.URL(t,k.location||sg):/\/\//i.test(t)||(t=ag.buildAbsoluteURL(k.location&&k.location.href||"",t)),a){var o=new URL(i,t);return s?o.href.slice(sg.length):r?o.href.slice(o.protocol.length):o.href}return ag.buildAbsoluteURL(t,i)},Af=function(){function n(){this.listeners={}}var t=n.prototype;return t.on=function(a,r){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(r)},t.off=function(a,r){if(!this.listeners[a])return!1;var s=this.listeners[a].indexOf(r);return this.listeners[a]=this.listeners[a].slice(0),this.listeners[a].splice(s,1),s>-1},t.trigger=function(a){var r=this.listeners[a];if(!!r)if(arguments.length===2)for(var s=r.length,o=0;o<s;++o)r[o].call(this,arguments[1]);else for(var u=Array.prototype.slice.call(arguments,1),l=r.length,c=0;c<l;++c)r[c].apply(this,u)},t.dispose=function(){this.listeners={}},t.pipe=function(a){this.on("data",function(r){a.push(r)})},n}(),s1=function(t){return k.atob?k.atob(t):Buffer.from(t,"base64").toString("binary")};function Oy(n){for(var t=s1(n),i=new Uint8Array(t.length),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}/*! @name m3u8-parser @version 4.7.1 @license Apache-2.0 */var o1=function(n){le(t,n);function t(){var a;return a=n.call(this)||this,a.buffer="",a}var i=t.prototype;return i.push=function(r){var s;for(this.buffer+=r,s=this.buffer.indexOf(`
`);s>-1;s=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,s)),this.buffer=this.buffer.substring(s+1)},t}(Af),u1=String.fromCharCode(9),mc=function(t){var i=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),a={};return i[1]&&(a.length=parseInt(i[1],10)),i[2]&&(a.offset=parseInt(i[2],10)),a},l1=function(){var t="[^=]*",i='"[^"]*"|[^,]*',a="(?:"+t+")=(?:"+i+")";return new RegExp("(?:^|,)("+a+")")},Cr=function(t){for(var i=t.split(l1()),a={},r=i.length,s;r--;)i[r]!==""&&(s=/([^=]*)=(.*)/.exec(i[r]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),a[s[0]]=s[1]);return a},c1=function(n){le(t,n);function t(){var a;return a=n.call(this)||this,a.customParsers=[],a.tagMappers=[],a}var i=t.prototype;return i.push=function(r){var s=this,o,u;if(r=r.trim(),r.length!==0){if(r[0]!=="#"){this.trigger("data",{type:"uri",uri:r});return}var l=this.tagMappers.reduce(function(c,d){var p=d(r);return p===r?c:c.concat([p])},[r]);l.forEach(function(c){for(var d=0;d<s.customParsers.length;d++)if(s.customParsers[d].call(s,c))return;if(c.indexOf("#EXT")!==0){s.trigger("data",{type:"comment",text:c.slice(1)});return}if(c=c.replace("\r",""),o=/^#EXTM3U/.exec(c),o){s.trigger("data",{type:"tag",tagType:"m3u"});return}if(o=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(c),o){u={type:"tag",tagType:"inf"},o[1]&&(u.duration=parseFloat(o[1])),o[2]&&(u.title=o[2]),s.trigger("data",u);return}if(o=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(c),o){u={type:"tag",tagType:"targetduration"},o[1]&&(u.duration=parseInt(o[1],10)),s.trigger("data",u);return}if(o=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(c),o){u={type:"tag",tagType:"version"},o[1]&&(u.version=parseInt(o[1],10)),s.trigger("data",u);return}if(o=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(c),o){u={type:"tag",tagType:"media-sequence"},o[1]&&(u.number=parseInt(o[1],10)),s.trigger("data",u);return}if(o=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(c),o){u={type:"tag",tagType:"discontinuity-sequence"},o[1]&&(u.number=parseInt(o[1],10)),s.trigger("data",u);return}if(o=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(c),o){u={type:"tag",tagType:"playlist-type"},o[1]&&(u.playlistType=o[1]),s.trigger("data",u);return}if(o=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(c),o){u=br(mc(o[1]),{type:"tag",tagType:"byterange"}),s.trigger("data",u);return}if(o=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(c),o){u={type:"tag",tagType:"allow-cache"},o[1]&&(u.allowed=!/NO/.test(o[1])),s.trigger("data",u);return}if(o=/^#EXT-X-MAP:?(.*)$/.exec(c),o){if(u={type:"tag",tagType:"map"},o[1]){var p=Cr(o[1]);p.URI&&(u.uri=p.URI),p.BYTERANGE&&(u.byterange=mc(p.BYTERANGE))}s.trigger("data",u);return}if(o=/^#EXT-X-STREAM-INF:?(.*)$/.exec(c),o){if(u={type:"tag",tagType:"stream-inf"},o[1]){if(u.attributes=Cr(o[1]),u.attributes.RESOLUTION){var f=u.attributes.RESOLUTION.split("x"),y={};f[0]&&(y.width=parseInt(f[0],10)),f[1]&&(y.height=parseInt(f[1],10)),u.attributes.RESOLUTION=y}u.attributes.BANDWIDTH&&(u.attributes.BANDWIDTH=parseInt(u.attributes.BANDWIDTH,10)),u.attributes["PROGRAM-ID"]&&(u.attributes["PROGRAM-ID"]=parseInt(u.attributes["PROGRAM-ID"],10))}s.trigger("data",u);return}if(o=/^#EXT-X-MEDIA:?(.*)$/.exec(c),o){u={type:"tag",tagType:"media"},o[1]&&(u.attributes=Cr(o[1])),s.trigger("data",u);return}if(o=/^#EXT-X-ENDLIST/.exec(c),o){s.trigger("data",{type:"tag",tagType:"endlist"});return}if(o=/^#EXT-X-DISCONTINUITY/.exec(c),o){s.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(o=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(c),o){u={type:"tag",tagType:"program-date-time"},o[1]&&(u.dateTimeString=o[1],u.dateTimeObject=new Date(o[1])),s.trigger("data",u);return}if(o=/^#EXT-X-KEY:?(.*)$/.exec(c),o){u={type:"tag",tagType:"key"},o[1]&&(u.attributes=Cr(o[1]),u.attributes.IV&&(u.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(u.attributes.IV=u.attributes.IV.substring(2)),u.attributes.IV=u.attributes.IV.match(/.{8}/g),u.attributes.IV[0]=parseInt(u.attributes.IV[0],16),u.attributes.IV[1]=parseInt(u.attributes.IV[1],16),u.attributes.IV[2]=parseInt(u.attributes.IV[2],16),u.attributes.IV[3]=parseInt(u.attributes.IV[3],16),u.attributes.IV=new Uint32Array(u.attributes.IV))),s.trigger("data",u);return}if(o=/^#EXT-X-START:?(.*)$/.exec(c),o){u={type:"tag",tagType:"start"},o[1]&&(u.attributes=Cr(o[1]),u.attributes["TIME-OFFSET"]=parseFloat(u.attributes["TIME-OFFSET"]),u.attributes.PRECISE=/YES/.test(u.attributes.PRECISE)),s.trigger("data",u);return}if(o=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(c),o){u={type:"tag",tagType:"cue-out-cont"},o[1]?u.data=o[1]:u.data="",s.trigger("data",u);return}if(o=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(c),o){u={type:"tag",tagType:"cue-out"},o[1]?u.data=o[1]:u.data="",s.trigger("data",u);return}if(o=/^#EXT-X-CUE-IN:?(.*)?$/.exec(c),o){u={type:"tag",tagType:"cue-in"},o[1]?u.data=o[1]:u.data="",s.trigger("data",u);return}if(o=/^#EXT-X-SKIP:(.*)$/.exec(c),o&&o[1]){u={type:"tag",tagType:"skip"},u.attributes=Cr(o[1]),u.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(u.attributes["SKIPPED-SEGMENTS"]=parseInt(u.attributes["SKIPPED-SEGMENTS"],10)),u.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(u.attributes["RECENTLY-REMOVED-DATERANGES"]=u.attributes["RECENTLY-REMOVED-DATERANGES"].split(u1)),s.trigger("data",u);return}if(o=/^#EXT-X-PART:(.*)$/.exec(c),o&&o[1]){u={type:"tag",tagType:"part"},u.attributes=Cr(o[1]),["DURATION"].forEach(function(T){u.attributes.hasOwnProperty(T)&&(u.attributes[T]=parseFloat(u.attributes[T]))}),["INDEPENDENT","GAP"].forEach(function(T){u.attributes.hasOwnProperty(T)&&(u.attributes[T]=/YES/.test(u.attributes[T]))}),u.attributes.hasOwnProperty("BYTERANGE")&&(u.attributes.byterange=mc(u.attributes.BYTERANGE)),s.trigger("data",u);return}if(o=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(c),o&&o[1]){u={type:"tag",tagType:"server-control"},u.attributes=Cr(o[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(T){u.attributes.hasOwnProperty(T)&&(u.attributes[T]=parseFloat(u.attributes[T]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(T){u.attributes.hasOwnProperty(T)&&(u.attributes[T]=/YES/.test(u.attributes[T]))}),s.trigger("data",u);return}if(o=/^#EXT-X-PART-INF:(.*)$/.exec(c),o&&o[1]){u={type:"tag",tagType:"part-inf"},u.attributes=Cr(o[1]),["PART-TARGET"].forEach(function(T){u.attributes.hasOwnProperty(T)&&(u.attributes[T]=parseFloat(u.attributes[T]))}),s.trigger("data",u);return}if(o=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(c),o&&o[1]){u={type:"tag",tagType:"preload-hint"},u.attributes=Cr(o[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(T){if(u.attributes.hasOwnProperty(T)){u.attributes[T]=parseInt(u.attributes[T],10);var x=T==="BYTERANGE-LENGTH"?"length":"offset";u.attributes.byterange=u.attributes.byterange||{},u.attributes.byterange[x]=u.attributes[T],delete u.attributes[T]}}),s.trigger("data",u);return}if(o=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(c),o&&o[1]){u={type:"tag",tagType:"rendition-report"},u.attributes=Cr(o[1]),["LAST-MSN","LAST-PART"].forEach(function(T){u.attributes.hasOwnProperty(T)&&(u.attributes[T]=parseInt(u.attributes[T],10))}),s.trigger("data",u);return}s.trigger("data",{type:"tag",data:c.slice(4)})})}},i.addParser=function(r){var s=this,o=r.expression,u=r.customType,l=r.dataParser,c=r.segment;typeof l!="function"&&(l=function(p){return p}),this.customParsers.push(function(d){var p=o.exec(d);if(p)return s.trigger("data",{type:"custom",data:l(d),customType:u,segment:c}),!0})},i.addTagMapper=function(r){var s=r.expression,o=r.map,u=function(c){return s.test(c)?o(c):c};this.tagMappers.push(u)},t}(Af),d1=function(t){return t.toLowerCase().replace(/-(\w)/g,function(i){return i[1].toUpperCase()})},Ri=function(t){var i={};return Object.keys(t).forEach(function(a){i[d1(a)]=t[a]}),i},gc=function(t){var i=t.serverControl,a=t.targetDuration,r=t.partTargetDuration;if(!!i){var s="#EXT-X-SERVER-CONTROL",o="holdBack",u="partHoldBack",l=a&&a*3,c=r&&r*2;a&&!i.hasOwnProperty(o)&&(i[o]=l,this.trigger("info",{message:s+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&i[o]<l&&(this.trigger("warn",{message:s+" clamping HOLD-BACK ("+i[o]+") to targetDuration * 3 ("+l+")"}),i[o]=l),r&&!i.hasOwnProperty(u)&&(i[u]=r*3,this.trigger("info",{message:s+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+i[u]+")."})),r&&i[u]<c&&(this.trigger("warn",{message:s+" clamping PART-HOLD-BACK ("+i[u]+") to partTargetDuration * 2 ("+c+")."}),i[u]=c)}},f1=function(n){le(t,n);function t(){var a;a=n.call(this)||this,a.lineStream=new o1,a.parseStream=new c1,a.lineStream.pipe(a.parseStream);var r=Ce(a),s=[],o={},u,l,c=!1,d=function(){},p={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},f="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",y=0;a.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var T=0,x=0;return a.on("end",function(){o.uri||!o.parts&&!o.preloadHints||(!o.map&&u&&(o.map=u),!o.key&&l&&(o.key=l),!o.timeline&&typeof y=="number"&&(o.timeline=y),a.manifest.preloadSegment=o)}),a.parseStream.on("data",function(S){var C,A;({tag:function(){({version:function(){S.version&&(this.manifest.version=S.version)},"allow-cache":function(){this.manifest.allowCache=S.allowed,"allowed"in S||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var O={};"length"in S&&(o.byterange=O,O.length=S.length,"offset"in S||(S.offset=T)),"offset"in S&&(o.byterange=O,O.offset=S.offset),T=O.offset+O.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),S.duration>0&&(o.duration=S.duration),S.duration===0&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(!S.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(S.attributes.METHOD==="NONE"){l=null;return}if(!S.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(S.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:S.attributes};return}if(S.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:S.attributes.URI};return}if(S.attributes.KEYFORMAT===f){var O=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(O.indexOf(S.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(S.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),S.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(S.attributes.KEYID&&S.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:S.attributes.KEYFORMAT,keyId:S.attributes.KEYID.substring(2)},pssh:Oy(S.attributes.URI.split(",")[1])};return}S.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:S.attributes.METHOD||"AES-128",uri:S.attributes.URI},typeof S.attributes.IV<"u"&&(l.iv=S.attributes.IV)},"media-sequence":function(){if(!isFinite(S.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+S.number});return}this.manifest.mediaSequence=S.number},"discontinuity-sequence":function(){if(!isFinite(S.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+S.number});return}this.manifest.discontinuitySequence=S.number,y=S.number},"playlist-type":function(){if(!/VOD|EVENT/.test(S.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+S.playlist});return}this.manifest.playlistType=S.playlistType},map:function(){u={},S.uri&&(u.uri=S.uri),S.byterange&&(u.byterange=S.byterange),l&&(u.key=l)},"stream-inf":function(){if(this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||p,!S.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}o.attributes||(o.attributes={}),br(o.attributes,S.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||p,!(S.attributes&&S.attributes.TYPE&&S.attributes["GROUP-ID"]&&S.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var O=this.manifest.mediaGroups[S.attributes.TYPE];O[S.attributes["GROUP-ID"]]=O[S.attributes["GROUP-ID"]]||{},C=O[S.attributes["GROUP-ID"]],A={default:/yes/i.test(S.attributes.DEFAULT)},A.default?A.autoselect=!0:A.autoselect=/yes/i.test(S.attributes.AUTOSELECT),S.attributes.LANGUAGE&&(A.language=S.attributes.LANGUAGE),S.attributes.URI&&(A.uri=S.attributes.URI),S.attributes["INSTREAM-ID"]&&(A.instreamId=S.attributes["INSTREAM-ID"]),S.attributes.CHARACTERISTICS&&(A.characteristics=S.attributes.CHARACTERISTICS),S.attributes.FORCED&&(A.forced=/yes/i.test(S.attributes.FORCED)),C[S.attributes.NAME]=A},discontinuity:function(){y+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=S.dateTimeString,this.manifest.dateTimeObject=S.dateTimeObject),o.dateTimeString=S.dateTimeString,o.dateTimeObject=S.dateTimeObject},targetduration:function(){if(!isFinite(S.duration)||S.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+S.duration});return}this.manifest.targetDuration=S.duration,gc.call(this,this.manifest)},start:function(){if(!S.attributes||isNaN(S.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:S.attributes["TIME-OFFSET"],precise:S.attributes.PRECISE}},"cue-out":function(){o.cueOut=S.data},"cue-out-cont":function(){o.cueOutCont=S.data},"cue-in":function(){o.cueIn=S.data},skip:function(){this.manifest.skip=Ri(S.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",S.attributes,["SKIPPED-SEGMENTS"])},part:function(){var O=this;c=!0;var W=this.manifest.segments.length,q=Ri(S.attributes);o.parts=o.parts||[],o.parts.push(q),q.byterange&&(q.byterange.hasOwnProperty("offset")||(q.byterange.offset=x),x=q.byterange.offset+q.byterange.length);var U=o.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+U+" for segment #"+W,S.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(H,V){H.hasOwnProperty("lastPart")||O.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+V+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var O=this.manifest.serverControl=Ri(S.attributes);O.hasOwnProperty("canBlockReload")||(O.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),gc.call(this,this.manifest),O.canSkipDateranges&&!O.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var O=this.manifest.segments.length,W=Ri(S.attributes),q=W.type&&W.type==="PART";o.preloadHints=o.preloadHints||[],o.preloadHints.push(W),W.byterange&&(W.byterange.hasOwnProperty("offset")||(W.byterange.offset=q?x:0,q&&(x=W.byterange.offset+W.byterange.length)));var U=o.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+U+" for segment #"+O,S.attributes,["TYPE","URI"]),!!W.type)for(var H=0;H<o.preloadHints.length-1;H++){var V=o.preloadHints[H];!V.type||V.type===W.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+U+" for segment #"+O+" has the same TYPE "+W.type+" as preload hint #"+H})}},"rendition-report":function(){var O=Ri(S.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(O);var W=this.manifest.renditionReports.length-1,q=["LAST-MSN","URI"];c&&q.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+W,S.attributes,q)},"part-inf":function(){this.manifest.partInf=Ri(S.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",S.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),gc.call(this,this.manifest)}}[S.tagType]||d).call(r)},uri:function(){o.uri=S.uri,s.push(o),this.manifest.targetDuration&&!("duration"in o)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),l&&(o.key=l),o.timeline=y,u&&(o.map=u),x=0,o={}},comment:function(){},custom:function(){S.segment?(o.custom=o.custom||{},o.custom[S.customType]=S.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[S.customType]=S.data)}})[S.type].call(r)}),a}var i=t.prototype;return i.warnOnMissingAttributes_=function(r,s,o){var u=[];o.forEach(function(l){s.hasOwnProperty(l)||u.push(l)}),u.length&&this.trigger("warn",{message:r+" lacks required attribute(s): "+u.join(", ")})},i.push=function(r){this.lineStream.push(r)},i.end=function(){this.lineStream.push(`
`),this.trigger("end")},i.addParser=function(r){this.parseStream.addParser(r)},i.addTagMapper=function(r){this.parseStream.addTagMapper(r)},t}(Af),pi={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},h1=["video","audio","text"],og=["Video","Audio","Text"],Dy=function(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(i,a,r){var s=("00"+Number(a).toString(16)).slice(-2),o=("00"+Number(r).toString(16)).slice(-2);return"avc1."+s+"00"+o})},qr=function(t){t===void 0&&(t="");var i=t.split(","),a=[];return i.forEach(function(r){r=r.trim();var s;h1.forEach(function(o){var u=pi[o].exec(r.toLowerCase());if(!(!u||u.length<=1)){s=o;var l=r.substring(0,u[1].length),c=r.replace(l,"");a.push({type:l,details:c,mediaType:o})}}),s||a.push({type:r,details:"",mediaType:"unknown"})}),a},p1=function(t,i){if(!t.mediaGroups.AUDIO||!i)return null;var a=t.mediaGroups.AUDIO[i];if(!a)return null;for(var r in a){var s=a[r];if(s.default&&s.playlists)return qr(s.playlists[0].attributes.CODECS)}return null},Ly=function(t){return t===void 0&&(t=""),pi.audio.test(t.trim().toLowerCase())},m1=function(t){return t===void 0&&(t=""),pi.text.test(t.trim().toLowerCase())},As=function(t){if(!(!t||typeof t!="string")){var i=t.toLowerCase().split(",").map(function(s){return Dy(s.trim())}),a="video";i.length===1&&Ly(i[0])?a="audio":i.length===1&&m1(i[0])&&(a="application");var r="mp4";return i.every(function(s){return pi.mp4.test(s)})?r="mp4":i.every(function(s){return pi.webm.test(s)})?r="webm":i.every(function(s){return pi.ogg.test(s)})&&(r="ogg"),a+"/"+r+';codecs="'+t+'"'}},Yo=function(t){return t===void 0&&(t=""),k.MediaSource&&k.MediaSource.isTypeSupported&&k.MediaSource.isTypeSupported(As(t))||!1},vc=function(t){return t===void 0&&(t=""),t.toLowerCase().split(",").every(function(i){i=i.trim();for(var a=0;a<og.length;a++){var r=og[a];if(pi["muxer"+r].test(i))return!0}return!1})},ug="mp4a.40.2",g1="avc1.4d400d",v1=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,y1=/^application\/dash\+xml/i,Ry=function(t){return v1.test(t)?"hls":y1.test(t)?"dash":t==="application/vnd.videojs.vhs+json"?"vhs-json":null},_1=function(t){return t.toString(2).length},T1=function(t){return Math.ceil(_1(t)/8)},My=function(t){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},b1=function(t){return My(t)},be=function(t){return t instanceof Uint8Array?t:(!Array.isArray(t)&&!b1(t)&&!(t instanceof ArrayBuffer)&&(typeof t!="number"||typeof t=="number"&&t!==t?t=0:t=[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},wt=k.BigInt||Number,dd=[wt("0x1"),wt("0x100"),wt("0x10000"),wt("0x1000000"),wt("0x100000000"),wt("0x10000000000"),wt("0x1000000000000"),wt("0x100000000000000"),wt("0x10000000000000000")];(function(){var n=new Uint16Array([65484]),t=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);return t[0]===255?"big":t[0]===204?"little":"unknown"})();var x1=function(t,i){var a=i===void 0?{}:i,r=a.signed,s=r===void 0?!1:r,o=a.le,u=o===void 0?!1:o;t=be(t);var l=u?"reduce":"reduceRight",c=t[l]?t[l]:Array.prototype[l],d=c.call(t,function(f,y,T){var x=u?T:Math.abs(T+1-t.length);return f+wt(y)*dd[x]},wt(0));if(s){var p=dd[t.length]/wt(2)-wt(1);d=wt(d),d>p&&(d-=p,d-=p,d-=wt(2))}return Number(d)},S1=function(t,i){var a=i===void 0?{}:i,r=a.le,s=r===void 0?!1:r;(typeof t!="bigint"&&typeof t!="number"||typeof t=="number"&&t!==t)&&(t=0),t=wt(t);for(var o=T1(t),u=new Uint8Array(new ArrayBuffer(o)),l=0;l<o;l++){var c=s?l:Math.abs(l+1-u.length);u[c]=Number(t/dd[l]&wt(255)),t<0&&(u[c]=Math.abs(~u[c]),u[c]-=l===0?1:2)}return u},Fy=function(t,i){if(typeof t!="string"&&t&&typeof t.toString=="function"&&(t=t.toString()),typeof t!="string")return new Uint8Array;i||(t=unescape(encodeURIComponent(t)));for(var a=new Uint8Array(t.length),r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return a},E1=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];if(i=i.filter(function(u){return u&&(u.byteLength||u.length)&&typeof u!="string"}),i.length<=1)return be(i[0]);var r=i.reduce(function(u,l,c){return u+(l.byteLength||l.length)},0),s=new Uint8Array(r),o=0;return i.forEach(function(u){u=be(u),s.set(u,o),o+=u.byteLength}),s},rt=function(t,i,a){var r=a===void 0?{}:a,s=r.offset,o=s===void 0?0:s,u=r.mask,l=u===void 0?[]:u;t=be(t),i=be(i);var c=i.every?i.every:Array.prototype.every;return i.length&&t.length-o>=i.length&&c.call(i,function(d,p){var f=l[p]?l[p]&t[o+p]:t[o+p];return d===f})},C1=function(t,i,a){i.forEach(function(r){for(var s in t.mediaGroups[r])for(var o in t.mediaGroups[r][s]){var u=t.mediaGroups[r][s][o];a(u,r,s,o)}})},Wn={},Ei={};function kf(n,t){return t===void 0&&(t=Object),t&&typeof t.freeze=="function"?t.freeze(n):n}var Ny=kf({HTML:"text/html",isHTML:function(n){return n===Ny.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),By=kf({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===By.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Ei.freeze=kf;Ei.MIME_TYPE=Ny;Ei.NAMESPACE=By;var w1=Ei,ks=w1.NAMESPACE;function P1(n){return n!==""}function A1(n){return n?n.split(/[\t\n\f\r ]+/).filter(P1):[]}function k1(n,t){return n.hasOwnProperty(t)||(n[t]=!0),n}function lg(n){if(!n)return[];var t=A1(n);return Object.keys(t.reduce(k1,{}))}function I1(n){return function(t){return n&&n.indexOf(t)!==-1}}function js(n,t){for(var i in n)t[i]=n[i]}function ir(n,t){var i=n.prototype;if(!(i instanceof t)){let a=function(){};a.prototype=t.prototype,a=new a,js(i,a),n.prototype=i=a}i.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),i.constructor=n)}var ar={},Mr=ar.ELEMENT_NODE=1,sa=ar.ATTRIBUTE_NODE=2,vu=ar.TEXT_NODE=3,Uy=ar.CDATA_SECTION_NODE=4,jy=ar.ENTITY_REFERENCE_NODE=5,O1=ar.ENTITY_NODE=6,Hy=ar.PROCESSING_INSTRUCTION_NODE=7,Vy=ar.COMMENT_NODE=8,$y=ar.DOCUMENT_NODE=9,qy=ar.DOCUMENT_TYPE_NODE=10,yn=ar.DOCUMENT_FRAGMENT_NODE=11,D1=ar.NOTATION_NODE=12,Nt={},xt={};Nt.INDEX_SIZE_ERR=(xt[1]="Index size error",1);Nt.DOMSTRING_SIZE_ERR=(xt[2]="DOMString size error",2);var L1=Nt.HIERARCHY_REQUEST_ERR=(xt[3]="Hierarchy request error",3);Nt.WRONG_DOCUMENT_ERR=(xt[4]="Wrong document",4);Nt.INVALID_CHARACTER_ERR=(xt[5]="Invalid character",5);Nt.NO_DATA_ALLOWED_ERR=(xt[6]="No data allowed",6);Nt.NO_MODIFICATION_ALLOWED_ERR=(xt[7]="No modification allowed",7);var R1=Nt.NOT_FOUND_ERR=(xt[8]="Not found",8);Nt.NOT_SUPPORTED_ERR=(xt[9]="Not supported",9);var cg=Nt.INUSE_ATTRIBUTE_ERR=(xt[10]="Attribute in use",10);Nt.INVALID_STATE_ERR=(xt[11]="Invalid state",11);Nt.SYNTAX_ERR=(xt[12]="Syntax error",12);Nt.INVALID_MODIFICATION_ERR=(xt[13]="Invalid modification",13);Nt.NAMESPACE_ERR=(xt[14]="Invalid namespace",14);Nt.INVALID_ACCESS_ERR=(xt[15]="Invalid access",15);function yi(n,t){if(t instanceof Error)var i=t;else i=this,Error.call(this,xt[n]),this.message=xt[n],Error.captureStackTrace&&Error.captureStackTrace(this,yi);return i.code=n,t&&(this.message=this.message+": "+t),i}yi.prototype=Error.prototype;js(Nt,yi);function hn(){}hn.prototype={length:0,item:function(n){return this[n]||null},toString:function(n,t){for(var i=[],a=0;a<this.length;a++)Wi(this[a],i,n,t);return i.join("")}};function oa(n,t){this._node=n,this._refresh=t,If(this)}function If(n){var t=n._node._inc||n._node.ownerDocument._inc;if(n._inc!=t){var i=n._refresh(n._node);r_(n,"length",i.length),js(i,n),n._inc=t}}oa.prototype.item=function(n){return If(this),this[n]};ir(oa,hn);function yu(){}function Wy(n,t){for(var i=n.length;i--;)if(n[i]===t)return i}function dg(n,t,i,a){if(a?t[Wy(t,a)]=i:t[t.length++]=i,n){i.ownerElement=n;var r=n.ownerDocument;r&&(a&&Ky(r,n,a),M1(r,n,i))}}function fg(n,t,i){var a=Wy(t,i);if(a>=0){for(var r=t.length-1;a<r;)t[a]=t[++a];if(t.length=r,n){var s=n.ownerDocument;s&&(Ky(s,n,i),i.ownerElement=null)}}else throw yi(R1,new Error(n.tagName+"@"+i))}yu.prototype={length:0,item:hn.prototype.item,getNamedItem:function(n){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==n)return i}},setNamedItem:function(n){var t=n.ownerElement;if(t&&t!=this._ownerElement)throw new yi(cg);var i=this.getNamedItem(n.nodeName);return dg(this._ownerElement,this,n,i),i},setNamedItemNS:function(n){var t=n.ownerElement,i;if(t&&t!=this._ownerElement)throw new yi(cg);return i=this.getNamedItemNS(n.namespaceURI,n.localName),dg(this._ownerElement,this,n,i),i},removeNamedItem:function(n){var t=this.getNamedItem(n);return fg(this._ownerElement,this,t),t},removeNamedItemNS:function(n,t){var i=this.getNamedItemNS(n,t);return fg(this._ownerElement,this,i),i},getNamedItemNS:function(n,t){for(var i=this.length;i--;){var a=this[i];if(a.localName==t&&a.namespaceURI==n)return a}return null}};function zy(){}zy.prototype={hasFeature:function(n,t){return!0},createDocument:function(n,t,i){var a=new Hs;if(a.implementation=this,a.childNodes=new hn,a.doctype=i||null,i&&a.appendChild(i),t){var r=a.createElementNS(n,t);a.appendChild(r)}return a},createDocumentType:function(n,t,i){var a=new fl;return a.name=n,a.nodeName=n,a.publicId=t||"",a.systemId=i||"",a}};function Bt(){}Bt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,t){return Yy(this,n,t)},replaceChild:function(n,t){this.insertBefore(n,t),t&&this.removeChild(t)},removeChild:function(n){return Xy(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return fd(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var t=n.nextSibling;t&&t.nodeType==vu&&n.nodeType==vu?(this.removeChild(t),n.appendData(t.data)):(n.normalize(),n=t)}},isSupported:function(n,t){return this.ownerDocument.implementation.hasFeature(n,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var t=this;t;){var i=t._nsMap;if(i){for(var a in i)if(i[a]==n)return a}t=t.nodeType==sa?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(n){for(var t=this;t;){var i=t._nsMap;if(i&&n in i)return i[n];t=t.nodeType==sa?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(n){var t=this.lookupPrefix(n);return t==null}};function Gy(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}js(ar,Bt);js(ar,Bt.prototype);function Is(n,t){if(t(n))return!0;if(n=n.firstChild)do if(Is(n,t))return!0;while(n=n.nextSibling)}function Hs(){}function M1(n,t,i){n&&n._inc++;var a=i.namespaceURI;a===ks.XMLNS&&(t._nsMap[i.prefix?i.localName:""]=i.value)}function Ky(n,t,i,a){n&&n._inc++;var r=i.namespaceURI;r===ks.XMLNS&&delete t._nsMap[i.prefix?i.localName:""]}function Of(n,t,i){if(n&&n._inc){n._inc++;var a=t.childNodes;if(i)a[a.length++]=i;else{for(var r=t.firstChild,s=0;r;)a[s++]=r,r=r.nextSibling;a.length=s}}}function Xy(n,t){var i=t.previousSibling,a=t.nextSibling;return i?i.nextSibling=a:n.firstChild=a,a?a.previousSibling=i:n.lastChild=i,Of(n.ownerDocument,n),t}function Yy(n,t,i){var a=t.parentNode;if(a&&a.removeChild(t),t.nodeType===yn){var r=t.firstChild;if(r==null)return t;var s=t.lastChild}else r=s=t;var o=i?i.previousSibling:n.lastChild;r.previousSibling=o,s.nextSibling=i,o?o.nextSibling=r:n.firstChild=r,i==null?n.lastChild=s:i.previousSibling=s;do r.parentNode=n;while(r!==s&&(r=r.nextSibling));return Of(n.ownerDocument||n,n),t.nodeType==yn&&(t.firstChild=t.lastChild=null),t}function F1(n,t){var i=t.parentNode;if(i){var a=n.lastChild;i.removeChild(t);var a=n.lastChild}var a=n.lastChild;return t.parentNode=n,t.previousSibling=a,t.nextSibling=null,a?a.nextSibling=t:n.firstChild=t,n.lastChild=t,Of(n.ownerDocument,n,t),t}Hs.prototype={nodeName:"#document",nodeType:$y,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,t){if(n.nodeType==yn){for(var i=n.firstChild;i;){var a=i.nextSibling;this.insertBefore(i,t),i=a}return n}return this.documentElement==null&&n.nodeType==Mr&&(this.documentElement=n),Yy(this,n,t),n.ownerDocument=this,n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),Xy(this,n)},importNode:function(n,t){return t_(this,n,t)},getElementById:function(n){var t=null;return Is(this.documentElement,function(i){if(i.nodeType==Mr&&i.getAttribute("id")==n)return t=i,!0}),t},getElementsByClassName:function(n){var t=lg(n);return new oa(this,function(i){var a=[];return t.length>0&&Is(i.documentElement,function(r){if(r!==i&&r.nodeType===Mr){var s=r.getAttribute("class");if(s){var o=n===s;if(!o){var u=lg(s);o=t.every(I1(u))}o&&a.push(r)}}}),a})},createElement:function(n){var t=new _i;t.ownerDocument=this,t.nodeName=n,t.tagName=n,t.localName=n,t.childNodes=new hn;var i=t.attributes=new yu;return i._ownerElement=t,t},createDocumentFragment:function(){var n=new hl;return n.ownerDocument=this,n.childNodes=new hn,n},createTextNode:function(n){var t=new Df;return t.ownerDocument=this,t.appendData(n),t},createComment:function(n){var t=new Lf;return t.ownerDocument=this,t.appendData(n),t},createCDATASection:function(n){var t=new Rf;return t.ownerDocument=this,t.appendData(n),t},createProcessingInstruction:function(n,t){var i=new Ff;return i.ownerDocument=this,i.tagName=i.target=n,i.nodeValue=i.data=t,i},createAttribute:function(n){var t=new _u;return t.ownerDocument=this,t.name=n,t.nodeName=n,t.localName=n,t.specified=!0,t},createEntityReference:function(n){var t=new Mf;return t.ownerDocument=this,t.nodeName=n,t},createElementNS:function(n,t){var i=new _i,a=t.split(":"),r=i.attributes=new yu;return i.childNodes=new hn,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=n,a.length==2?(i.prefix=a[0],i.localName=a[1]):i.localName=t,r._ownerElement=i,i},createAttributeNS:function(n,t){var i=new _u,a=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=n,i.specified=!0,a.length==2?(i.prefix=a[0],i.localName=a[1]):i.localName=t,i}};ir(Hs,Bt);function _i(){this._nsMap={}}_i.prototype={nodeType:Mr,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var t=this.getAttributeNode(n);return t&&t.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,t){var i=this.ownerDocument.createAttribute(n);i.value=i.nodeValue=""+t,this.setAttributeNode(i)},removeAttribute:function(n){var t=this.getAttributeNode(n);t&&this.removeAttributeNode(t)},appendChild:function(n){return n.nodeType===yn?this.insertBefore(n,null):F1(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,t){var i=this.getAttributeNodeNS(n,t);i&&this.removeAttributeNode(i)},hasAttributeNS:function(n,t){return this.getAttributeNodeNS(n,t)!=null},getAttributeNS:function(n,t){var i=this.getAttributeNodeNS(n,t);return i&&i.value||""},setAttributeNS:function(n,t,i){var a=this.ownerDocument.createAttributeNS(n,t);a.value=a.nodeValue=""+i,this.setAttributeNode(a)},getAttributeNodeNS:function(n,t){return this.attributes.getNamedItemNS(n,t)},getElementsByTagName:function(n){return new oa(this,function(t){var i=[];return Is(t,function(a){a!==t&&a.nodeType==Mr&&(n==="*"||a.tagName==n)&&i.push(a)}),i})},getElementsByTagNameNS:function(n,t){return new oa(this,function(i){var a=[];return Is(i,function(r){r!==i&&r.nodeType===Mr&&(n==="*"||r.namespaceURI===n)&&(t==="*"||r.localName==t)&&a.push(r)}),a})}};Hs.prototype.getElementsByTagName=_i.prototype.getElementsByTagName;Hs.prototype.getElementsByTagNameNS=_i.prototype.getElementsByTagNameNS;ir(_i,Bt);function _u(){}_u.prototype.nodeType=sa;ir(_u,Bt);function Vs(){}Vs.prototype={data:"",substringData:function(n,t){return this.data.substring(n,n+t)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,t){this.replaceData(n,0,t)},appendChild:function(n){throw new Error(xt[L1])},deleteData:function(n,t){this.replaceData(n,t,"")},replaceData:function(n,t,i){var a=this.data.substring(0,n),r=this.data.substring(n+t);i=a+i+r,this.nodeValue=this.data=i,this.length=i.length}};ir(Vs,Bt);function Df(){}Df.prototype={nodeName:"#text",nodeType:vu,splitText:function(n){var t=this.data,i=t.substring(n);t=t.substring(0,n),this.data=this.nodeValue=t,this.length=t.length;var a=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling),a}};ir(Df,Vs);function Lf(){}Lf.prototype={nodeName:"#comment",nodeType:Vy};ir(Lf,Vs);function Rf(){}Rf.prototype={nodeName:"#cdata-section",nodeType:Uy};ir(Rf,Vs);function fl(){}fl.prototype.nodeType=qy;ir(fl,Bt);function Qy(){}Qy.prototype.nodeType=D1;ir(Qy,Bt);function Jy(){}Jy.prototype.nodeType=O1;ir(Jy,Bt);function Mf(){}Mf.prototype.nodeType=jy;ir(Mf,Bt);function hl(){}hl.prototype.nodeName="#document-fragment";hl.prototype.nodeType=yn;ir(hl,Bt);function Ff(){}Ff.prototype.nodeType=Hy;ir(Ff,Bt);function Zy(){}Zy.prototype.serializeToString=function(n,t,i){return e_.call(n,t,i)};Bt.prototype.toString=e_;function e_(n,t){var i=[],a=this.nodeType==9&&this.documentElement||this,r=a.prefix,s=a.namespaceURI;if(s&&r==null){var r=a.lookupPrefix(s);if(r==null)var o=[{namespace:s,prefix:null}]}return Wi(this,i,n,t,o),i.join("")}function hg(n,t,i){var a=n.prefix||"",r=n.namespaceURI;if(!r||a==="xml"&&r===ks.XML||r===ks.XMLNS)return!1;for(var s=i.length;s--;){var o=i[s];if(o.prefix===a)return o.namespace!==r}return!0}function yc(n,t,i){n.push(" ",t,'="',i.replace(/[<&"]/g,Gy),'"')}function Wi(n,t,i,a,r){if(r||(r=[]),a)if(n=a(n),n){if(typeof n=="string"){t.push(n);return}}else return;switch(n.nodeType){case Mr:var s=n.attributes,o=s.length,C=n.firstChild,u=n.tagName;i=ks.isHTML(n.namespaceURI)||i;var l=u;if(!i&&!n.prefix&&n.namespaceURI){for(var c,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){c=s.item(d).value;break}if(!c)for(var p=r.length-1;p>=0;p--){var f=r[p];if(f.prefix===""&&f.namespace===n.namespaceURI){c=f.namespace;break}}if(c!==n.namespaceURI)for(var p=r.length-1;p>=0;p--){var f=r[p];if(f.namespace===n.namespaceURI){f.prefix&&(l=f.prefix+":"+u);break}}}t.push("<",l);for(var y=0;y<o;y++){var T=s.item(y);T.prefix=="xmlns"?r.push({prefix:T.localName,namespace:T.value}):T.nodeName=="xmlns"&&r.push({prefix:"",namespace:T.value})}for(var y=0;y<o;y++){var T=s.item(y);if(hg(T,i,r)){var x=T.prefix||"",S=T.namespaceURI;yc(t,x?"xmlns:"+x:"xmlns",S),r.push({prefix:x,namespace:S})}Wi(T,t,i,a,r)}if(u===l&&hg(n,i,r)){var x=n.prefix||"",S=n.namespaceURI;yc(t,x?"xmlns:"+x:"xmlns",S),r.push({prefix:x,namespace:S})}if(C||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(t.push(">"),i&&/^script$/i.test(u))for(;C;)C.data?t.push(C.data):Wi(C,t,i,a,r.slice()),C=C.nextSibling;else for(;C;)Wi(C,t,i,a,r.slice()),C=C.nextSibling;t.push("</",l,">")}else t.push("/>");return;case $y:case yn:for(var C=n.firstChild;C;)Wi(C,t,i,a,r.slice()),C=C.nextSibling;return;case sa:return yc(t,n.name,n.value);case vu:return t.push(n.data.replace(/[<&]/g,Gy).replace(/]]>/g,"]]&gt;"));case Uy:return t.push("<![CDATA[",n.data,"]]>");case Vy:return t.push("<!--",n.data,"-->");case qy:var A=n.publicId,j=n.systemId;if(t.push("<!DOCTYPE ",n.name),A)t.push(" PUBLIC ",A),j&&j!="."&&t.push(" ",j),t.push(">");else if(j&&j!=".")t.push(" SYSTEM ",j,">");else{var R=n.internalSubset;R&&t.push(" [",R,"]"),t.push(">")}return;case Hy:return t.push("<?",n.target," ",n.data,"?>");case jy:return t.push("&",n.nodeName,";");default:t.push("??",n.nodeName)}}function t_(n,t,i){var a;switch(t.nodeType){case Mr:a=t.cloneNode(!1),a.ownerDocument=n;case yn:break;case sa:i=!0;break}if(a||(a=t.cloneNode(!1)),a.ownerDocument=n,a.parentNode=null,i)for(var r=t.firstChild;r;)a.appendChild(t_(n,r,i)),r=r.nextSibling;return a}function fd(n,t,i){var a=new t.constructor;for(var r in t){var s=t[r];typeof s!="object"&&s!=a[r]&&(a[r]=s)}switch(t.childNodes&&(a.childNodes=new hn),a.ownerDocument=n,a.nodeType){case Mr:var o=t.attributes,u=a.attributes=new yu,l=o.length;u._ownerElement=a;for(var c=0;c<l;c++)a.setAttributeNode(fd(n,o.item(c),!0));break;case sa:i=!0}if(i)for(var d=t.firstChild;d;)a.appendChild(fd(n,d,i)),d=d.nextSibling;return a}function r_(n,t,i){n[t]=i}try{if(Object.defineProperty){let n=function(t){switch(t.nodeType){case Mr:case yn:var i=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&i.push(n(t)),t=t.nextSibling;return i.join("");default:return t.nodeValue}};Object.defineProperty(oa.prototype,"length",{get:function(){return If(this),this.$$length}}),Object.defineProperty(Bt.prototype,"textContent",{get:function(){return n(this)},set:function(t){switch(this.nodeType){case Mr:case yn:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),r_=function(t,i,a){t["$$"+i]=a}}}catch{}Wn.DocumentType=fl;Wn.DOMException=yi;Wn.DOMImplementation=zy;Wn.Element=_i;Wn.Node=Bt;Wn.NodeList=hn;Wn.XMLSerializer=Zy;var $s={},n_={};(function(n){var t=Ei.freeze;n.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=t({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),n.entityMap=n.HTML_ENTITIES})(n_);var Nf={},Os=Ei.NAMESPACE,hd=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,pg=new RegExp("[\\-\\.0-9"+hd.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),mg=new RegExp("^"+hd.source+pg.source+"*(?::"+hd.source+pg.source+"*)?$"),$a=0,In=1,Mi=2,qa=3,Fi=4,Ni=5,Wa=6,Do=7;function ua(n,t){this.message=n,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,ua)}ua.prototype=new Error;ua.prototype.name=ua.name;function i_(){}i_.prototype={parse:function(n,t,i){var a=this.domBuilder;a.startDocument(),a_(t,t={}),N1(n,t,i,a,this.errorHandler),a.endDocument()}};function N1(n,t,i,a,r){function s(de){if(de>65535){de-=65536;var ge=55296+(de>>10),Te=56320+(de&1023);return String.fromCharCode(ge,Te)}else return String.fromCharCode(de)}function o(de){var ge=de.slice(1,-1);return ge in i?i[ge]:ge.charAt(0)==="#"?s(parseInt(ge.substr(1).replace("x","0x"))):(r.error("entity not found:"+de),de)}function u(de){if(de>x){var ge=n.substring(x,de).replace(/&#?\w+;/g,o);f&&l(x),a.characters(ge,0,de-x),x=de}}function l(de,ge){for(;de>=d&&(ge=p.exec(n));)c=ge.index,d=c+ge[0].length,f.lineNumber++;f.columnNumber=de-c+1}for(var c=0,d=0,p=/.*(?:\r\n?|\n)|.*$/g,f=a.locator,y=[{currentNSMap:t}],T={},x=0;;){try{var S=n.indexOf("<",x);if(S<0){if(!n.substr(x).match(/^\s*$/)){var C=a.doc,A=C.createTextNode(n.substr(x));C.appendChild(A),a.currentElement=A}return}switch(S>x&&u(S),n.charAt(S+1)){case"/":var X=n.indexOf(">",S+3),j=n.substring(S+2,X).replace(/[ \t\n\r]+$/g,""),R=y.pop();X<0?(j=n.substring(S+2).replace(/[\s<].*/,""),r.error("end tag name: "+j+" is not complete:"+R.tagName),X=S+1+j.length):j.match(/\s</)&&(j=j.replace(/[\s<].*/,""),r.error("end tag name: "+j+" maybe not complete"),X=S+1+j.length);var O=R.localNSMap,W=R.tagName==j,q=W||R.tagName&&R.tagName.toLowerCase()==j.toLowerCase();if(q){if(a.endElement(R.uri,R.localName,j),O)for(var U in O)a.endPrefixMapping(U);W||r.fatalError("end tag name: "+j+" is not match the current start tagName:"+R.tagName)}else y.push(R);X++;break;case"?":f&&l(S),X=V1(n,S,a);break;case"!":f&&l(S),X=H1(n,S,a,r);break;default:f&&l(S);var H=new s_,V=y[y.length-1].currentNSMap,X=B1(n,S,H,V,o,r),$=H.length;if(!H.closed&&j1(n,X,H.tagName,T)&&(H.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),f&&$){for(var ee=gg(f,{}),pe=0;pe<$;pe++){var xe=H[pe];l(xe.offset),xe.locator=gg(f,{})}a.locator=ee,vg(H,a,V)&&y.push(H),a.locator=f}else vg(H,a,V)&&y.push(H);Os.isHTML(H.uri)&&!H.closed?X=U1(n,X,H.tagName,o,a):X++}}catch(de){if(de instanceof ua)throw de;r.error("element parse error: "+de),X=-1}X>x?x=X:u(Math.max(S,x)+1)}}function gg(n,t){return t.lineNumber=n.lineNumber,t.columnNumber=n.columnNumber,t}function B1(n,t,i,a,r,s){function o(f,y,T){i.attributeNames.hasOwnProperty(f)&&s.fatalError("Attribute "+f+" redefined"),i.addValue(f,y,T)}for(var u,l,c=++t,d=$a;;){var p=n.charAt(c);switch(p){case"=":if(d===In)u=n.slice(t,c),d=qa;else if(d===Mi)d=qa;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===qa||d===In)if(d===In&&(s.warning('attribute value must after "="'),u=n.slice(t,c)),t=c+1,c=n.indexOf(p,t),c>0)l=n.slice(t,c).replace(/&#?\w+;/g,r),o(u,l,t-1),d=Ni;else throw new Error("attribute value no end '"+p+"' match");else if(d==Fi)l=n.slice(t,c).replace(/&#?\w+;/g,r),o(u,l,t),s.warning('attribute "'+u+'" missed start quot('+p+")!!"),t=c+1,d=Ni;else throw new Error('attribute value must after "="');break;case"/":switch(d){case $a:i.setTagName(n.slice(t,c));case Ni:case Wa:case Do:d=Do,i.closed=!0;case Fi:case In:case Mi:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),d==$a&&i.setTagName(n.slice(t,c)),c;case">":switch(d){case $a:i.setTagName(n.slice(t,c));case Ni:case Wa:case Do:break;case Fi:case In:l=n.slice(t,c),l.slice(-1)==="/"&&(i.closed=!0,l=l.slice(0,-1));case Mi:d===Mi&&(l=u),d==Fi?(s.warning('attribute "'+l+'" missed quot(")!'),o(u,l.replace(/&#?\w+;/g,r),t)):((!Os.isHTML(a[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,t));break;case qa:throw new Error("attribute value missed!!")}return c;case"\x80":p=" ";default:if(p<=" ")switch(d){case $a:i.setTagName(n.slice(t,c)),d=Wa;break;case In:u=n.slice(t,c),d=Mi;break;case Fi:var l=n.slice(t,c).replace(/&#?\w+;/g,r);s.warning('attribute "'+l+'" missed quot(")!!'),o(u,l,t);case Ni:d=Wa;break}else switch(d){case Mi:i.tagName,(!Os.isHTML(a[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),o(u,u,t),t=c,d=In;break;case Ni:s.warning('attribute space is required"'+u+'"!!');case Wa:d=In,t=c;break;case qa:d=Fi,t=c;break;case Do:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function vg(n,t,i){for(var a=n.tagName,r=null,p=n.length;p--;){var s=n[p],o=s.qName,u=s.value,f=o.indexOf(":");if(f>0)var l=s.prefix=o.slice(0,f),c=o.slice(f+1),d=l==="xmlns"&&c;else c=o,l=null,d=o==="xmlns"&&"";s.localName=c,d!==!1&&(r==null&&(r={},a_(i,i={})),i[d]=r[d]=u,s.uri=Os.XMLNS,t.startPrefixMapping(d,u))}for(var p=n.length;p--;){s=n[p];var l=s.prefix;l&&(l==="xml"&&(s.uri=Os.XML),l!=="xmlns"&&(s.uri=i[l||""]))}var f=a.indexOf(":");f>0?(l=n.prefix=a.slice(0,f),c=n.localName=a.slice(f+1)):(l=null,c=n.localName=a);var y=n.uri=i[l||""];if(t.startElement(y,c,a,n),n.closed){if(t.endElement(y,c,a),r)for(l in r)t.endPrefixMapping(l)}else return n.currentNSMap=i,n.localNSMap=r,!0}function U1(n,t,i,a,r){if(/^(?:script|textarea)$/i.test(i)){var s=n.indexOf("</"+i+">",t),o=n.substring(t+1,s);if(/[&<]/.test(o))return/^script$/i.test(i)?(r.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,a),r.characters(o,0,o.length),s)}return t+1}function j1(n,t,i,a){var r=a[i];return r==null&&(r=n.lastIndexOf("</"+i+">"),r<t&&(r=n.lastIndexOf("</"+i)),a[i]=r),r<t}function a_(n,t){for(var i in n)t[i]=n[i]}function H1(n,t,i,a){var r=n.charAt(t+2);switch(r){case"-":if(n.charAt(t+3)==="-"){var s=n.indexOf("-->",t+4);return s>t?(i.comment(n,t+4,s-t-4),s+3):(a.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(t+3,6)=="CDATA["){var s=n.indexOf("]]>",t+9);return i.startCDATA(),i.characters(n,t+9,s-t-9),i.endCDATA(),s+3}var o=$1(n,t),u=o.length;if(u>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],c=!1,d=!1;u>3&&(/^public$/i.test(o[2][0])?(c=o[3][0],d=u>4&&o[4][0]):/^system$/i.test(o[2][0])&&(d=o[3][0]));var p=o[u-1];return i.startDTD(l,c,d),i.endDTD(),p.index+p[0].length}}return-1}function V1(n,t,i){var a=n.indexOf("?>",t);if(a){var r=n.substring(t,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,i.processingInstruction(r[1],r[2]),a+2):-1}return-1}function s_(){this.attributeNames={}}s_.prototype={setTagName:function(n){if(!mg.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,t,i){if(!mg.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:t,offset:i}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function $1(n,t){var i,a=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=t,r.exec(n);i=r.exec(n);)if(a.push(i),i[1])return a}Nf.XMLReader=i_;Nf.ParseError=ua;var q1=Ei,Bf=Wn,yg=n_,o_=Nf,W1=Bf.DOMImplementation,_g=q1.NAMESPACE,z1=o_.ParseError,G1=o_.XMLReader;function u_(n){this.options=n||{locator:{}}}u_.prototype.parseFromString=function(n,t){var i=this.options,a=new G1,r=i.domBuilder||new qs,s=i.errorHandler,o=i.locator,u=i.xmlns||{},l=/\/x?html?$/.test(t),c=l?yg.HTML_ENTITIES:yg.XML_ENTITIES;return o&&r.setDocumentLocator(o),a.errorHandler=K1(s,r,o),a.domBuilder=i.domBuilder||r,l&&(u[""]=_g.HTML),u.xml=u.xml||_g.XML,n&&typeof n=="string"?a.parse(n,u,c):a.errorHandler.error("invalid doc source"),r.doc};function K1(n,t,i){if(!n){if(t instanceof qs)return t;n=t}var a={},r=n instanceof Function;i=i||{};function s(o){var u=n[o];!u&&r&&(u=n.length==2?function(l){n(o,l)}:n),a[o]=u&&function(l){u("[xmldom "+o+"]	"+l+pd(i))}||function(){}}return s("warning"),s("error"),s("fatalError"),a}function qs(){this.cdata=!1}function Bi(n,t){t.lineNumber=n.lineNumber,t.columnNumber=n.columnNumber}qs.prototype={startDocument:function(){this.doc=new W1().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,t,i,a){var r=this.doc,s=r.createElementNS(n,i||t),o=a.length;Lo(this,s),this.currentElement=s,this.locator&&Bi(this.locator,s);for(var u=0;u<o;u++){var n=a.getURI(u),l=a.getValue(u),i=a.getQName(u),c=r.createAttributeNS(n,i);this.locator&&Bi(a.getLocator(u),c),c.value=c.nodeValue=l,s.setAttributeNode(c)}},endElement:function(n,t,i){var a=this.currentElement;a.tagName,this.currentElement=a.parentNode},startPrefixMapping:function(n,t){},endPrefixMapping:function(n){},processingInstruction:function(n,t){var i=this.doc.createProcessingInstruction(n,t);this.locator&&Bi(this.locator,i),Lo(this,i)},ignorableWhitespace:function(n,t,i){},characters:function(n,t,i){if(n=Tg.apply(this,arguments),n){if(this.cdata)var a=this.doc.createCDATASection(n);else var a=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(a):/^\s*$/.test(n)&&this.doc.appendChild(a),this.locator&&Bi(this.locator,a)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,t,i){n=Tg.apply(this,arguments);var a=this.doc.createComment(n);this.locator&&Bi(this.locator,a),Lo(this,a)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,t,i){var a=this.doc.implementation;if(a&&a.createDocumentType){var r=a.createDocumentType(n,t,i);this.locator&&Bi(this.locator,r),Lo(this,r),this.doc.doctype=r}},warning:function(n){console.warn("[xmldom warning]	"+n,pd(this.locator))},error:function(n){console.error("[xmldom error]	"+n,pd(this.locator))},fatalError:function(n){throw new z1(n,this.locator)}};function pd(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function Tg(n,t,i){return typeof n=="string"?n.substr(t,i):n.length>=t+i||t?new java.lang.String(n,t,i)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){qs.prototype[n]=function(){return null}});function Lo(n,t){n.currentElement?n.currentElement.appendChild(t):n.doc.appendChild(t)}$s.__DOMHandler=qs;$s.DOMParser=u_;$s.DOMImplementation=Bf.DOMImplementation;$s.XMLSerializer=Bf.XMLSerializer;var X1=$s.DOMParser;/*! @name mpd-parser @version 0.21.1 @license Apache-2.0 */var bg=function(t){return!!t&&typeof t=="object"},Kt=function n(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return i.reduce(function(r,s){return typeof s!="object"||Object.keys(s).forEach(function(o){Array.isArray(r[o])&&Array.isArray(s[o])?r[o]=r[o].concat(s[o]):bg(r[o])&&bg(s[o])?r[o]=n(r[o],s[o]):r[o]=s[o]}),r},{})},l_=function(t){return Object.keys(t).map(function(i){return t[i]})},Y1=function(t,i){for(var a=[],r=t;r<i;r++)a.push(r);return a},pl=function(t){return t.reduce(function(i,a){return i.concat(a)},[])},c_=function(t){if(!t.length)return[];for(var i=[],a=0;a<t.length;a++)i.push(t[a]);return i},Q1=function(t,i){return t.reduce(function(a,r,s){return r[i]&&a.push(s),a},[])},md=function(t,i){for(var a=0;a<t.length;a++)if(i(t[a]))return a;return-1},J1=function(t,i){return l_(t.reduce(function(a,r){return r.forEach(function(s){a[i(s)]=s}),a},{}))},la={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Ds=function(t){var i=t.baseUrl,a=i===void 0?"":i,r=t.source,s=r===void 0?"":r,o=t.range,u=o===void 0?"":o,l=t.indexRange,c=l===void 0?"":l,d={uri:s,resolvedUri:dl(a||"",s)};if(u||c){var p=u||c,f=p.split("-"),y=k.BigInt?k.BigInt(f[0]):parseInt(f[0],10),T=k.BigInt?k.BigInt(f[1]):parseInt(f[1],10);y<Number.MAX_SAFE_INTEGER&&typeof y=="bigint"&&(y=Number(y)),T<Number.MAX_SAFE_INTEGER&&typeof T=="bigint"&&(T=Number(T));var x;typeof T=="bigint"||typeof y=="bigint"?x=k.BigInt(T)-k.BigInt(y)+k.BigInt(1):x=T-y+1,typeof x=="bigint"&&x<Number.MAX_SAFE_INTEGER&&(x=Number(x)),d.byterange={length:x,offset:y}}return d},Z1=function(t){var i;return typeof t.offset=="bigint"||typeof t.length=="bigint"?i=k.BigInt(t.offset)+k.BigInt(t.length)-k.BigInt(1):i=t.offset+t.length-1,t.offset+"-"+i},xg=function(t){return t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t},eO={static:function(t){var i=t.duration,a=t.timescale,r=a===void 0?1:a,s=t.sourceDuration,o=t.periodDuration,u=xg(t.endNumber),l=i/r;return typeof u=="number"?{start:0,end:u}:typeof o=="number"?{start:0,end:o/l}:{start:0,end:s/l}},dynamic:function(t){var i=t.NOW,a=t.clientOffset,r=t.availabilityStartTime,s=t.timescale,o=s===void 0?1:s,u=t.duration,l=t.periodStart,c=l===void 0?0:l,d=t.minimumUpdatePeriod,p=d===void 0?0:d,f=t.timeShiftBufferDepth,y=f===void 0?1/0:f,T=xg(t.endNumber),x=(i+a)/1e3,S=r+c,C=x+p,A=C-S,j=Math.ceil(A*o/u),R=Math.floor((x-S-y)*o/u),O=Math.floor((x-S)*o/u);return{start:Math.max(0,R),end:typeof T=="number"?T:Math.min(j,O)}}},tO=function(t){return function(i){var a=t.duration,r=t.timescale,s=r===void 0?1:r,o=t.periodStart,u=t.startNumber,l=u===void 0?1:u;return{number:l+i,duration:a/s,timeline:o,time:i*a}}},Uf=function(t){var i=t.type,a=t.duration,r=t.timescale,s=r===void 0?1:r,o=t.periodDuration,u=t.sourceDuration,l=eO[i](t),c=l.start,d=l.end,p=Y1(c,d).map(tO(t));if(i==="static"){var f=p.length-1,y=typeof o=="number"?o:u;p[f].duration=y-a/s*f}return p},d_=function(t){var i=t.baseUrl,a=t.initialization,r=a===void 0?{}:a,s=t.sourceDuration,o=t.indexRange,u=o===void 0?"":o,l=t.periodStart,c=t.presentationTime,d=t.number,p=d===void 0?0:d,f=t.duration;if(!i)throw new Error(la.NO_BASE_URL);var y=Ds({baseUrl:i,source:r.sourceURL,range:r.range}),T=Ds({baseUrl:i,source:i,indexRange:u});if(T.map=y,f){var x=Uf(t);x.length&&(T.duration=x[0].duration,T.timeline=x[0].timeline)}else s&&(T.duration=s,T.timeline=l);return T.presentationTime=c||l,T.number=p,[T]},jf=function(t,i,a){var r=t.sidx.map?t.sidx.map:null,s=t.sidx.duration,o=t.timeline||0,u=t.sidx.byterange,l=u.offset+u.length,c=i.timescale,d=i.references.filter(function(H){return H.referenceType!==1}),p=[],f=t.endList?"static":"dynamic",y=t.sidx.timeline,T=y,x=t.mediaSequence||0,S;typeof i.firstOffset=="bigint"?S=k.BigInt(l)+i.firstOffset:S=l+i.firstOffset;for(var C=0;C<d.length;C++){var A=i.references[C],j=A.referencedSize,R=A.subsegmentDuration,O=void 0;typeof S=="bigint"?O=S+k.BigInt(j)-k.BigInt(1):O=S+j-1;var W=S+"-"+O,q={baseUrl:a,timescale:c,timeline:o,periodStart:y,presentationTime:T,number:x,duration:R,sourceDuration:s,indexRange:W,type:f},U=d_(q)[0];r&&(U.map=r),p.push(U),typeof S=="bigint"?S+=k.BigInt(j):S+=j,T+=R/c,x++}return t.segments=p,t},rO=["AUDIO","SUBTITLES"],nO=1/60,f_=function(t){return J1(t,function(i){var a=i.timeline;return a}).sort(function(i,a){return i.timeline>a.timeline?1:-1})},iO=function(t,i){for(var a=0;a<t.length;a++)if(t[a].attributes.NAME===i)return t[a];return null},Sg=function(t){var i=[];return C1(t,rO,function(a,r,s,o){i=i.concat(a.playlists||[])}),i},Eg=function(t){var i=t.playlist,a=t.mediaSequence;i.mediaSequence=a,i.segments.forEach(function(r,s){r.number=i.mediaSequence+s})},aO=function(t){var i=t.oldPlaylists,a=t.newPlaylists,r=t.timelineStarts;a.forEach(function(s){s.discontinuitySequence=md(r,function(d){var p=d.timeline;return p===s.timeline});var o=iO(i,s.attributes.NAME);if(!!o&&!s.sidx){var u=s.segments[0],l=md(o.segments,function(d){return Math.abs(d.presentationTime-u.presentationTime)<nO});if(l===-1){Eg({playlist:s,mediaSequence:o.mediaSequence+o.segments.length}),s.segments[0].discontinuity=!0,s.discontinuityStarts.unshift(0),(!o.segments.length&&s.timeline>o.timeline||o.segments.length&&s.timeline>o.segments[o.segments.length-1].timeline)&&s.discontinuitySequence--;return}var c=o.segments[l];c.discontinuity&&!u.discontinuity&&(u.discontinuity=!0,s.discontinuityStarts.unshift(0),s.discontinuitySequence--),Eg({playlist:s,mediaSequence:o.segments[l].number})}})},sO=function(t){var i=t.oldManifest,a=t.newManifest,r=i.playlists.concat(Sg(i)),s=a.playlists.concat(Sg(a));return a.timelineStarts=f_([i.timelineStarts,a.timelineStarts]),aO({oldPlaylists:r,newPlaylists:s,timelineStarts:a.timelineStarts}),a},ml=function(t){return t&&t.uri+"-"+Z1(t.byterange)},_c=function(t){var i=l_(t.reduce(function(a,r){var s=r.attributes.id+(r.attributes.lang||"");if(!a[s])a[s]=r,a[s].attributes.timelineStarts=[];else{if(r.segments){var o;r.segments[0]&&(r.segments[0].discontinuity=!0),(o=a[s].segments).push.apply(o,r.segments)}r.attributes.contentProtection&&(a[s].attributes.contentProtection=r.attributes.contentProtection)}return a[s].attributes.timelineStarts.push({start:r.attributes.periodStart,timeline:r.attributes.periodStart}),a},{}));return i.map(function(a){return a.discontinuityStarts=Q1(a.segments||[],"discontinuity"),a})},Hf=function(t,i){var a=ml(t.sidx),r=a&&i[a]&&i[a].sidx;return r&&jf(t,r,t.sidx.resolvedUri),t},oO=function(t,i){if(i===void 0&&(i={}),!Object.keys(i).length)return t;for(var a in t)t[a]=Hf(t[a],i);return t},uO=function(t,i){var a,r=t.attributes,s=t.segments,o=t.sidx,u=t.mediaSequence,l=t.discontinuitySequence,c=t.discontinuityStarts,d={attributes:(a={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},a["PROGRAM-ID"]=1,a),uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuitySequence:l,discontinuityStarts:c,timelineStarts:r.timelineStarts,mediaSequence:u,segments:s};return r.contentProtection&&(d.contentProtection=r.contentProtection),o&&(d.sidx=o),i&&(d.attributes.AUDIO="audio",d.attributes.SUBTITLES="subs"),d},lO=function(t){var i,a=t.attributes,r=t.segments,s=t.mediaSequence,o=t.discontinuityStarts,u=t.discontinuitySequence;typeof r>"u"&&(r=[{uri:a.baseUrl,timeline:a.periodStart,resolvedUri:a.baseUrl||"",duration:a.sourceDuration,number:0}],a.duration=a.sourceDuration);var l=(i={NAME:a.id,BANDWIDTH:a.bandwidth},i["PROGRAM-ID"]=1,i);return a.codecs&&(l.CODECS=a.codecs),{attributes:l,uri:"",endList:a.type==="static",timeline:a.periodStart,resolvedUri:a.baseUrl||"",targetDuration:a.duration,timelineStarts:a.timelineStarts,discontinuityStarts:o,discontinuitySequence:u,mediaSequence:s,segments:r}},cO=function(t,i,a){i===void 0&&(i={}),a===void 0&&(a=!1);var r,s=t.reduce(function(u,l){var c=l.attributes.role&&l.attributes.role.value||"",d=l.attributes.lang||"",p=l.attributes.label||"main";if(d&&!l.attributes.label){var f=c?" ("+c+")":"";p=""+l.attributes.lang+f}u[p]||(u[p]={language:d,autoselect:!0,default:c==="main",playlists:[],uri:""});var y=Hf(uO(l,a),i);return u[p].playlists.push(y),typeof r>"u"&&c==="main"&&(r=l,r.default=!0),u},{});if(!r){var o=Object.keys(s)[0];s[o].default=!0}return s},dO=function(t,i){return i===void 0&&(i={}),t.reduce(function(a,r){var s=r.attributes.lang||"text";return a[s]||(a[s]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),a[s].playlists.push(Hf(lO(r),i)),a},{})},fO=function(t){return t.reduce(function(i,a){return a&&a.forEach(function(r){var s=r.channel,o=r.language;i[o]={autoselect:!1,default:!1,instreamId:s,language:o},r.hasOwnProperty("aspectRatio")&&(i[o].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(i[o].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(i[o]["3D"]=r["3D"])}),i},{})},hO=function(t){var i,a=t.attributes,r=t.segments,s=t.sidx,o=t.discontinuityStarts,u={attributes:(i={NAME:a.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:a.width,height:a.height},CODECS:a.codecs,BANDWIDTH:a.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:a.type==="static",timeline:a.periodStart,resolvedUri:"",targetDuration:a.duration,discontinuityStarts:o,timelineStarts:a.timelineStarts,segments:r};return a.contentProtection&&(u.contentProtection=a.contentProtection),s&&(u.sidx=s),u},pO=function(t){var i=t.attributes;return i.mimeType==="video/mp4"||i.mimeType==="video/webm"||i.contentType==="video"},mO=function(t){var i=t.attributes;return i.mimeType==="audio/mp4"||i.mimeType==="audio/webm"||i.contentType==="audio"},gO=function(t){var i=t.attributes;return i.mimeType==="text/vtt"||i.contentType==="text"},vO=function(t,i){t.forEach(function(a){a.mediaSequence=0,a.discontinuitySequence=md(i,function(r){var s=r.timeline;return s===a.timeline}),a.segments&&a.segments.forEach(function(r,s){r.number=s})})},Cg=function(t){return t?Object.keys(t).reduce(function(i,a){var r=t[a];return i.concat(r.playlists)},[]):[]},yO=function(t){var i,a=t.dashPlaylists,r=t.locations,s=t.sidxMapping,o=s===void 0?{}:s,u=t.previousManifest;if(!a.length)return{};var l=a[0].attributes,c=l.sourceDuration,d=l.type,p=l.suggestedPresentationDelay,f=l.minimumUpdatePeriod,y=_c(a.filter(pO)).map(hO),T=_c(a.filter(mO)),x=_c(a.filter(gO)),S=a.map(function(q){return q.attributes.captionServices}).filter(Boolean),C={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:c,playlists:oO(y,o)};f>=0&&(C.minimumUpdatePeriod=f*1e3),r&&(C.locations=r),d==="dynamic"&&(C.suggestedPresentationDelay=p);var A=C.playlists.length===0,j=T.length?cO(T,o,A):null,R=x.length?dO(x,o):null,O=y.concat(Cg(j),Cg(R)),W=O.map(function(q){var U=q.timelineStarts;return U});return C.timelineStarts=f_(W),vO(O,C.timelineStarts),j&&(C.mediaGroups.AUDIO.audio=j),R&&(C.mediaGroups.SUBTITLES.subs=R),S.length&&(C.mediaGroups["CLOSED-CAPTIONS"].cc=fO(S)),u?sO({oldManifest:u,newManifest:C}):C},_O=function(t,i,a){var r=t.NOW,s=t.clientOffset,o=t.availabilityStartTime,u=t.timescale,l=u===void 0?1:u,c=t.periodStart,d=c===void 0?0:c,p=t.minimumUpdatePeriod,f=p===void 0?0:p,y=(r+s)/1e3,T=o+d,x=y+f,S=x-T;return Math.ceil((S*l-i)/a)},h_=function(t,i){for(var a=t.type,r=t.minimumUpdatePeriod,s=r===void 0?0:r,o=t.media,u=o===void 0?"":o,l=t.sourceDuration,c=t.timescale,d=c===void 0?1:c,p=t.startNumber,f=p===void 0?1:p,y=t.periodStart,T=[],x=-1,S=0;S<i.length;S++){var C=i[S],A=C.d,j=C.r||0,R=C.t||0;x<0&&(x=R),R&&R>x&&(x=R);var O=void 0;if(j<0){var W=S+1;W===i.length?a==="dynamic"&&s>0&&u.indexOf("$Number$")>0?O=_O(t,x,A):O=(l*d-x)/A:O=(i[W].t-x)/A}else O=j+1;for(var q=f+T.length+O,U=f+T.length;U<q;)T.push({number:U,duration:A/d,time:x,timeline:y}),x+=A,U++}return T},TO=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,bO=function(t){return function(i,a,r,s){if(i==="$$")return"$";if(typeof t[a]>"u")return i;var o=""+t[a];return a==="RepresentationID"||(r?s=parseInt(s,10):s=1,o.length>=s)?o:""+new Array(s-o.length+1).join("0")+o}},wg=function(t,i){return t.replace(TO,bO(i))},xO=function(t,i){return!t.duration&&!i?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?Uf(t):h_(t,i)},SO=function(t,i){var a={RepresentationID:t.id,Bandwidth:t.bandwidth||0},r=t.initialization,s=r===void 0?{sourceURL:"",range:""}:r,o=Ds({baseUrl:t.baseUrl,source:wg(s.sourceURL,a),range:s.range}),u=xO(t,i);return u.map(function(l){a.Number=l.number,a.Time=l.time;var c=wg(t.media||"",a),d=t.timescale||1,p=t.presentationTimeOffset||0,f=t.periodStart+(l.time-p)/d,y={uri:c,timeline:l.timeline,duration:l.duration,resolvedUri:dl(t.baseUrl||"",c),map:o,number:l.number,presentationTime:f};return y})},EO=function(t,i){var a=t.baseUrl,r=t.initialization,s=r===void 0?{}:r,o=Ds({baseUrl:a,source:s.sourceURL,range:s.range}),u=Ds({baseUrl:a,source:i.media,range:i.mediaRange});return u.map=o,u},CO=function(t,i){var a=t.duration,r=t.segmentUrls,s=r===void 0?[]:r,o=t.periodStart;if(!a&&!i||a&&i)throw new Error(la.SEGMENT_TIME_UNSPECIFIED);var u=s.map(function(d){return EO(t,d)}),l;a&&(l=Uf(t)),i&&(l=h_(t,i));var c=l.map(function(d,p){if(u[p]){var f=u[p],y=t.timescale||1,T=t.presentationTimeOffset||0;return f.timeline=d.timeline,f.duration=d.duration,f.number=d.number,f.presentationTime=o+(d.time-T)/y,f}}).filter(function(d){return d});return c},wO=function(t){var i=t.attributes,a=t.segmentInfo,r,s;a.template?(s=SO,r=Kt(i,a.template)):a.base?(s=d_,r=Kt(i,a.base)):a.list&&(s=CO,r=Kt(i,a.list));var o={attributes:i};if(!s)return o;var u=s(r,a.segmentTimeline);if(r.duration){var l=r,c=l.duration,d=l.timescale,p=d===void 0?1:d;r.duration=c/p}else u.length?r.duration=u.reduce(function(f,y){return Math.max(f,Math.ceil(y.duration))},0):r.duration=0;return o.attributes=r,o.segments=u,a.base&&r.indexRange&&(o.sidx=u[0],o.segments=[]),o},PO=function(t){return t.map(wO)},lt=function(t,i){return c_(t.childNodes).filter(function(a){var r=a.tagName;return r===i})},Vf=function(t){return t.textContent.trim()},Ui=function(t){var i=31536e3,a=30*24*60*60,r=24*60*60,s=60*60,o=60,u=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=u.exec(t);if(!l)return 0;var c=l.slice(1),d=c[0],p=c[1],f=c[2],y=c[3],T=c[4],x=c[5];return parseFloat(d||0)*i+parseFloat(p||0)*a+parseFloat(f||0)*r+parseFloat(y||0)*s+parseFloat(T||0)*o+parseFloat(x||0)},AO=function(t){var i=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return i.test(t)&&(t+="Z"),Date.parse(t)},Pg={mediaPresentationDuration:function(t){return Ui(t)},availabilityStartTime:function(t){return AO(t)/1e3},minimumUpdatePeriod:function(t){return Ui(t)},suggestedPresentationDelay:function(t){return Ui(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return Ui(t)},start:function(t){return Ui(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},presentationTimeOffset:function(t){return parseInt(t,10)},duration:function(t){var i=parseInt(t,10);return isNaN(i)?Ui(t):i},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},Mt=function(t){return t&&t.attributes?c_(t.attributes).reduce(function(i,a){var r=Pg[a.name]||Pg.DEFAULT;return i[a.name]=r(a.value),i},{}):{}},kO={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},gl=function(t,i){return i.length?pl(t.map(function(a){return i.map(function(r){return dl(a,Vf(r))})})):t},$f=function(t){var i=lt(t,"SegmentTemplate")[0],a=lt(t,"SegmentList")[0],r=a&&lt(a,"SegmentURL").map(function(f){return Kt({tag:"SegmentURL"},Mt(f))}),s=lt(t,"SegmentBase")[0],o=a||i,u=o&&lt(o,"SegmentTimeline")[0],l=a||s||i,c=l&&lt(l,"Initialization")[0],d=i&&Mt(i);d&&c?d.initialization=c&&Mt(c):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});var p={template:d,segmentTimeline:u&&lt(u,"S").map(function(f){return Mt(f)}),list:a&&Kt(Mt(a),{segmentUrls:r,initialization:Mt(c)}),base:s&&Kt(Mt(s),{initialization:Mt(c)})};return Object.keys(p).forEach(function(f){p[f]||delete p[f]}),p},IO=function(t,i,a){return function(r){var s=lt(r,"BaseURL"),o=gl(i,s),u=Kt(t,Mt(r)),l=$f(r);return o.map(function(c){return{segmentInfo:Kt(a,l),attributes:Kt(u,{baseUrl:c})}})}},OO=function(t){return t.reduce(function(i,a){var r=Mt(a);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());var s=kO[r.schemeIdUri];if(s){i[s]={attributes:r};var o=lt(a,"cenc:pssh")[0];if(o){var u=Vf(o);i[s].pssh=u&&Oy(u)}}return i},{})},DO=function(t){if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var i=typeof t.value!="string"?[]:t.value.split(";");return i.map(function(r){var s,o;if(o=r,/^CC\d=/.test(r)){var u=r.split("=");s=u[0],o=u[1]}else/^CC\d$/.test(r)&&(s=r);return{channel:s,language:o}})}else if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var a=typeof t.value!="string"?[]:t.value.split(";");return a.map(function(r){var s={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){var o=r.split("="),u=o[0],l=o[1],c=l===void 0?"":l;s.channel=u,s.language=r,c.split(",").forEach(function(d){var p=d.split(":"),f=p[0],y=p[1];f==="lang"?s.language=y:f==="er"?s.easyReader=Number(y):f==="war"?s.aspectRatio=Number(y):f==="3D"&&(s["3D"]=Number(y))})}else s.language=r;return s.channel&&(s.channel="SERVICE"+s.channel),s})}},LO=function(t,i,a){return function(r){var s=Mt(r),o=gl(i,lt(r,"BaseURL")),u=lt(r,"Role")[0],l={role:Mt(u)},c=Kt(t,s,l),d=lt(r,"Accessibility")[0],p=DO(Mt(d));p&&(c=Kt(c,{captionServices:p}));var f=lt(r,"Label")[0];if(f&&f.childNodes.length){var y=f.childNodes[0].nodeValue.trim();c=Kt(c,{label:y})}var T=OO(lt(r,"ContentProtection"));Object.keys(T).length&&(c=Kt(c,{contentProtection:T}));var x=$f(r),S=lt(r,"Representation"),C=Kt(a,x);return pl(S.map(IO(c,o,C)))}},RO=function(t,i){return function(a,r){var s=gl(i,lt(a.node,"BaseURL")),o=Kt(t,{periodStart:a.attributes.start});typeof a.attributes.duration=="number"&&(o.periodDuration=a.attributes.duration);var u=lt(a.node,"AdaptationSet"),l=$f(a.node);return pl(u.map(LO(o,s,l)))}},MO=function(t){var i=t.attributes,a=t.priorPeriodAttributes,r=t.mpdType;return typeof i.start=="number"?i.start:a&&typeof a.start=="number"&&typeof a.duration=="number"?a.start+a.duration:!a&&r==="static"?0:null},FO=function(t,i){i===void 0&&(i={});var a=i,r=a.manifestUri,s=r===void 0?"":r,o=a.NOW,u=o===void 0?Date.now():o,l=a.clientOffset,c=l===void 0?0:l,d=lt(t,"Period");if(!d.length)throw new Error(la.INVALID_NUMBER_OF_PERIOD);var p=lt(t,"Location"),f=Mt(t),y=gl([s],lt(t,"BaseURL"));f.type=f.type||"static",f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=u,f.clientOffset=c,p.length&&(f.locations=p.map(Vf));var T=[];return d.forEach(function(x,S){var C=Mt(x),A=T[S-1];C.start=MO({attributes:C,priorPeriodAttributes:A?A.attributes:null,mpdType:f.type}),T.push({node:x,attributes:C})}),{locations:f.locations,representationInfo:pl(T.map(RO(f,y)))}},p_=function(t){if(t==="")throw new Error(la.DASH_EMPTY_MANIFEST);var i=new X1,a,r;try{a=i.parseFromString(t,"application/xml"),r=a&&a.documentElement.tagName==="MPD"?a.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(la.DASH_INVALID_XML);return r},NO=function(t){var i=lt(t,"UTCTiming")[0];if(!i)return null;var a=Mt(i);switch(a.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":a.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":a.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":a.method="DIRECT",a.value=Date.parse(a.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(la.UNSUPPORTED_UTC_TIMING_SCHEME)}return a},BO=function(t,i){i===void 0&&(i={});var a=FO(p_(t),i),r=PO(a.representationInfo);return yO({dashPlaylists:r,locations:a.locations,sidxMapping:i.sidxMapping,previousManifest:i.previousManifest})},UO=function(t){return NO(p_(t))},m_=Math.pow(2,32),jO=function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength),i;return t.getBigUint64?(i=t.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):t.getUint32(0)*m_+t.getUint32(4)},HO={getUint64:jO,MAX_UINT32:m_},Ag=HO.getUint64,VO=function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength),i={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},a=12;i.version===0?(i.earliestPresentationTime=t.getUint32(a),i.firstOffset=t.getUint32(a+4),a+=8):(i.earliestPresentationTime=Ag(n.subarray(a)),i.firstOffset=Ag(n.subarray(a+8)),a+=16),a+=2;var r=t.getUint16(a);for(a+=2;r>0;a+=12,r--)i.references.push({referenceType:(n[a]&128)>>>7,referencedSize:t.getUint32(a)&2147483647,subsegmentDuration:t.getUint32(a+4),startsWithSap:!!(n[a+8]&128),sapType:(n[a+8]&112)>>>4,sapDeltaTime:t.getUint32(a+8)&268435455});return i},$O=VO,qO=be([73,68,51]),WO=function(t,i){i===void 0&&(i=0),t=be(t);var a=t[i+5],r=t[i+6]<<21|t[i+7]<<14|t[i+8]<<7|t[i+9],s=(a&16)>>4;return s?r+20:r+10},es=function n(t,i){return i===void 0&&(i=0),t=be(t),t.length-i<10||!rt(t,qO,{offset:i})?i:(i+=WO(t,i),n(t,i))},kg=function(t){return typeof t=="string"?Fy(t):t},zO=function(t){return Array.isArray(t)?t.map(function(i){return kg(i)}):[kg(t)]},GO=function n(t,i,a){a===void 0&&(a=!1),i=zO(i),t=be(t);var r=[];if(!i.length)return r;for(var s=0;s<t.length;){var o=(t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3])>>>0,u=t.subarray(s+4,s+8);if(o===0)break;var l=s+o;if(l>t.length){if(a)break;l=t.length}var c=t.subarray(s+8,l);rt(u,i[0])&&(i.length===1?r.push(c):r.push.apply(r,n(c,i.slice(1),a))),s=l}return r},Ro={EBML:be([26,69,223,163]),DocType:be([66,130]),Segment:be([24,83,128,103]),SegmentInfo:be([21,73,169,102]),Tracks:be([22,84,174,107]),Track:be([174]),TrackNumber:be([215]),DefaultDuration:be([35,227,131]),TrackEntry:be([174]),TrackType:be([131]),FlagDefault:be([136]),CodecID:be([134]),CodecPrivate:be([99,162]),VideoTrack:be([224]),AudioTrack:be([225]),Cluster:be([31,67,182,117]),Timestamp:be([231]),TimestampScale:be([42,215,177]),BlockGroup:be([160]),BlockDuration:be([155]),Block:be([161]),SimpleBlock:be([163])},gd=[128,64,32,16,8,4,2,1],KO=function(t){for(var i=1,a=0;a<gd.length&&!(t&gd[a]);a++)i++;return i},Tu=function(t,i,a,r){a===void 0&&(a=!0),r===void 0&&(r=!1);var s=KO(t[i]),o=t.subarray(i,i+s);return a&&(o=Array.prototype.slice.call(t,i,i+s),o[0]^=gd[s-1]),{length:s,value:x1(o,{signed:r}),bytes:o}},Ig=function n(t){return typeof t=="string"?t.match(/.{1,2}/g).map(function(i){return n(i)}):typeof t=="number"?S1(t):t},XO=function(t){return Array.isArray(t)?t.map(function(i){return Ig(i)}):[Ig(t)]},YO=function n(t,i,a){if(a>=i.length)return i.length;var r=Tu(i,a,!1);if(rt(t.bytes,r.bytes))return a;var s=Tu(i,a+r.length);return n(t,i,a+s.length+s.value+r.length)},Og=function n(t,i){i=XO(i),t=be(t);var a=[];if(!i.length)return a;for(var r=0;r<t.length;){var s=Tu(t,r,!1),o=Tu(t,r+s.length),u=r+s.length+o.length;o.value===127&&(o.value=YO(s,t,u),o.value!==t.length&&(o.value-=u));var l=u+o.value>t.length?t.length:u+o.value,c=t.subarray(u,l);rt(i[0],s.bytes)&&(i.length===1?a.push(c):a=a.concat(n(c,i.slice(1))));var d=s.length+o.length+c.length;r+=d}return a},QO=be([0,0,0,1]),JO=be([0,0,1]),ZO=be([0,0,3]),eD=function(t){for(var i=[],a=1;a<t.length-2;)rt(t.subarray(a,a+3),ZO)&&(i.push(a+2),a++),a++;if(i.length===0)return t;var r=t.length-i.length,s=new Uint8Array(r),o=0;for(a=0;a<r;o++,a++)o===i[0]&&(o++,i.shift()),s[a]=t[o];return s},g_=function(t,i,a,r){r===void 0&&(r=1/0),t=be(t),a=[].concat(a);for(var s=0,o,u=0;s<t.length&&(u<r||o);){var l=void 0;if(rt(t.subarray(s),QO)?l=4:rt(t.subarray(s),JO)&&(l=3),!l){s++;continue}if(u++,o)return eD(t.subarray(o,s));var c=void 0;i==="h264"?c=t[s+l]&31:i==="h265"&&(c=t[s+l]>>1&63),a.indexOf(c)!==-1&&(o=s+l),s+=l+(i==="h264"?1:2)}return t.subarray(0,0)},tD=function(t,i,a){return g_(t,"h264",i,a)},rD=function(t,i,a){return g_(t,"h265",i,a)},$t={webm:be([119,101,98,109]),matroska:be([109,97,116,114,111,115,107,97]),flac:be([102,76,97,67]),ogg:be([79,103,103,83]),ac3:be([11,119]),riff:be([82,73,70,70]),avi:be([65,86,73]),wav:be([87,65,86,69]),"3gp":be([102,116,121,112,51,103]),mp4:be([102,116,121,112]),fmp4:be([115,116,121,112]),mov:be([102,116,121,112,113,116]),moov:be([109,111,111,118]),moof:be([109,111,111,102])},ca={aac:function(t){var i=es(t);return rt(t,[255,16],{offset:i,mask:[255,22]})},mp3:function(t){var i=es(t);return rt(t,[255,2],{offset:i,mask:[255,6]})},webm:function(t){var i=Og(t,[Ro.EBML,Ro.DocType])[0];return rt(i,$t.webm)},mkv:function(t){var i=Og(t,[Ro.EBML,Ro.DocType])[0];return rt(i,$t.matroska)},mp4:function(t){if(ca["3gp"](t)||ca.mov(t))return!1;if(rt(t,$t.mp4,{offset:4})||rt(t,$t.fmp4,{offset:4})||rt(t,$t.moof,{offset:4})||rt(t,$t.moov,{offset:4}))return!0},mov:function(t){return rt(t,$t.mov,{offset:4})},"3gp":function(t){return rt(t,$t["3gp"],{offset:4})},ac3:function(t){var i=es(t);return rt(t,$t.ac3,{offset:i})},ts:function(t){if(t.length<189&&t.length>=1)return t[0]===71;for(var i=0;i+188<t.length&&i<188;){if(t[i]===71&&t[i+188]===71)return!0;i+=1}return!1},flac:function(t){var i=es(t);return rt(t,$t.flac,{offset:i})},ogg:function(t){return rt(t,$t.ogg)},avi:function(t){return rt(t,$t.riff)&&rt(t,$t.avi,{offset:8})},wav:function(t){return rt(t,$t.riff)&&rt(t,$t.wav,{offset:8})},h264:function(t){return tD(t,7,3).length},h265:function(t){return rD(t,[32,33],3).length}},vd=Object.keys(ca).filter(function(n){return n!=="ts"&&n!=="h264"&&n!=="h265"}).concat(["ts","h264","h265"]);vd.forEach(function(n){var t=ca[n];ca[n]=function(i){return t(be(i))}});var nD=ca,qf=function(t){t=be(t);for(var i=0;i<vd.length;i++){var a=vd[i];if(nD[a](t))return a}return""},iD=function(t){return GO(t,["moof"]).length>0},Wf=9e4,zf,Gf,vl,Kf,v_,y_,__;zf=function(n){return n*Wf};Gf=function(n,t){return n*t};vl=function(n){return n/Wf};Kf=function(n,t){return n/t};v_=function(n,t){return zf(Kf(n,t))};y_=function(n,t){return Gf(vl(n),t)};__=function(n,t,i){return vl(i?n:n-t)};var bu={ONE_SECOND_IN_TS:Wf,secondsToVideoTs:zf,secondsToAudioTs:Gf,videoTsToSeconds:vl,audioTsToSeconds:Kf,audioTsToVideoTs:v_,videoTsToAudioTs:y_,metadataTsToSeconds:__};/**
 * @license
 * Video.js 7.20.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var T_="7.20.2",un={},jn=function(t,i){return un[t]=un[t]||[],i&&(un[t]=un[t].concat(i)),un[t]},aD=function(t,i){jn(t,i)},b_=function(t,i){var a=jn(t).indexOf(i);return a<=-1?!1:(un[t]=un[t].slice(),un[t].splice(a,1),!0)},sD=function(t,i){jn(t,[].concat(i).map(function(a){var r=function s(){return b_(t,s),a.apply(void 0,arguments)};return r}))},xu={prefixed:!0},Qo=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Dg=Qo[0],ts;for(var Mo=0;Mo<Qo.length;Mo++)if(Qo[Mo][1]in ae){ts=Qo[Mo];break}if(ts){for(var Fo=0;Fo<ts.length;Fo++)xu[Dg[Fo]]=ts[Fo];xu.prefixed=ts[0]!==Dg[0]}var er=[],oD=function(t,i){return function(a,r,s){var o=i.levels[r],u=new RegExp("^("+o+")$");if(a!=="log"&&s.unshift(a.toUpperCase()+":"),s.unshift(t+":"),er){er.push([].concat(s));var l=er.length-1e3;er.splice(0,l>0?l:0)}if(!!k.console){var c=k.console[a];!c&&a==="debug"&&(c=k.console.info||k.console.log),!(!c||!o||!u.test(a))&&c[Array.isArray(s)?"apply":"call"](k.console,s)}}};function x_(n){var t="info",i,a=function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];i("log",t,o)};return i=oD(n,a),a.createLogger=function(r){return x_(n+": "+r)},a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:t},a.level=function(r){if(typeof r=="string"){if(!a.levels.hasOwnProperty(r))throw new Error('"'+r+'" in not a valid log level');t=r}return t},a.history=function(){return er?[].concat(er):[]},a.history.filter=function(r){return(er||[]).filter(function(s){return new RegExp(".*"+r+".*").test(s[0])})},a.history.clear=function(){er&&(er.length=0)},a.history.disable=function(){er!==null&&(er.length=0,er=null)},a.history.enable=function(){er===null&&(er=[])},a.error=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i("error",t,s)},a.warn=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i("warn",t,s)},a.debug=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i("debug",t,s)},a}var Le=x_("VIDEOJS"),S_=Le.createLogger,uD=Object.prototype.toString,E_=function(t){return _n(t)?Object.keys(t):[]};function Ji(n,t){E_(n).forEach(function(i){return t(n[i],i)})}function lD(n,t,i){return i===void 0&&(i=0),E_(n).reduce(function(a,r){return t(a,n[r],r)},i)}function at(n){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return Object.assign?br.apply(void 0,[n].concat(i)):(i.forEach(function(r){!r||Ji(r,function(s,o){n[o]=s})}),n)}function _n(n){return!!n&&typeof n=="object"}function Ls(n){return _n(n)&&uD.call(n)==="[object Object]"&&n.constructor===Object}function Rs(n,t){if(!n||!t)return"";if(typeof k.getComputedStyle=="function"){var i;try{i=k.getComputedStyle(n)}catch{return""}return i?i.getPropertyValue(t)||i[t]:""}return""}var _t=k.navigator&&k.navigator.userAgent||"",Lg=/AppleWebKit\/([\d.]+)/i.exec(_t),cD=Lg?parseFloat(Lg.pop()):null,C_=/iPod/i.test(_t),dD=function(){var n=_t.match(/OS (\d+)_/i);return n&&n[1]?n[1]:null}(),xn=/Android/i.test(_t),Xf=function(){var n=_t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!n)return null;var t=n[1]&&parseFloat(n[1]),i=n[2]&&parseFloat(n[2]);return t&&i?parseFloat(n[1]+"."+n[2]):t||null}(),w_=xn&&Xf<5&&cD<537,P_=/Firefox/i.test(_t),Ws=/Edg/i.test(_t),Sn=!Ws&&(/Chrome/i.test(_t)||/CriOS/i.test(_t)),A_=function(){var n=_t.match(/(Chrome|CriOS)\/(\d+)/);return n&&n[2]?parseFloat(n[2]):null}(),zs=function(){var n=/MSIE\s(\d+)\.\d/.exec(_t),t=n&&parseFloat(n[1]);return!t&&/Trident\/7.0/i.test(_t)&&/rv:11.0/.test(_t)&&(t=11),t}(),Yf=/Safari/i.test(_t)&&!Sn&&!xn&&!Ws,k_=/Windows/i.test(_t),da=Boolean(xa()&&("ontouchstart"in k||k.navigator.maxTouchPoints||k.DocumentTouch&&k.document instanceof k.DocumentTouch)),Qf=/iPad/i.test(_t)||Yf&&da&&!/iPhone/i.test(_t),Jf=/iPhone/i.test(_t)&&!Qf,Jt=Jf||Qf||C_,yl=(Yf||Jt)&&!Sn,fD=Object.freeze({__proto__:null,IS_IPOD:C_,IOS_VERSION:dD,IS_ANDROID:xn,ANDROID_VERSION:Xf,IS_NATIVE_ANDROID:w_,IS_FIREFOX:P_,IS_EDGE:Ws,IS_CHROME:Sn,CHROME_VERSION:A_,IE_VERSION:zs,IS_SAFARI:Yf,IS_WINDOWS:k_,TOUCH_ENABLED:da,IS_IPAD:Qf,IS_IPHONE:Jf,IS_IOS:Jt,IS_ANY_SAFARI:yl});function Rg(n){return typeof n=="string"&&Boolean(n.trim())}function I_(n){if(n.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function hD(n){return new RegExp("(^|\\s)"+n+"($|\\s)")}function xa(){return ae===k.document}function Sa(n){return _n(n)&&n.nodeType===1}function O_(){try{return k.parent!==k.self}catch{return!0}}function D_(n){return function(t,i){if(!Rg(t))return ae[n](null);Rg(i)&&(i=ae.querySelector(i));var a=Sa(i)?i:ae;return a[n]&&a[n](t)}}function Ne(n,t,i,a){n===void 0&&(n="div"),t===void 0&&(t={}),i===void 0&&(i={});var r=ae.createElement(n);return Object.getOwnPropertyNames(t).forEach(function(s){var o=t[s];s.indexOf("aria-")!==-1||s==="role"||s==="type"?(Le.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+s+" to "+o+".")),r.setAttribute(s,o)):s==="textContent"?Ci(r,o):(r[s]!==o||s==="tabIndex")&&(r[s]=o)}),Object.getOwnPropertyNames(i).forEach(function(s){r.setAttribute(s,i[s])}),a&&eh(r,a),r}function Ci(n,t){return typeof n.textContent>"u"?n.innerText=t:n.textContent=t,n}function yd(n,t){t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}function mi(n,t){return I_(t),n.classList?n.classList.contains(t):hD(t).test(n.className)}function pn(n,t){return n.classList?n.classList.add(t):mi(n,t)||(n.className=(n.className+" "+t).trim()),n}function Gs(n,t){return n?(n.classList?n.classList.remove(t):(I_(t),n.className=n.className.split(/\s+/).filter(function(i){return i!==t}).join(" ")),n):(Le.warn("removeClass was called with an element that doesn't exist"),null)}function L_(n,t,i){var a=mi(n,t);if(typeof i=="function"&&(i=i(n,t)),typeof i!="boolean"&&(i=!a),i!==a)return i?pn(n,t):Gs(n,t),n}function R_(n,t){Object.getOwnPropertyNames(t).forEach(function(i){var a=t[i];a===null||typeof a>"u"||a===!1?n.removeAttribute(i):n.setAttribute(i,a===!0?"":a)})}function sn(n){var t={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(n&&n.attributes&&n.attributes.length>0)for(var a=n.attributes,r=a.length-1;r>=0;r--){var s=a[r].name,o=a[r].value;(typeof n[s]=="boolean"||i.indexOf(","+s+",")!==-1)&&(o=o!==null),t[s]=o}return t}function M_(n,t){return n.getAttribute(t)}function fa(n,t,i){n.setAttribute(t,i)}function _l(n,t){n.removeAttribute(t)}function F_(){ae.body.focus(),ae.onselectstart=function(){return!1}}function N_(){ae.onselectstart=function(){return!0}}function ha(n){if(n&&n.getBoundingClientRect&&n.parentNode){var t=n.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(a){t[a]!==void 0&&(i[a]=t[a])}),i.height||(i.height=parseFloat(Rs(n,"height"))),i.width||(i.width=parseFloat(Rs(n,"width"))),i}}function Ms(n){if(!n||n&&!n.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=n.offsetWidth,i=n.offsetHeight,a=0,r=0;n.offsetParent&&n!==ae[xu.fullscreenElement];)a+=n.offsetLeft,r+=n.offsetTop,n=n.offsetParent;return{left:a,top:r,width:t,height:i}}function Tl(n,t){var i={x:0,y:0};if(Jt)for(var a=n;a&&a.nodeName.toLowerCase()!=="html";){var r=Rs(a,"transform");if(/^matrix/.test(r)){var s=r.slice(7,-1).split(/,\s/).map(Number);i.x+=s[4],i.y+=s[5]}else if(/^matrix3d/.test(r)){var o=r.slice(9,-1).split(/,\s/).map(Number);i.x+=o[12],i.y+=o[13]}a=a.parentNode}var u={},l=Ms(t.target),c=Ms(n),d=c.width,p=c.height,f=t.offsetY-(c.top-l.top),y=t.offsetX-(c.left-l.left);return t.changedTouches&&(y=t.changedTouches[0].pageX-c.left,f=t.changedTouches[0].pageY+c.top,Jt&&(y-=i.x,f-=i.y)),u.y=1-Math.max(0,Math.min(1,f/p)),u.x=Math.max(0,Math.min(1,y/d)),u}function B_(n){return _n(n)&&n.nodeType===3}function Zf(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function U_(n){return typeof n=="function"&&(n=n()),(Array.isArray(n)?n:[n]).map(function(t){if(typeof t=="function"&&(t=t()),Sa(t)||B_(t))return t;if(typeof t=="string"&&/\S/.test(t))return ae.createTextNode(t)}).filter(function(t){return t})}function eh(n,t){return U_(t).forEach(function(i){return n.appendChild(i)}),n}function j_(n,t){return eh(Zf(n),t)}function Fs(n){return n.button===void 0&&n.buttons===void 0||n.button===0&&n.buttons===void 0||n.type==="mouseup"&&n.button===0&&n.buttons===0?!0:!(n.button!==0||n.buttons!==1)}var Hn=D_("querySelector"),H_=D_("querySelectorAll"),V_=Object.freeze({__proto__:null,isReal:xa,isEl:Sa,isInFrame:O_,createEl:Ne,textContent:Ci,prependTo:yd,hasClass:mi,addClass:pn,removeClass:Gs,toggleClass:L_,setAttributes:R_,getAttributes:sn,getAttribute:M_,setAttribute:fa,removeAttribute:_l,blockTextSelection:F_,unblockTextSelection:N_,getBoundingClientRect:ha,findPosition:Ms,getPointerPosition:Tl,isTextNode:B_,emptyEl:Zf,normalizeContent:U_,appendContent:eh,insertContent:j_,isSingleLeftClick:Fs,$:Hn,$$:H_}),$_=!1,_d,pD=function(){if(_d.options.autoSetup!==!1){var t=Array.prototype.slice.call(ae.getElementsByTagName("video")),i=Array.prototype.slice.call(ae.getElementsByTagName("audio")),a=Array.prototype.slice.call(ae.getElementsByTagName("video-js")),r=t.concat(i,a);if(r&&r.length>0)for(var s=0,o=r.length;s<o;s++){var u=r[s];if(u&&u.getAttribute){if(u.player===void 0){var l=u.getAttribute("data-setup");l!==null&&_d(u)}}else{Td(1);break}}else $_||Td(1)}};function Td(n,t){!xa()||(t&&(_d=t),k.setTimeout(pD,n))}function bd(){$_=!0,k.removeEventListener("load",bd)}xa()&&(ae.readyState==="complete"?bd():k.addEventListener("load",bd));var q_=function(t){var i=ae.createElement("style");return i.className=t,i},W_=function(t,i){t.styleSheet?t.styleSheet.cssText=i:t.textContent=i},mD=3,gD=mD;function En(){return gD++}var z_;k.WeakMap||(z_=function(){function n(){this.vdata="vdata"+Math.floor(k.performance&&k.performance.now()||Date.now()),this.data={}}var t=n.prototype;return t.set=function(a,r){var s=a[this.vdata]||En();return a[this.vdata]||(a[this.vdata]=s),this.data[s]=r,this},t.get=function(a){var r=a[this.vdata];if(r)return this.data[r];Le("We have no data for this element",a)},t.has=function(a){var r=a[this.vdata];return r in this.data},t.delete=function(a){var r=a[this.vdata];r&&(delete this.data[r],delete a[this.vdata])},n}());var Xt=k.WeakMap?new WeakMap:new z_;function Mg(n,t){if(!!Xt.has(n)){var i=Xt.get(n);i.handlers[t].length===0&&(delete i.handlers[t],n.removeEventListener?n.removeEventListener(t,i.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&Xt.delete(n)}}function th(n,t,i,a){i.forEach(function(r){n(t,r,a)})}function bl(n){if(n.fixed_)return n;function t(){return!0}function i(){return!1}if(!n||!n.isPropagationStopped||!n.isImmediatePropagationStopped){var a=n||k.event;n={};for(var r in a)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&r!=="path"&&(r==="returnValue"&&a.preventDefault||(n[r]=a[r]));if(n.target||(n.target=n.srcElement||ae),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){a.preventDefault&&a.preventDefault(),n.returnValue=!1,a.returnValue=!1,n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){a.stopPropagation&&a.stopPropagation(),n.cancelBubble=!0,a.cancelBubble=!0,n.isPropagationStopped=t},n.isPropagationStopped=i,n.stopImmediatePropagation=function(){a.stopImmediatePropagation&&a.stopImmediatePropagation(),n.isImmediatePropagationStopped=t,n.stopPropagation()},n.isImmediatePropagationStopped=i,n.clientX!==null&&n.clientX!==void 0){var s=ae.documentElement,o=ae.body;n.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),n.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}n.which=n.charCode||n.keyCode,n.button!==null&&n.button!==void 0&&(n.button=n.button&1?0:n.button&4?1:n.button&2?2:0)}return n.fixed_=!0,n}var No,vD=function(){if(typeof No!="boolean"){No=!1;try{var t=Object.defineProperty({},"passive",{get:function(){No=!0}});k.addEventListener("test",null,t),k.removeEventListener("test",null,t)}catch{}}return No},yD=["touchstart","touchmove"];function pr(n,t,i){if(Array.isArray(t))return th(pr,n,t,i);Xt.has(n)||Xt.set(n,{});var a=Xt.get(n);if(a.handlers||(a.handlers={}),a.handlers[t]||(a.handlers[t]=[]),i.guid||(i.guid=En()),a.handlers[t].push(i),a.dispatcher||(a.disabled=!1,a.dispatcher=function(s,o){if(!a.disabled){s=bl(s);var u=a.handlers[s.type];if(u)for(var l=u.slice(0),c=0,d=l.length;c<d&&!s.isImmediatePropagationStopped();c++)try{l[c].call(n,s,o)}catch(p){Le.error(p)}}}),a.handlers[t].length===1)if(n.addEventListener){var r=!1;vD()&&yD.indexOf(t)>-1&&(r={passive:!0}),n.addEventListener(t,a.dispatcher,r)}else n.attachEvent&&n.attachEvent("on"+t,a.dispatcher)}function Ft(n,t,i){if(!!Xt.has(n)){var a=Xt.get(n);if(!!a.handlers){if(Array.isArray(t))return th(Ft,n,t,i);var r=function(c,d){a.handlers[d]=[],Mg(c,d)};if(t===void 0){for(var s in a.handlers)Object.prototype.hasOwnProperty.call(a.handlers||{},s)&&r(n,s);return}var o=a.handlers[t];if(!!o){if(!i){r(n,t);return}if(i.guid)for(var u=0;u<o.length;u++)o[u].guid===i.guid&&o.splice(u--,1);Mg(n,t)}}}}function Ea(n,t,i){var a=Xt.has(n)?Xt.get(n):{},r=n.parentNode||n.ownerDocument;if(typeof t=="string"?t={type:t,target:n}:t.target||(t.target=n),t=bl(t),a.dispatcher&&a.dispatcher.call(n,t,i),r&&!t.isPropagationStopped()&&t.bubbles===!0)Ea.call(null,r,t,i);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){Xt.has(t.target)||Xt.set(t.target,{});var s=Xt.get(t.target);t.target[t.type]&&(s.disabled=!0,typeof t.target[t.type]=="function"&&t.target[t.type](),s.disabled=!1)}return!t.defaultPrevented}function xl(n,t,i){if(Array.isArray(t))return th(xl,n,t,i);var a=function r(){Ft(n,t,r),i.apply(this,arguments)};a.guid=i.guid=i.guid||En(),pr(n,t,a)}function G_(n,t,i){var a=function r(){Ft(n,t,r),i.apply(this,arguments)};a.guid=i.guid=i.guid||En(),pr(n,t,a)}var _D=Object.freeze({__proto__:null,fixEvent:bl,on:pr,off:Ft,trigger:Ea,one:xl,any:G_}),Ur=30,et=function(t,i,a){i.guid||(i.guid=En());var r=i.bind(t);return r.guid=a?a+"_"+i.guid:i.guid,r},Tn=function(t,i){var a=k.performance.now(),r=function(){var o=k.performance.now();o-a>=i&&(t.apply(void 0,arguments),a=o)};return r},TD=function(t,i,a,r){r===void 0&&(r=k);var s,o=function(){r.clearTimeout(s),s=null},u=function(){var c=this,d=arguments,p=function(){s=null,p=null,a||t.apply(c,d)};!s&&a&&t.apply(c,d),r.clearTimeout(s),s=r.setTimeout(p,i)};return u.cancel=o,u},St=function(){};St.prototype.allowedEvents_={};St.prototype.on=function(n,t){var i=this.addEventListener;this.addEventListener=function(){},pr(this,n,t),this.addEventListener=i};St.prototype.addEventListener=St.prototype.on;St.prototype.off=function(n,t){Ft(this,n,t)};St.prototype.removeEventListener=St.prototype.off;St.prototype.one=function(n,t){var i=this.addEventListener;this.addEventListener=function(){},xl(this,n,t),this.addEventListener=i};St.prototype.any=function(n,t){var i=this.addEventListener;this.addEventListener=function(){},G_(this,n,t),this.addEventListener=i};St.prototype.trigger=function(n){var t=n.type||n;typeof n=="string"&&(n={type:t}),n=bl(n),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](n),Ea(this,n)};St.prototype.dispatchEvent=St.prototype.trigger;var za;St.prototype.queueTrigger=function(n){var t=this;za||(za=new Map);var i=n.type||n,a=za.get(this);a||(a=new Map,za.set(this,a));var r=a.get(i);a.delete(i),k.clearTimeout(r);var s=k.setTimeout(function(){a.size===0&&(a=null,za.delete(t)),t.trigger(n)},0);a.set(i,s)};var Sl=function(t){return typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t},mn=function(t){return t instanceof St||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(i){return typeof t[i]=="function"})},bD=function(t,i){mn(t)?i():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(i))},xd=function(t){return typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length},Su=function(t,i,a){if(!t||!t.nodeName&&!mn(t))throw new Error("Invalid target for "+Sl(i)+"#"+a+"; must be a DOM node or evented object.")},K_=function(t,i,a){if(!xd(t))throw new Error("Invalid event type for "+Sl(i)+"#"+a+"; must be a non-empty string or array.")},X_=function(t,i,a){if(typeof t!="function")throw new Error("Invalid listener for "+Sl(i)+"#"+a+"; must be a function.")},Tc=function(t,i,a){var r=i.length<3||i[0]===t||i[0]===t.eventBusEl_,s,o,u;return r?(s=t.eventBusEl_,i.length>=3&&i.shift(),o=i[0],u=i[1]):(s=i[0],o=i[1],u=i[2]),Su(s,t,a),K_(o,t,a),X_(u,t,a),u=et(t,u),{isTargetingSelf:r,target:s,type:o,listener:u}},ni=function(t,i,a,r){Su(t,t,i),t.nodeName?_D[i](t,a,r):t[i](a,r)},xD={on:function(){for(var t=this,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];var s=Tc(this,a,"on"),o=s.isTargetingSelf,u=s.target,l=s.type,c=s.listener;if(ni(u,"on",l,c),!o){var d=function(){return t.off(u,l,c)};d.guid=c.guid;var p=function(){return t.off("dispose",d)};p.guid=c.guid,ni(this,"on","dispose",d),ni(u,"on","dispose",p)}},one:function(){for(var t=this,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];var s=Tc(this,a,"one"),o=s.isTargetingSelf,u=s.target,l=s.type,c=s.listener;if(o)ni(u,"one",l,c);else{var d=function p(){t.off(u,l,p);for(var f=arguments.length,y=new Array(f),T=0;T<f;T++)y[T]=arguments[T];c.apply(null,y)};d.guid=c.guid,ni(u,"one",l,d)}},any:function(){for(var t=this,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];var s=Tc(this,a,"any"),o=s.isTargetingSelf,u=s.target,l=s.type,c=s.listener;if(o)ni(u,"any",l,c);else{var d=function p(){t.off(u,l,p);for(var f=arguments.length,y=new Array(f),T=0;T<f;T++)y[T]=arguments[T];c.apply(null,y)};d.guid=c.guid,ni(u,"any",l,d)}},off:function(t,i,a){if(!t||xd(t))Ft(this.eventBusEl_,t,i);else{var r=t,s=i;Su(r,this,"off"),K_(s,this,"off"),X_(a,this,"off"),a=et(this,a),this.off("dispose",a),r.nodeName?(Ft(r,s,a),Ft(r,"dispose",a)):mn(r)&&(r.off(s,a),r.off("dispose",a))}},trigger:function(t,i){Su(this.eventBusEl_,this,"trigger");var a=t&&typeof t!="string"?t.type:t;if(!xd(a)){var r="Invalid event type for "+Sl(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(t)(this.log||Le).error(r);else throw new Error(r)}return Ea(this.eventBusEl_,t,i)}};function rh(n,t){t===void 0&&(t={});var i=t,a=i.eventBusKey;if(a){if(!n[a].nodeName)throw new Error('The eventBusKey "'+a+'" does not refer to an element.');n.eventBusEl_=n[a]}else n.eventBusEl_=Ne("span",{className:"vjs-event-bus"});return at(n,xD),n.eventedCallbacks&&n.eventedCallbacks.forEach(function(r){r()}),n.on("dispose",function(){n.off(),[n,n.el_,n.eventBusEl_].forEach(function(r){r&&Xt.has(r)&&Xt.delete(r)}),k.setTimeout(function(){n.eventBusEl_=null},0)}),n}var SD={state:{},setState:function(t){var i=this;typeof t=="function"&&(t=t());var a;return Ji(t,function(r,s){i.state[s]!==r&&(a=a||{},a[s]={from:i.state[s],to:r}),i.state[s]=r}),a&&mn(this)&&this.trigger({changes:a,type:"statechanged"}),a}};function Y_(n,t){return at(n,SD),n.state=at({},n.state,t),typeof n.handleStateChanged=="function"&&mn(n)&&n.on("statechanged",n.handleStateChanged),n}var Jo=function(t){return typeof t!="string"?t:t.replace(/./,function(i){return i.toLowerCase()})},ct=function(t){return typeof t!="string"?t:t.replace(/./,function(i){return i.toUpperCase()})},ED=function(t,i){return ct(t)===ct(i)};function Ze(){for(var n={},t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return i.forEach(function(r){!r||Ji(r,function(s,o){if(!Ls(s)){n[o]=s;return}Ls(n[o])||(n[o]={}),n[o]=Ze(n[o],s)})}),n}var CD=function(){function n(){this.map_={}}var t=n.prototype;return t.has=function(a){return a in this.map_},t.delete=function(a){var r=this.has(a);return delete this.map_[a],r},t.set=function(a,r){return this.map_[a]=r,this},t.forEach=function(a,r){for(var s in this.map_)a.call(r,this.map_[s],s,this)},n}(),wD=k.Map?k.Map:CD,PD=function(){function n(){this.set_={}}var t=n.prototype;return t.has=function(a){return a in this.set_},t.delete=function(a){var r=this.has(a);return delete this.set_[a],r},t.add=function(a){return this.set_[a]=1,this},t.forEach=function(a,r){for(var s in this.set_)a.call(r,s,s,this)},n}(),bc=k.Set?k.Set:PD,Z=function(){function n(i,a,r){var s=this;if(!i&&this.play?this.player_=i=this:this.player_=i,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ze({},this.options_),a=this.options_=Ze(this.options_,a),this.id_=a.id||a.el&&a.el.id,!this.id_){var o=i&&i.id&&i.id()||"no_player";this.id_=o+"_component_"+En()}this.name_=a.name||null,a.el?this.el_=a.el:a.createEl!==!1&&(this.el_=this.createEl()),a.className&&this.el_&&a.className.split(" ").forEach(function(u){return s.addClass(u)}),a.evented!==!1&&(rh(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Y_(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new bc,this.setIntervalIds_=new bc,this.rafIds_=new bc,this.namedRafs_=new wD,this.clearingTimersOnDispose_=!1,a.initChildren!==!1&&this.initChildren(),this.ready(r),a.reportTouchActivity!==!1&&this.enableTouchActivity()}var t=n.prototype;return t.dispose=function(a){if(a===void 0&&(a={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(a.restoreEl?this.el_.parentNode.replaceChild(a.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(a){return a?(this.options_=Ze(this.options_,a),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(a,r,s){return Ne(a,r,s)},t.localize=function(a,r,s){s===void 0&&(s=a);var o=this.player_.language&&this.player_.language(),u=this.player_.languages&&this.player_.languages(),l=u&&u[o],c=o&&o.split("-")[0],d=u&&u[c],p=s;return l&&l[a]?p=l[a]:d&&d[a]&&(p=d[a]),r&&(p=p.replace(/\{(\d+)\}/g,function(f,y){var T=r[y-1],x=T;return typeof T>"u"&&(x=f),x})),p},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(a){return this.childIndex_[a]},t.getChild=function(a){if(!!a)return this.childNameIndex_[a]},t.getDescendant=function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];r=r.reduce(function(l,c){return l.concat(c)},[]);for(var o=this,u=0;u<r.length;u++)if(o=o.getChild(r[u]),!o||!o.getChild)return;return o},t.addChild=function(a,r,s){r===void 0&&(r={}),s===void 0&&(s=this.children_.length);var o,u;if(typeof a=="string"){u=ct(a);var l=r.componentClass||u;r.name=u;var c=n.getComponent(l);if(!c)throw new Error("Component "+l+" does not exist");if(typeof c!="function")return null;o=new c(this.player_||this,r)}else o=a;if(o.parentComponent_&&o.parentComponent_.removeChild(o),this.children_.splice(s,0,o),o.parentComponent_=this,typeof o.id=="function"&&(this.childIndex_[o.id()]=o),u=u||o.name&&ct(o.name()),u&&(this.childNameIndex_[u]=o,this.childNameIndex_[Jo(u)]=o),typeof o.el=="function"&&o.el()){var d=null;this.children_[s+1]&&(this.children_[s+1].el_?d=this.children_[s+1].el_:Sa(this.children_[s+1])&&(d=this.children_[s+1])),this.contentEl().insertBefore(o.el(),d)}return o},t.removeChild=function(a){if(typeof a=="string"&&(a=this.getChild(a)),!(!a||!this.children_)){for(var r=!1,s=this.children_.length-1;s>=0;s--)if(this.children_[s]===a){r=!0,this.children_.splice(s,1);break}if(!!r){a.parentComponent_=null,this.childIndex_[a.id()]=null,this.childNameIndex_[ct(a.name())]=null,this.childNameIndex_[Jo(a.name())]=null;var o=a.el();o&&o.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el())}}},t.initChildren=function(){var a=this,r=this.options_.children;if(r){var s=this.options_,o=function(d){var p=d.name,f=d.opts;if(s[p]!==void 0&&(f=s[p]),f!==!1){f===!0&&(f={}),f.playerOptions=a.options_.playerOptions;var y=a.addChild(p,f);y&&(a[p]=y)}},u,l=n.getComponent("Tech");Array.isArray(r)?u=r:u=Object.keys(r),u.concat(Object.keys(this.options_).filter(function(c){return!u.some(function(d){return typeof d=="string"?c===d:c===d.name})})).map(function(c){var d,p;return typeof c=="string"?(d=c,p=r[d]||a.options_[d]||{}):(d=c.name,p=c),{name:d,opts:p}}).filter(function(c){var d=n.getComponent(c.opts.componentClass||ct(c.name));return d&&!l.isTech(d)}).forEach(o)}},t.buildCSSClass=function(){return""},t.ready=function(a,r){if(r===void 0&&(r=!1),!!a){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(a);return}r?a.call(this):this.setTimeout(a,1)}},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var a=this.readyQueue_;this.readyQueue_=[],a&&a.length>0&&a.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)},t.$=function(a,r){return Hn(a,r||this.contentEl())},t.$$=function(a,r){return H_(a,r||this.contentEl())},t.hasClass=function(a){return mi(this.el_,a)},t.addClass=function(a){pn(this.el_,a)},t.removeClass=function(a){Gs(this.el_,a)},t.toggleClass=function(a,r){L_(this.el_,a,r)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(a){return M_(this.el_,a)},t.setAttribute=function(a,r){fa(this.el_,a,r)},t.removeAttribute=function(a){_l(this.el_,a)},t.width=function(a,r){return this.dimension("width",a,r)},t.height=function(a,r){return this.dimension("height",a,r)},t.dimensions=function(a,r){this.width(a,!0),this.height(r)},t.dimension=function(a,r,s){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[a]=r:r==="auto"?this.el_.style[a]="":this.el_.style[a]=r+"px",s||this.trigger("componentresize");return}if(!this.el_)return 0;var o=this.el_.style[a],u=o.indexOf("px");return parseInt(u!==-1?o.slice(0,u):this.el_["offset"+ct(a)],10)},t.currentDimension=function(a){var r=0;if(a!=="width"&&a!=="height")throw new Error("currentDimension only accepts width or height value");if(r=Rs(this.el_,a),r=parseFloat(r),r===0||isNaN(r)){var s="offset"+ct(a);r=this.el_[s]}return r},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(a){this.player_&&(Ae.isEventKey(a,"Tab")||a.stopPropagation(),this.player_.handleKeyDown(a))},t.handleKeyPress=function(a){this.handleKeyDown(a)},t.emitTapEvents=function(){var a=0,r=null,s=10,o=200,u;this.on("touchstart",function(c){c.touches.length===1&&(r={pageX:c.touches[0].pageX,pageY:c.touches[0].pageY},a=k.performance.now(),u=!0)}),this.on("touchmove",function(c){if(c.touches.length>1)u=!1;else if(r){var d=c.touches[0].pageX-r.pageX,p=c.touches[0].pageY-r.pageY,f=Math.sqrt(d*d+p*p);f>s&&(u=!1)}});var l=function(){u=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(c){if(r=null,u===!0){var d=k.performance.now()-a;d<o&&(c.preventDefault(),this.trigger("tap"))}})},t.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var a=et(this.player(),this.player().reportUserActivity),r;this.on("touchstart",function(){a(),this.clearInterval(r),r=this.setInterval(a,250)});var s=function(u){a(),this.clearInterval(r)};this.on("touchmove",a),this.on("touchend",s),this.on("touchcancel",s)}},t.setTimeout=function(a,r){var s=this,o;return a=et(this,a),this.clearTimersOnDispose_(),o=k.setTimeout(function(){s.setTimeoutIds_.has(o)&&s.setTimeoutIds_.delete(o),a()},r),this.setTimeoutIds_.add(o),o},t.clearTimeout=function(a){return this.setTimeoutIds_.has(a)&&(this.setTimeoutIds_.delete(a),k.clearTimeout(a)),a},t.setInterval=function(a,r){a=et(this,a),this.clearTimersOnDispose_();var s=k.setInterval(a,r);return this.setIntervalIds_.add(s),s},t.clearInterval=function(a){return this.setIntervalIds_.has(a)&&(this.setIntervalIds_.delete(a),k.clearInterval(a)),a},t.requestAnimationFrame=function(a){var r=this;if(!this.supportsRaf_)return this.setTimeout(a,1e3/60);this.clearTimersOnDispose_();var s;return a=et(this,a),s=k.requestAnimationFrame(function(){r.rafIds_.has(s)&&r.rafIds_.delete(s),a()}),this.rafIds_.add(s),s},t.requestNamedAnimationFrame=function(a,r){var s=this;if(!this.namedRafs_.has(a)){this.clearTimersOnDispose_(),r=et(this,r);var o=this.requestAnimationFrame(function(){r(),s.namedRafs_.has(a)&&s.namedRafs_.delete(a)});return this.namedRafs_.set(a,o),a}},t.cancelNamedAnimationFrame=function(a){!this.namedRafs_.has(a)||(this.cancelAnimationFrame(this.namedRafs_.get(a)),this.namedRafs_.delete(a))},t.cancelAnimationFrame=function(a){return this.supportsRaf_?(this.rafIds_.has(a)&&(this.rafIds_.delete(a),k.cancelAnimationFrame(a)),a):this.clearTimeout(a)},t.clearTimersOnDispose_=function(){var a=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(r){var s=r[0],o=r[1];a[s].forEach(function(u,l){return a[o](l)})}),a.clearingTimersOnDispose_=!1}))},n.registerComponent=function(a,r){if(typeof a!="string"||!a)throw new Error('Illegal component name, "'+a+'"; must be a non-empty string.');var s=n.getComponent("Tech"),o=s&&s.isTech(r),u=n===r||n.prototype.isPrototypeOf(r.prototype);if(o||!u){var l;throw o?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+a+'"; '+l+".")}a=ct(a),n.components_||(n.components_={});var c=n.getComponent("Player");if(a==="Player"&&c&&c.players){var d=c.players,p=Object.keys(d);if(d&&p.length>0&&p.map(function(f){return d[f]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return n.components_[a]=r,n.components_[Jo(a)]=r,r},n.getComponent=function(a){if(!(!a||!n.components_))return n.components_[a]},n}();Z.prototype.supportsRaf_=typeof k.requestAnimationFrame=="function"&&typeof k.cancelAnimationFrame=="function";Z.registerComponent("Component",Z);function AD(n,t,i){if(typeof t!="number"||t<0||t>i)throw new Error("Failed to execute '"+n+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+i+").")}function Fg(n,t,i,a){return AD(n,a,i.length-1),i[a][t]}function xc(n){var t;return n===void 0||n.length===0?t={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:t={length:n.length,start:Fg.bind(null,"start",0,n),end:Fg.bind(null,"end",1,n)},k.Symbol&&k.Symbol.iterator&&(t[k.Symbol.iterator]=function(){return(n||[]).values()}),t}function gi(n,t){return Array.isArray(n)?xc(n):n===void 0||t===void 0?xc():xc([[n,t]])}function Q_(n,t){var i=0,a,r;if(!t)return 0;(!n||!n.length)&&(n=gi(0,0));for(var s=0;s<n.length;s++)a=n.start(s),r=n.end(s),r>t&&(r=t),i+=r-a;return i/t}function Yt(n){if(n instanceof Yt)return n;typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:_n(n)&&(typeof n.code=="number"&&(this.code=n.code),at(this,n)),this.message||(this.message=Yt.defaultMessages[this.code]||"")}Yt.prototype.code=0;Yt.prototype.message="";Yt.prototype.status=null;Yt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Yt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ji=0;ji<Yt.errorTypes.length;ji++)Yt[Yt.errorTypes[ji]]=ji,Yt.prototype[Yt.errorTypes[ji]]=ji;function hs(n){return n!=null&&typeof n.then=="function"}function Gr(n){hs(n)&&n.then(null,function(t){})}var Sd=function(t){var i=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(a,r,s){return t[r]&&(a[r]=t[r]),a},{cues:t.cues&&Array.prototype.map.call(t.cues,function(a){return{startTime:a.startTime,endTime:a.endTime,text:a.text,id:a.id}})});return i},kD=function(t){var i=t.$$("track"),a=Array.prototype.map.call(i,function(s){return s.track}),r=Array.prototype.map.call(i,function(s){var o=Sd(s.track);return s.src&&(o.src=s.src),o});return r.concat(Array.prototype.filter.call(t.textTracks(),function(s){return a.indexOf(s)===-1}).map(Sd))},ID=function(t,i){return t.forEach(function(a){var r=i.addRemoteTextTrack(a).track;!a.src&&a.cues&&a.cues.forEach(function(s){return r.addCue(s)})}),i.textTracks()},Ng={textTracksToJson:kD,jsonToTextTracks:ID,trackToJson_:Sd},Sc="vjs-modal-dialog",Ca=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.handleKeyDown_=function(o){return s.handleKeyDown(o)},s.close_=function(o){return s.close(o)},s.opened_=s.hasBeenOpened_=s.hasBeenFilled_=!1,s.closeable(!s.options_.uncloseable),s.content(s.options_.content),s.contentEl_=Ne("div",{className:Sc+"-content"},{role:"document"}),s.descEl_=Ne("p",{className:Sc+"-description vjs-control-text",id:s.el().getAttribute("aria-describedby")}),Ci(s.descEl_,s.description()),s.el_.appendChild(s.descEl_),s.el_.appendChild(s.contentEl_),s}var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},i.buildCSSClass=function(){return Sc+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var r=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(r+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),r},i.open=function(){if(!this.opened_){var r=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!r.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&r.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=r.controls(),r.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(r){return typeof r=="boolean"&&this[r?"open":"close"](),this.opened_},i.close=function(){if(!!this.opened_){var r=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&r.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&r.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(r){if(typeof r=="boolean"){var s=this.closeable_=!!r,o=this.getChild("closeButton");if(s&&!o){var u=this.contentEl_;this.contentEl_=this.el_,o=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=u,this.on(o,"close",this.close_)}!s&&o&&(this.off(o,"close",this.close_),this.removeChild(o),o.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(r){var s=this.contentEl(),o=s.parentNode,u=s.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,o.removeChild(s),this.empty(),j_(s,r),this.trigger("modalfill"),u?o.insertBefore(s,u):o.appendChild(s);var l=this.getChild("closeButton");l&&o.appendChild(l.el_)},i.empty=function(){this.trigger("beforemodalempty"),Zf(this.contentEl()),this.trigger("modalempty")},i.content=function(r){return typeof r<"u"&&(this.content_=r),this.content_},i.conditionalFocus_=function(){var r=ae.activeElement,s=this.player_.el_;this.previouslyActiveEl_=null,(s.contains(r)||s===r)&&(this.previouslyActiveEl_=r,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(r){if(r.stopPropagation(),Ae.isEventKey(r,"Escape")&&this.closeable()){r.preventDefault(),this.close();return}if(!!Ae.isEventKey(r,"Tab")){for(var s=this.focusableEls_(),o=this.el_.querySelector(":focus"),u,l=0;l<s.length;l++)if(o===s[l]){u=l;break}ae.activeElement===this.el_&&(u=0),r.shiftKey&&u===0?(s[s.length-1].focus(),r.preventDefault()):!r.shiftKey&&u===s.length-1&&(s[0].focus(),r.preventDefault())}},i.focusableEls_=function(){var r=this.el_.querySelectorAll("*");return Array.prototype.filter.call(r,function(s){return(s instanceof k.HTMLAnchorElement||s instanceof k.HTMLAreaElement)&&s.hasAttribute("href")||(s instanceof k.HTMLInputElement||s instanceof k.HTMLSelectElement||s instanceof k.HTMLTextAreaElement||s instanceof k.HTMLButtonElement)&&!s.hasAttribute("disabled")||s instanceof k.HTMLIFrameElement||s instanceof k.HTMLObjectElement||s instanceof k.HTMLEmbedElement||s.hasAttribute("tabindex")&&s.getAttribute("tabindex")!==-1||s.hasAttribute("contenteditable")})},t}(Z);Ca.prototype.options_={pauseOnOpen:!0,temporary:!0};Z.registerComponent("ModalDialog",Ca);var pa=function(n){le(t,n);function t(a){var r;a===void 0&&(a=[]),r=n.call(this)||this,r.tracks_=[],Object.defineProperty(Ce(r),"length",{get:function(){return this.tracks_.length}});for(var s=0;s<a.length;s++)r.addTrack(a[s]);return r}var i=t.prototype;return i.addTrack=function(r){var s=this,o=this.tracks_.length;""+o in this||Object.defineProperty(this,o,{get:function(){return this.tracks_[o]}}),this.tracks_.indexOf(r)===-1&&(this.tracks_.push(r),this.trigger({track:r,type:"addtrack",target:this})),r.labelchange_=function(){s.trigger({track:r,type:"labelchange",target:s})},mn(r)&&r.addEventListener("labelchange",r.labelchange_)},i.removeTrack=function(r){for(var s,o=0,u=this.length;o<u;o++)if(this[o]===r){s=this[o],s.off&&s.off(),this.tracks_.splice(o,1);break}!s||this.trigger({track:s,type:"removetrack",target:this})},i.getTrackById=function(r){for(var s=null,o=0,u=this.length;o<u;o++){var l=this[o];if(l.id===r){s=l;break}}return s},t}(St);pa.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var OD in pa.prototype.allowedEvents_)pa.prototype["on"+OD]=null;var Ec=function(t,i){for(var a=0;a<t.length;a++)!Object.keys(t[a]).length||i.id===t[a].id||(t[a].enabled=!1)},DD=function(n){le(t,n);function t(a){var r;a===void 0&&(a=[]);for(var s=a.length-1;s>=0;s--)if(a[s].enabled){Ec(a,a[s]);break}return r=n.call(this,a)||this,r.changing_=!1,r}var i=t.prototype;return i.addTrack=function(r){var s=this;r.enabled&&Ec(this,r),n.prototype.addTrack.call(this,r),r.addEventListener&&(r.enabledChange_=function(){s.changing_||(s.changing_=!0,Ec(s,r),s.changing_=!1,s.trigger("change"))},r.addEventListener("enabledchange",r.enabledChange_))},i.removeTrack=function(r){n.prototype.removeTrack.call(this,r),r.removeEventListener&&r.enabledChange_&&(r.removeEventListener("enabledchange",r.enabledChange_),r.enabledChange_=null)},t}(pa),Cc=function(t,i){for(var a=0;a<t.length;a++)!Object.keys(t[a]).length||i.id===t[a].id||(t[a].selected=!1)},LD=function(n){le(t,n);function t(a){var r;a===void 0&&(a=[]);for(var s=a.length-1;s>=0;s--)if(a[s].selected){Cc(a,a[s]);break}return r=n.call(this,a)||this,r.changing_=!1,Object.defineProperty(Ce(r),"selectedIndex",{get:function(){for(var u=0;u<this.length;u++)if(this[u].selected)return u;return-1},set:function(){}}),r}var i=t.prototype;return i.addTrack=function(r){var s=this;r.selected&&Cc(this,r),n.prototype.addTrack.call(this,r),r.addEventListener&&(r.selectedChange_=function(){s.changing_||(s.changing_=!0,Cc(s,r),s.changing_=!1,s.trigger("change"))},r.addEventListener("selectedchange",r.selectedChange_))},i.removeTrack=function(r){n.prototype.removeTrack.call(this,r),r.removeEventListener&&r.selectedChange_&&(r.removeEventListener("selectedchange",r.selectedChange_),r.selectedChange_=null)},t}(pa),J_=function(n){le(t,n);function t(){return n.apply(this,arguments)||this}var i=t.prototype;return i.addTrack=function(r){var s=this;n.prototype.addTrack.call(this,r),this.queueChange_||(this.queueChange_=function(){return s.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return s.trigger("selectedlanguagechange")}),r.addEventListener("modechange",this.queueChange_);var o=["metadata","chapters"];o.indexOf(r.kind)===-1&&r.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(r){n.prototype.removeTrack.call(this,r),r.removeEventListener&&(this.queueChange_&&r.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&r.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(pa),RD=function(){function n(i){i===void 0&&(i=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var a=0,r=i.length;a<r;a++)this.addTrackElement_(i[a])}var t=n.prototype;return t.addTrackElement_=function(a){var r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.trackElements_[r]}}),this.trackElements_.indexOf(a)===-1&&this.trackElements_.push(a)},t.getTrackElementByTrack_=function(a){for(var r,s=0,o=this.trackElements_.length;s<o;s++)if(a===this.trackElements_[s].track){r=this.trackElements_[s];break}return r},t.removeTrackElement_=function(a){for(var r=0,s=this.trackElements_.length;r<s;r++)if(a===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}},n}(),Bg=function(){function n(i){n.prototype.setCues_.call(this,i),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=n.prototype;return t.setCues_=function(a){var r=this.length||0,s=0,o=a.length;this.cues_=a,this.length_=a.length;var u=function(c){""+c in this||Object.defineProperty(this,""+c,{get:function(){return this.cues_[c]}})};if(r<o)for(s=r;s<o;s++)u.call(this,s)},t.getCueById=function(a){for(var r=null,s=0,o=this.length;s<o;s++){var u=this[s];if(u.id===a){r=u;break}}return r},n}(),MD={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},FD={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ND={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ug={disabled:"disabled",hidden:"hidden",showing:"showing"},nh=function(n){le(t,n);function t(i){var a;i===void 0&&(i={}),a=n.call(this)||this;var r={id:i.id||"vjs_track_"+En(),kind:i.kind||"",language:i.language||""},s=i.label||"",o=function(c){Object.defineProperty(Ce(a),c,{get:function(){return r[c]},set:function(){}})};for(var u in r)o(u);return Object.defineProperty(Ce(a),"label",{get:function(){return s},set:function(c){c!==s&&(s=c,this.trigger("labelchange"))}}),a}return t}(St),ih=function(t){var i=["protocol","hostname","port","pathname","search","hash","host"],a=ae.createElement("a");a.href=t;for(var r={},s=0;s<i.length;s++)r[i[s]]=a[i[s]];return r.protocol==="http:"&&(r.host=r.host.replace(/:80$/,"")),r.protocol==="https:"&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=k.location.protocol),r.host||(r.host=k.location.host),r},Z_=function(t){if(!t.match(/^https?:\/\//)){var i=ae.createElement("a");i.href=t,t=i.href}return t},ah=function(t){if(typeof t=="string"){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,a=i.exec(t);if(a)return a.pop().toLowerCase()}return""},El=function(t,i){i===void 0&&(i=k.location);var a=ih(t),r=a.protocol===":"?i.protocol:a.protocol,s=r+a.host!==i.protocol+i.host;return s},BD=Object.freeze({__proto__:null,parseUrl:ih,getAbsoluteURL:Z_,getFileExtension:ah,isCrossOrigin:El}),jg=function(t,i){var a=new k.WebVTT.Parser(k,k.vttjs,k.WebVTT.StringDecoder()),r=[];a.oncue=function(s){i.addCue(s)},a.onparsingerror=function(s){r.push(s)},a.onflush=function(){i.trigger({type:"loadeddata",target:i})},a.parse(t),r.length>0&&(k.console&&k.console.groupCollapsed&&k.console.groupCollapsed("Text Track parsing errors for "+i.src),r.forEach(function(s){return Le.error(s)}),k.console&&k.console.groupEnd&&k.console.groupEnd()),a.flush()},Hg=function(t,i){var a={uri:t},r=El(t);r&&(a.cors=r);var s=i.tech_.crossOrigin()==="use-credentials";s&&(a.withCredentials=s),ll.exports(a,et(this,function(o,u,l){if(o)return Le.error(o,u);i.loaded_=!0,typeof k.WebVTT!="function"?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],function(c){if(c.type==="vttjserror"){Le.error("vttjs failed to load, stopping trying to process "+i.src);return}return jg(l,i)}):jg(l,i)}))},Ks=function(n){le(t,n);function t(a){var r;if(a===void 0&&(a={}),!a.tech)throw new Error("A tech was not provided.");var s=Ze(a,{kind:ND[a.kind]||"subtitles",language:a.language||a.srclang||""}),o=Ug[s.mode]||"disabled",u=s.default;(s.kind==="metadata"||s.kind==="chapters")&&(o="hidden"),r=n.call(this,s)||this,r.tech_=s.tech,r.cues_=[],r.activeCues_=[],r.preload_=r.tech_.preloadTextTracks!==!1;var l=new Bg(r.cues_),c=new Bg(r.activeCues_),d=!1;r.timeupdateHandler=et(Ce(r),function(){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler);return}this.activeCues=this.activeCues,d&&(this.trigger("cuechange"),d=!1),this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)}});var p=function(){r.stopTracking()};return r.tech_.one("dispose",p),o!=="disabled"&&r.startTracking(),Object.defineProperties(Ce(r),{default:{get:function(){return u},set:function(){}},mode:{get:function(){return o},set:function(y){!Ug[y]||o!==y&&(o=y,!this.preload_&&o!=="disabled"&&this.cues.length===0&&Hg(this.src,this),this.stopTracking(),o!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return c;for(var y=this.tech_.currentTime(),T=[],x=0,S=this.cues.length;x<S;x++){var C=this.cues[x];(C.startTime<=y&&C.endTime>=y||C.startTime===C.endTime&&C.startTime<=y&&C.startTime+.5>=y)&&T.push(C)}if(d=!1,T.length!==this.activeCues_.length)d=!0;else for(var A=0;A<T.length;A++)this.activeCues_.indexOf(T[A])===-1&&(d=!0);return this.activeCues_=T,c.setCues_(this.activeCues_),c},set:function(){}}}),s.src?(r.src=s.src,r.preload_||(r.loaded_=!0),(r.preload_||s.kind!=="subtitles"&&s.kind!=="captions")&&Hg(r.src,Ce(r))):r.loaded_=!0,r}var i=t.prototype;return i.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)},i.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0)},i.addCue=function(r){var s=r;if(k.vttjs&&!(r instanceof k.vttjs.VTTCue)){s=new k.vttjs.VTTCue(r.startTime,r.endTime,r.text);for(var o in r)o in s||(s[o]=r[o]);s.id=r.id,s.originalCue_=r}for(var u=this.tech_.textTracks(),l=0;l<u.length;l++)u[l]!==this&&u[l].removeCue(s);this.cues_.push(s),this.cues.setCues_(this.cues_)},i.removeCue=function(r){for(var s=this.cues_.length;s--;){var o=this.cues_[s];if(o===r||o.originalCue_&&o.originalCue_===r){this.cues_.splice(s,1),this.cues.setCues_(this.cues_);break}}},t}(nh);Ks.prototype.allowedEvents_={cuechange:"cuechange"};var eT=function(n){le(t,n);function t(i){var a;i===void 0&&(i={});var r=Ze(i,{kind:FD[i.kind]||""});a=n.call(this,r)||this;var s=!1;return Object.defineProperty(Ce(a),"enabled",{get:function(){return s},set:function(u){typeof u!="boolean"||u===s||(s=u,this.trigger("enabledchange"))}}),r.enabled&&(a.enabled=r.enabled),a.loaded_=!0,a}return t}(nh),tT=function(n){le(t,n);function t(i){var a;i===void 0&&(i={});var r=Ze(i,{kind:MD[i.kind]||""});a=n.call(this,r)||this;var s=!1;return Object.defineProperty(Ce(a),"selected",{get:function(){return s},set:function(u){typeof u!="boolean"||u===s||(s=u,this.trigger("selectedchange"))}}),r.selected&&(a.selected=r.selected),a}return t}(nh),rT=0,UD=1,nT=2,jD=3,wa=function(n){le(t,n);function t(i){var a;i===void 0&&(i={}),a=n.call(this)||this;var r,s=new Ks(i);return a.kind=s.kind,a.src=s.src,a.srclang=s.language,a.label=s.label,a.default=s.default,Object.defineProperties(Ce(a),{readyState:{get:function(){return r}},track:{get:function(){return s}}}),r=rT,s.addEventListener("loadeddata",function(){r=nT,a.trigger({type:"load",target:Ce(a)})}),a}return t}(St);wa.prototype.allowedEvents_={load:"load"};wa.NONE=rT;wa.LOADING=UD;wa.LOADED=nT;wa.ERROR=jD;var Tr={audio:{ListClass:DD,TrackClass:eT,capitalName:"Audio"},video:{ListClass:LD,TrackClass:tT,capitalName:"Video"},text:{ListClass:J_,TrackClass:Ks,capitalName:"Text"}};Object.keys(Tr).forEach(function(n){Tr[n].getterName=n+"Tracks",Tr[n].privateName=n+"Tracks_"});var ma={remoteText:{ListClass:J_,TrackClass:Ks,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:RD,TrackClass:wa,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},zt=br({},Tr,ma);ma.names=Object.keys(ma);Tr.names=Object.keys(Tr);zt.names=[].concat(ma.names).concat(Tr.names);function HD(n,t,i,a,r){r===void 0&&(r={});var s=n.textTracks();r.kind=t,i&&(r.label=i),a&&(r.language=a),r.tech=n;var o=new zt.text.TrackClass(r);return s.addTrack(o),o}var Xe=function(n){le(t,n);function t(a,r){var s;return a===void 0&&(a={}),r===void 0&&(r=function(){}),a.reportTouchActivity=!1,s=n.call(this,null,a,r)||this,s.onDurationChange_=function(o){return s.onDurationChange(o)},s.trackProgress_=function(o){return s.trackProgress(o)},s.trackCurrentTime_=function(o){return s.trackCurrentTime(o)},s.stopTrackingCurrentTime_=function(o){return s.stopTrackingCurrentTime(o)},s.disposeSourceHandler_=function(o){return s.disposeSourceHandler(o)},s.queuedHanders_=new Set,s.hasStarted_=!1,s.on("playing",function(){this.hasStarted_=!0}),s.on("loadstart",function(){this.hasStarted_=!1}),zt.names.forEach(function(o){var u=zt[o];a&&a[u.getterName]&&(s[u.privateName]=a[u.getterName])}),s.featuresProgressEvents||s.manualProgressOn(),s.featuresTimeupdateEvents||s.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(o){a["native"+o+"Tracks"]===!1&&(s["featuresNative"+o+"Tracks"]=!1)}),a.nativeCaptions===!1||a.nativeTextTracks===!1?s.featuresNativeTextTracks=!1:(a.nativeCaptions===!0||a.nativeTextTracks===!0)&&(s.featuresNativeTextTracks=!0),s.featuresNativeTextTracks||s.emulateTextTracks(),s.preloadTextTracks=a.preloadTextTracks!==!1,s.autoRemoteTextTracks_=new zt.text.ListClass,s.initTrackListeners(),a.nativeControlsForTouch||s.emitTapEvents(),s.constructor&&(s.name_=s.constructor.name||"Unknown Tech"),s}var i=t.prototype;return i.triggerSourceset=function(r){var s=this;this.isReady_||this.one("ready",function(){return s.setTimeout(function(){return s.triggerSourceset(r)},1)}),this.trigger({src:r,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},i.trackProgress=function(r){this.stopTrackingProgress(),this.progressInterval=this.setInterval(et(this,function(){var s=this.bufferedPercent();this.bufferedPercent_!==s&&this.trigger("progress"),this.bufferedPercent_=s,s===1&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(r){this.duration_=this.duration()},i.buffered=function(){return gi(0,0)},i.bufferedPercent=function(){return Q_(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(Tr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),n.prototype.dispose.call(this)},i.clearTracks=function(r){var s=this;r=[].concat(r),r.forEach(function(o){for(var u=s[o+"Tracks"]()||[],l=u.length;l--;){var c=u[l];o==="text"&&s.removeRemoteTextTrack(c),u.removeTrack(c)}})},i.cleanupAutoTextTracks=function(){for(var r=this.autoRemoteTextTracks_||[],s=r.length;s--;){var o=r[s];this.removeRemoteTextTrack(o)}},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(r){return r!==void 0&&(this.error_=new Yt(r),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?gi(0,0):gi()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var r=this;Tr.names.forEach(function(s){var o=Tr[s],u=function(){r.trigger(s+"trackchange")},l=r[o.getterName]();l.addEventListener("removetrack",u),l.addEventListener("addtrack",u),r.on("dispose",function(){l.removeEventListener("removetrack",u),l.removeEventListener("addtrack",u)})})},i.addWebVttScript_=function(){var r=this;if(!k.WebVTT)if(ae.body.contains(this.el())){if(!this.options_["vtt.js"]&&Ls(cd.exports)&&Object.keys(cd.exports).length>0){this.trigger("vttjsloaded");return}var s=ae.createElement("script");s.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",s.onload=function(){r.trigger("vttjsloaded")},s.onerror=function(){r.trigger("vttjserror")},this.on("dispose",function(){s.onload=null,s.onerror=null}),k.WebVTT=!0,this.el().parentNode.appendChild(s)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var r=this,s=this.textTracks(),o=this.remoteTextTracks(),u=function(f){return s.addTrack(f.track)},l=function(f){return s.removeTrack(f.track)};o.on("addtrack",u),o.on("removetrack",l),this.addWebVttScript_();var c=function(){return r.trigger("texttrackchange")},d=function(){c();for(var f=0;f<s.length;f++){var y=s[f];y.removeEventListener("cuechange",c),y.mode==="showing"&&y.addEventListener("cuechange",c)}};d(),s.addEventListener("change",d),s.addEventListener("addtrack",d),s.addEventListener("removetrack",d),this.on("dispose",function(){o.off("addtrack",u),o.off("removetrack",l),s.removeEventListener("change",d),s.removeEventListener("addtrack",d),s.removeEventListener("removetrack",d);for(var p=0;p<s.length;p++){var f=s[p];f.removeEventListener("cuechange",c)}})},i.addTextTrack=function(r,s,o){if(!r)throw new Error("TextTrack kind is required but was not provided");return HD(this,r,s,o)},i.createRemoteTextTrack=function(r){var s=Ze(r,{tech:this});return new ma.remoteTextEl.TrackClass(s)},i.addRemoteTextTrack=function(r,s){var o=this;r===void 0&&(r={});var u=this.createRemoteTextTrack(r);return s!==!0&&s!==!1&&(Le.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),s=!0),this.remoteTextTrackEls().addTrackElement_(u),this.remoteTextTracks().addTrack(u.track),s!==!0&&this.ready(function(){return o.autoRemoteTextTracks_.addTrack(u.track)}),u},i.removeRemoteTextTrack=function(r){var s=this.remoteTextTrackEls().getTrackElementByTrack_(r);this.remoteTextTrackEls().removeTrackElement_(s),this.remoteTextTracks().removeTrack(r),this.autoRemoteTextTracks_.removeTrack(r)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var r=this.options_.Promise||k.Promise;if(r)return r.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.requestVideoFrameCallback=function(r){var s=this,o=En();return this.paused()?(this.queuedHanders_.add(o),this.one("playing",function(){s.queuedHanders_.has(o)&&(s.queuedHanders_.delete(o),r())})):this.requestNamedAnimationFrame(o,r),o},i.cancelVideoFrameCallback=function(r){this.queuedHanders_.has(r)?this.queuedHanders_.delete(r):this.cancelNamedAnimationFrame(r)},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(r,s){return t.canPlayType(r.type)},t.isTech=function(r){return r.prototype instanceof t||r instanceof t||r===t},t.registerTech=function(r,s){if(t.techs_||(t.techs_={}),!t.isTech(s))throw new Error("Tech "+r+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return r=ct(r),t.techs_[r]=s,t.techs_[Jo(r)]=s,r!=="Tech"&&t.defaultTechOrder_.push(r),s},t.getTech=function(r){if(!!r){if(t.techs_&&t.techs_[r])return t.techs_[r];if(r=ct(r),k&&k.videojs&&k.videojs[r])return Le.warn("The "+r+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),k.videojs[r]}},t}(Z);zt.names.forEach(function(n){var t=zt[n];Xe.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}});Xe.prototype.featuresVolumeControl=!0;Xe.prototype.featuresMuteControl=!0;Xe.prototype.featuresFullscreenResize=!1;Xe.prototype.featuresPlaybackRate=!1;Xe.prototype.featuresProgressEvents=!1;Xe.prototype.featuresSourceset=!1;Xe.prototype.featuresTimeupdateEvents=!1;Xe.prototype.featuresNativeTextTracks=!1;Xe.prototype.featuresVideoFrameCallback=!1;Xe.withSourceHandlers=function(n){n.registerSourceHandler=function(i,a){var r=n.sourceHandlers;r||(r=n.sourceHandlers=[]),a===void 0&&(a=r.length),r.splice(a,0,i)},n.canPlayType=function(i){for(var a=n.sourceHandlers||[],r,s=0;s<a.length;s++)if(r=a[s].canPlayType(i),r)return r;return""},n.selectSourceHandler=function(i,a){for(var r=n.sourceHandlers||[],s,o=0;o<r.length;o++)if(s=r[o].canHandleSource(i,a),s)return r[o];return null},n.canPlaySource=function(i,a){var r=n.selectSourceHandler(i,a);return r?r.canHandleSource(i,a):""};var t=["seekable","seeking","duration"];t.forEach(function(i){var a=this[i];typeof a=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):a.apply(this,arguments)})},n.prototype),n.prototype.setSource=function(i){var a=n.selectSourceHandler(i,this.options_);a||(n.nativeSourceHandler?a=n.nativeSourceHandler:Le.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),a!==n.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=a.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Z.registerComponent("Tech",Xe);Xe.registerTech("Tech",Xe);Xe.defaultTechOrder_=[];var vi={},Ed={},Eu={};function VD(n,t){vi[n]=vi[n]||[],vi[n].push(t)}function $D(n,t,i){n.setTimeout(function(){return ai(t,vi[t.type],i,n)},1)}function qD(n,t){n.forEach(function(i){return i.setTech&&i.setTech(t)})}function WD(n,t,i){return n.reduceRight(sh(i),t[i]())}function zD(n,t,i,a){return t[i](n.reduce(sh(i),a))}function Vg(n,t,i,a){a===void 0&&(a=null);var r="call"+ct(i),s=n.reduce(sh(r),a),o=s===Eu,u=o?null:t[i](s);return XD(n,i,u,o),u}var GD={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},KD={setCurrentTime:1,setMuted:1,setVolume:1},$g={play:1,pause:1};function sh(n){return function(t,i){return t===Eu?Eu:i[n]?i[n](t):t}}function XD(n,t,i,a){for(var r=n.length-1;r>=0;r--){var s=n[r];s[t]&&s[t](a,i)}}function YD(n){Ed[n.id()]=null}function QD(n,t){var i=Ed[n.id()],a=null;if(i==null)return a=t(n),Ed[n.id()]=[[t,a]],a;for(var r=0;r<i.length;r++){var s=i[r],o=s[0],u=s[1];o===t&&(a=u)}return a===null&&(a=t(n),i.push([t,a])),a}function ai(n,t,i,a,r,s){n===void 0&&(n={}),t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s=!1);var o=t,u=o[0],l=o.slice(1);if(typeof u=="string")ai(n,vi[u],i,a,r,s);else if(u){var c=QD(a,u);if(!c.setSource)return r.push(c),ai(n,l,i,a,r,s);c.setSource(at({},n),function(d,p){if(d)return ai(n,l,i,a,r,s);r.push(c),ai(p,n.type===p.type?l:vi[p.type],i,a,r,s)})}else l.length?ai(n,l,i,a,r,s):s?i(n,r):ai(n,vi["*"],i,a,r,!0)}var JD={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Cu=function(t){t===void 0&&(t="");var i=ah(t),a=JD[i.toLowerCase()];return a||""},ZD=function(t,i){if(!i)return"";if(t.cache_.source.src===i&&t.cache_.source.type)return t.cache_.source.type;var a=t.cache_.sources.filter(function(u){return u.src===i});if(a.length)return a[0].type;for(var r=t.$$("source"),s=0;s<r.length;s++){var o=r[s];if(o.type&&o.src&&o.src===i)return o.type}return Cu(i)},eL=function n(t){if(Array.isArray(t)){var i=[];t.forEach(function(a){a=n(a),Array.isArray(a)?i=i.concat(a):_n(a)&&i.push(a)}),t=i}else typeof t=="string"&&t.trim()?t=[qg({src:t})]:_n(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[qg(t)]:t=[];return t};function qg(n){if(!n.type){var t=Cu(n.src);t&&(n.type=t)}return n}var tL=function(n){le(t,n);function t(i,a,r){var s,o=Ze({createEl:!1},a);if(s=n.call(this,i,o,r)||this,!a.playerOptions.sources||a.playerOptions.sources.length===0)for(var u=0,l=a.playerOptions.techOrder;u<l.length;u++){var c=ct(l[u]),d=Xe.getTech(c);if(c||(d=Z.getComponent(c)),d&&d.isSupported()){i.loadTech_(c);break}}else i.src(a.playerOptions.sources);return s}return t}(Z);Z.registerComponent("MediaLoader",tL);var Cl=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.options_.controlText&&s.controlText(s.options_.controlText),s.handleMouseOver_=function(o){return s.handleMouseOver(o)},s.handleMouseOut_=function(o){return s.handleMouseOut(o)},s.handleClick_=function(o){return s.handleClick(o)},s.handleKeyDown_=function(o){return s.handleKeyDown(o)},s.emitTapEvents(),s.enable(),s}var i=t.prototype;return i.createEl=function(r,s,o){r===void 0&&(r="div"),s===void 0&&(s={}),o===void 0&&(o={}),s=at({className:this.buildCSSClass(),tabIndex:0},s),r==="button"&&Le.error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead."),o=at({role:"button"},o),this.tabIndex_=s.tabIndex;var u=Ne(r,s,o);return u.appendChild(Ne("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(u),u},i.dispose=function(){this.controlTextEl_=null,n.prototype.dispose.call(this)},i.createControlTextEl=function(r){return this.controlTextEl_=Ne("span",{className:"vjs-control-text"},{"aria-live":"polite"}),r&&r.appendChild(this.controlTextEl_),this.controlText(this.controlText_,r),this.controlTextEl_},i.controlText=function(r,s){if(s===void 0&&(s=this.el()),r===void 0)return this.controlText_||"Need Text";var o=this.localize(r);this.controlText_=r,Ci(this.controlTextEl_,o),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&s.setAttribute("title",o)},i.buildCSSClass=function(){return"vjs-control vjs-button "+n.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(r){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(r){Ae.isEventKey(r,"Space")||Ae.isEventKey(r,"Enter")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,r)},t}(Z);Z.registerComponent("ClickableComponent",Cl);var rL=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.update(),s.update_=function(o){return s.update(o)},a.on("posterchange",s.update_),s}var i=t.prototype;return i.dispose=function(){this.player().off("posterchange",this.update_),n.prototype.dispose.call(this)},i.createEl=function(){var r=Ne("div",{className:"vjs-poster",tabIndex:-1});return r},i.update=function(r){var s=this.player().poster();this.setSrc(s),s?this.show():this.hide()},i.setSrc=function(r){var s="";r&&(s='url("'+r+'")'),this.el_.style.backgroundImage=s},i.handleClick=function(r){if(!!this.player_.controls()){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((zs||Ws)&&s)&&this.player_.tech(!0).focus(),this.player_.paused()?Gr(this.player_.play()):this.player_.pause()}},t}(Cl);Z.registerComponent("PosterImage",rL);var vr="#222",Wg="#ccc",nL={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function wc(n,t){var i;if(n.length===4)i=n[1]+n[1]+n[2]+n[2]+n[3]+n[3];else if(n.length===7)i=n.slice(1);else throw new Error("Invalid color code provided, "+n+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function Pc(n,t,i){try{n.style[t]=i}catch{return}}var iL=function(n){le(t,n);function t(a,r,s){var o;o=n.call(this,a,r,s)||this;var u=function(c){return o.updateDisplay(c)};return a.on("loadstart",function(l){return o.toggleDisplay(l)}),a.on("texttrackchange",u),a.on("loadedmetadata",function(l){return o.preselectTrack(l)}),a.ready(et(Ce(o),function(){if(a.tech_&&a.tech_.featuresNativeTextTracks){this.hide();return}a.on("fullscreenchange",u),a.on("playerresize",u),k.addEventListener("orientationchange",u),a.on("dispose",function(){return k.removeEventListener("orientationchange",u)});for(var l=this.options_.playerOptions.tracks||[],c=0;c<l.length;c++)this.player_.addRemoteTextTrack(l[c],!0);this.preselectTrack()})),o}var i=t.prototype;return i.preselectTrack=function(){for(var r={captions:1,subtitles:1},s=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,u,l,c,d=0;d<s.length;d++){var p=s[d];o&&o.enabled&&o.language&&o.language===p.language&&p.kind in r?p.kind===o.kind?c=p:c||(c=p):o&&!o.enabled?(c=null,u=null,l=null):p.default&&(p.kind==="descriptions"&&!u?u=p:p.kind in r&&!l&&(l=p))}c?c.mode="showing":l?l.mode="showing":u&&(u.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){typeof k.WebVTT=="function"&&k.WebVTT.processCues(k,[],this.el_)},i.updateDisplay=function(){var r=this.player_.textTracks(),s=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),s){for(var o=[],u=0;u<r.length;++u){var l=r[u];l.mode==="showing"&&o.push(l)}this.updateForTrack(o);return}for(var c=null,d=null,p=r.length;p--;){var f=r[p];f.mode==="showing"&&(f.kind==="descriptions"?c=f:d=f)}d?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(d)):c&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(c))},i.updateDisplayState=function(r){for(var s=this.player_.textTrackSettings.getValues(),o=r.activeCues,u=o.length;u--;){var l=o[u];if(!!l){var c=l.displayState;if(s.color&&(c.firstChild.style.color=s.color),s.textOpacity&&Pc(c.firstChild,"color",wc(s.color||"#fff",s.textOpacity)),s.backgroundColor&&(c.firstChild.style.backgroundColor=s.backgroundColor),s.backgroundOpacity&&Pc(c.firstChild,"backgroundColor",wc(s.backgroundColor||"#000",s.backgroundOpacity)),s.windowColor&&(s.windowOpacity?Pc(c,"backgroundColor",wc(s.windowColor,s.windowOpacity)):c.style.backgroundColor=s.windowColor),s.edgeStyle&&(s.edgeStyle==="dropshadow"?c.firstChild.style.textShadow="2px 2px 3px "+vr+", 2px 2px 4px "+vr+", 2px 2px 5px "+vr:s.edgeStyle==="raised"?c.firstChild.style.textShadow="1px 1px "+vr+", 2px 2px "+vr+", 3px 3px "+vr:s.edgeStyle==="depressed"?c.firstChild.style.textShadow="1px 1px "+Wg+", 0 1px "+Wg+", -1px -1px "+vr+", 0 -1px "+vr:s.edgeStyle==="uniform"&&(c.firstChild.style.textShadow="0 0 4px "+vr+", 0 0 4px "+vr+", 0 0 4px "+vr+", 0 0 4px "+vr)),s.fontPercent&&s.fontPercent!==1){var d=k.parseFloat(c.style.fontSize);c.style.fontSize=d*s.fontPercent+"px",c.style.height="auto",c.style.top="auto"}s.fontFamily&&s.fontFamily!=="default"&&(s.fontFamily==="small-caps"?c.firstChild.style.fontVariant="small-caps":c.firstChild.style.fontFamily=nL[s.fontFamily])}}},i.updateForTrack=function(r){if(Array.isArray(r)||(r=[r]),!(typeof k.WebVTT!="function"||r.every(function(y){return!y.activeCues}))){for(var s=[],o=0;o<r.length;++o)for(var u=r[o],l=0;l<u.activeCues.length;++l)s.push(u.activeCues[l]);k.WebVTT.processCues(k,s,this.el_);for(var c=0;c<r.length;++c){for(var d=r[c],p=0;p<d.activeCues.length;++p){var f=d.activeCues[p].displayState;pn(f,"vjs-text-track-cue"),pn(f,"vjs-text-track-cue-"+(d.language?d.language:c)),d.language&&fa(f,"lang",d.language)}this.player_.textTrackSettings&&this.updateDisplayState(d)}}},t}(Z);Z.registerComponent("TextTrackDisplay",iL);var aL=function(n){le(t,n);function t(){return n.apply(this,arguments)||this}var i=t.prototype;return i.createEl=function(){var r=this.player_.isAudio(),s=this.localize(r?"Audio Player":"Video Player"),o=Ne("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[s])}),u=n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return u.appendChild(o),u},t}(Z);Z.registerComponent("LoadingSpinner",aL);var Fr=function(n){le(t,n);function t(){return n.apply(this,arguments)||this}var i=t.prototype;return i.createEl=function(r,s,o){s===void 0&&(s={}),o===void 0&&(o={}),r="button",s=at({className:this.buildCSSClass()},s),o=at({type:"button"},o);var u=Ne(r,s,o);return u.appendChild(Ne("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(u),u},i.addChild=function(r,s){s===void 0&&(s={});var o=this.constructor.name;return Le.warn("Adding an actionable (user controllable) child to a Button ("+o+") is not supported; use a ClickableComponent instead."),Z.prototype.addChild.call(this,r,s)},i.enable=function(){n.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){n.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(r){if(Ae.isEventKey(r,"Space")||Ae.isEventKey(r,"Enter")){r.stopPropagation();return}n.prototype.handleKeyDown.call(this,r)},t}(Cl);Z.registerComponent("Button",Fr);var iT=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.mouseused_=!1,s.on("mousedown",function(o){return s.handleMouseDown(o)}),s}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(r){var s=this.player_.play();if(this.mouseused_&&r.clientX&&r.clientY){var o=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;Gr(s),this.player_.tech(!0)&&!((zs||Ws)&&o)&&this.player_.tech(!0).focus();return}var u=this.player_.getChild("controlBar"),l=u&&u.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var c=function(){return l.focus()};hs(s)?s.then(c,function(){}):this.setTimeout(c,1)},i.handleKeyDown=function(r){this.mouseused_=!1,n.prototype.handleKeyDown.call(this,r)},i.handleMouseDown=function(r){this.mouseused_=!0},t}(Fr);iT.prototype.controlText_="Play Video";Z.registerComponent("BigPlayButton",iT);var sL=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.controlText(r&&r.controlText||s.localize("Close")),s}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},i.handleClick=function(r){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(r){Ae.isEventKey(r,"Esc")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,r)},t}(Fr);Z.registerComponent("CloseButton",sL);var aT=function(n){le(t,n);function t(a,r){var s;return r===void 0&&(r={}),s=n.call(this,a,r)||this,r.replay=r.replay===void 0||r.replay,s.on(a,"play",function(o){return s.handlePlay(o)}),s.on(a,"pause",function(o){return s.handlePause(o)}),r.replay&&s.on(a,"ended",function(o){return s.handleEnded(o)}),s}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},i.handleClick=function(r){this.player_.paused()?Gr(this.player_.play()):this.player_.pause()},i.handleSeeked=function(r){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(r):this.handlePlay(r)},i.handlePlay=function(r){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(r){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(r){var s=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(o){return s.handleSeeked(o)})},t}(Fr);aT.prototype.controlText_="Play";Z.registerComponent("PlayToggle",aT);var sT=function(t,i){t=t<0?0:t;var a=Math.floor(t%60),r=Math.floor(t/60%60),s=Math.floor(t/3600),o=Math.floor(i/60%60),u=Math.floor(i/3600);return(isNaN(t)||t===1/0)&&(s=r=a="-"),s=s>0||u>0?s+":":"",r=((s||o>=10)&&r<10?"0"+r:r)+":",a=a<10?"0"+a:a,s+r+a},oh=sT;function oL(n){oh=n}function uL(){oh=sT}function ga(n,t){return t===void 0&&(t=n),oh(n,t)}var Pa=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.on(a,["timeupdate","ended"],function(o){return s.updateContent(o)}),s.updateTextNode_(),s}var i=t.prototype;return i.createEl=function(){var r=this.buildCSSClass(),s=n.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control"}),o=Ne("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return s.appendChild(o),this.contentEl_=Ne("span",{className:r+"-display"},{"aria-live":"off",role:"presentation"}),s.appendChild(this.contentEl_),s},i.dispose=function(){this.contentEl_=null,this.textNode_=null,n.prototype.dispose.call(this)},i.updateTextNode_=function(r){var s=this;r===void 0&&(r=0),r=ga(r),this.formattedTime_!==r&&(this.formattedTime_=r,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!s.contentEl_){var o=s.textNode_;o&&s.contentEl_.firstChild!==o&&(o=null,Le.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),s.textNode_=ae.createTextNode(s.formattedTime_),s.textNode_&&(o?s.contentEl_.replaceChild(s.textNode_,o):s.contentEl_.appendChild(s.textNode_))}}))},i.updateContent=function(r){},t}(Z);Pa.prototype.labelText_="Time";Pa.prototype.controlText_="Time";Z.registerComponent("TimeDisplay",Pa);var uh=function(n){le(t,n);function t(){return n.apply(this,arguments)||this}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(r){var s;this.player_.ended()?s=this.player_.duration():s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(s)},t}(Pa);uh.prototype.labelText_="Current Time";uh.prototype.controlText_="Current Time";Z.registerComponent("CurrentTimeDisplay",uh);var lh=function(n){le(t,n);function t(a,r){var s;s=n.call(this,a,r)||this;var o=function(l){return s.updateContent(l)};return s.on(a,"durationchange",o),s.on(a,"loadstart",o),s.on(a,"loadedmetadata",o),s}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(r){var s=this.player_.duration();this.updateTextNode_(s)},t}(Pa);lh.prototype.labelText_="Duration";lh.prototype.controlText_="Duration";Z.registerComponent("DurationDisplay",lh);var lL=function(n){le(t,n);function t(){return n.apply(this,arguments)||this}var i=t.prototype;return i.createEl=function(){var r=n.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),s=n.prototype.createEl.call(this,"div"),o=n.prototype.createEl.call(this,"span",{textContent:"/"});return s.appendChild(o),r.appendChild(s),r},t}(Z);Z.registerComponent("TimeDivider",lL);var ch=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.on(a,"durationchange",function(o){return s.updateContent(o)}),s}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var r=n.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&r.insertBefore(Ne("span",{},{"aria-hidden":!0},"-"),this.contentEl_),r},i.updateContent=function(r){if(typeof this.player_.duration()=="number"){var s;this.player_.ended()?s=0:this.player_.remainingTimeDisplay?s=this.player_.remainingTimeDisplay():s=this.player_.remainingTime(),this.updateTextNode_(s)}},t}(Pa);ch.prototype.labelText_="Remaining Time";ch.prototype.controlText_="Remaining Time";Z.registerComponent("RemainingTimeDisplay",ch);var cL=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.updateShowing(),s.on(s.player(),"durationchange",function(o){return s.updateShowing(o)}),s}var i=t.prototype;return i.createEl=function(){var r=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Ne("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Ne("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(ae.createTextNode(this.localize("LIVE"))),r.appendChild(this.contentEl_),r},i.dispose=function(){this.contentEl_=null,n.prototype.dispose.call(this)},i.updateShowing=function(r){this.player().duration()===1/0?this.show():this.hide()},t}(Z);Z.registerComponent("LiveDisplay",cL);var oT=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.updateLiveEdgeStatus(),s.player_.liveTracker&&(s.updateLiveEdgeStatusHandler_=function(o){return s.updateLiveEdgeStatus(o)},s.on(s.player_.liveTracker,"liveedgechange",s.updateLiveEdgeStatusHandler_)),s}var i=t.prototype;return i.createEl=function(){var r=n.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Ne("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),r.appendChild(this.textEl_),r},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,n.prototype.dispose.call(this)},t}(Fr);oT.prototype.controlText_="Seek to live, currently playing live";Z.registerComponent("SeekToLive",oT);var wl=function(t,i,a){return t=Number(t),Math.min(a,Math.max(i,isNaN(t)?i:t))},dh=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.handleMouseDown_=function(o){return s.handleMouseDown(o)},s.handleMouseUp_=function(o){return s.handleMouseUp(o)},s.handleKeyDown_=function(o){return s.handleKeyDown(o)},s.handleClick_=function(o){return s.handleClick(o)},s.handleMouseMove_=function(o){return s.handleMouseMove(o)},s.update_=function(o){return s.update(o)},s.bar=s.getChild(s.options_.barName),s.vertical(!!s.options_.vertical),s.enable(),s}var i=t.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(!!this.enabled()){var r=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(r,s,o){return s===void 0&&(s={}),o===void 0&&(o={}),s.className=s.className+" vjs-slider",s=at({tabIndex:0},s),o=at({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},o),n.prototype.createEl.call(this,r,s,o)},i.handleMouseDown=function(r){var s=this.bar.el_.ownerDocument;r.type==="mousedown"&&r.preventDefault(),r.type==="touchstart"&&!Sn&&r.preventDefault(),F_(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(s,"mousemove",this.handleMouseMove_),this.on(s,"mouseup",this.handleMouseUp_),this.on(s,"touchmove",this.handleMouseMove_),this.on(s,"touchend",this.handleMouseUp_),this.handleMouseMove(r,!0)},i.handleMouseMove=function(r){},i.handleMouseUp=function(){var r=this.bar.el_.ownerDocument;N_(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()},i.update=function(){var r=this;if(!(!this.el_||!this.bar)){var s=this.getProgress();return s===this.progress_||(this.progress_=s,this.requestNamedAnimationFrame("Slider#update",function(){var o=r.vertical()?"height":"width";r.bar.el().style[o]=(s*100).toFixed(2)+"%"})),s}},i.getProgress=function(){return Number(wl(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(r){var s=Tl(this.el_,r);return this.vertical()?s.y:s.x},i.handleKeyDown=function(r){Ae.isEventKey(r,"Left")||Ae.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepBack()):Ae.isEventKey(r,"Right")||Ae.isEventKey(r,"Up")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):n.prototype.handleKeyDown.call(this,r)},i.handleClick=function(r){r.stopPropagation(),r.preventDefault()},i.vertical=function(r){if(r===void 0)return this.vertical_||!1;this.vertical_=!!r,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Z);Z.registerComponent("Slider",dh);var Ac=function(t,i){return wl(t/i*100,0,100).toFixed(2)+"%"},dL=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.partEls_=[],s.on(a,"progress",function(o){return s.update(o)}),s}var i=t.prototype;return i.createEl=function(){var r=n.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),s=Ne("span",{className:"vjs-control-text"}),o=Ne("span",{textContent:this.localize("Loaded")}),u=ae.createTextNode(": ");return this.percentageEl_=Ne("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),r.appendChild(s),s.appendChild(o),s.appendChild(u),s.appendChild(this.percentageEl_),r},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,n.prototype.dispose.call(this)},i.update=function(r){var s=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var o=s.player_.liveTracker,u=s.player_.buffered(),l=o&&o.isLive()?o.seekableEnd():s.player_.duration(),c=s.player_.bufferedEnd(),d=s.partEls_,p=Ac(c,l);s.percent_!==p&&(s.el_.style.width=p,Ci(s.percentageEl_,p),s.percent_=p);for(var f=0;f<u.length;f++){var y=u.start(f),T=u.end(f),x=d[f];x||(x=s.el_.appendChild(Ne()),d[f]=x),!(x.dataset.start===y&&x.dataset.end===T)&&(x.dataset.start=y,x.dataset.end=T,x.style.left=Ac(y,c),x.style.width=Ac(T-y,c))}for(var S=d.length;S>u.length;S--)s.el_.removeChild(d[S-1]);d.length=u.length})},t}(Z);Z.registerComponent("LoadProgressBar",dL);var fL=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.update=Tn(et(Ce(s),s.update),Ur),s}var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(r,s,o){var u=Ms(this.el_),l=ha(this.player_.el()),c=r.width*s;if(!(!l||!u)){var d=r.left-l.left+c,p=r.width-c+(l.right-r.right),f=u.width/2;d<f?f+=f-d:p<f&&(f=p),f<0?f=0:f>u.width&&(f=u.width),f=Math.round(f),this.el_.style.right="-"+f+"px",this.write(o)}},i.write=function(r){Ci(this.el_,r)},i.updateTime=function(r,s,o,u){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var c,d=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var p=l.player_.liveTracker.liveWindow(),f=p-s*p;c=(f<1?"":"-")+ga(f,p)}else c=ga(o,d);l.update(r,s,c),u&&u()})},t}(Z);Z.registerComponent("TimeTooltip",fL);var fh=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.update=Tn(et(Ce(s),s.update),Ur),s}var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(r,s){var o=this.getChild("timeTooltip");if(!!o){var u=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();o.updateTime(r,s,u)}},t}(Z);fh.prototype.options_={children:[]};!Jt&&!xn&&fh.prototype.options_.children.push("timeTooltip");Z.registerComponent("PlayProgressBar",fh);var uT=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.update=Tn(et(Ce(s),s.update),Ur),s}var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(r,s){var o=this,u=s*this.player_.duration();this.getChild("timeTooltip").updateTime(r,s,u,function(){o.el_.style.left=r.width*s+"px"})},t}(Z);uT.prototype.options_={children:["timeTooltip"]};Z.registerComponent("MouseTimeDisplay",uT);var Bo=5,zg=12,hh=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.setEventHandlers_(),s}var i=t.prototype;return i.setEventHandlers_=function(){var r=this;this.update_=et(this,this.update),this.update=Tn(this.update_,Ur),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(s){return r.enableInterval_(s)},this.disableIntervalHandler_=function(s){return r.disableInterval_(s)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ae&&"visibilityState"in ae&&this.on(ae,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(r){ae.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(r)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Ur))},i.disableInterval_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&r&&r.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(r){var s=this;if(ae.visibilityState!=="hidden"){var o=n.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var u=s.player_.ended()?s.player_.duration():s.getCurrentTime_(),l=s.player_.liveTracker,c=s.player_.duration();l&&l.isLive()&&(c=s.player_.liveTracker.liveCurrentTime()),s.percent_!==o&&(s.el_.setAttribute("aria-valuenow",(o*100).toFixed(2)),s.percent_=o),(s.currentTime_!==u||s.duration_!==c)&&(s.el_.setAttribute("aria-valuetext",s.localize("progress bar timing: currentTime={1} duration={2}",[ga(u,c),ga(c,c)],"{1} of {2}")),s.currentTime_=u,s.duration_=c),s.bar&&s.bar.update(ha(s.el()),s.getProgress())}),o}},i.userSeek_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(r)},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var r=this.getCurrentTime_(),s,o=this.player_.liveTracker;return o&&o.isLive()?(s=(r-o.seekableStart())/o.liveWindow(),o.atLiveEdge()&&(s=1)):s=r/this.player_.duration(),s},i.handleMouseDown=function(r){!Fs(r)||(r.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),n.prototype.handleMouseDown.call(this,r))},i.handleMouseMove=function(r,s){if(s===void 0&&(s=!1),!!Fs(r)){!s&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var o,u=this.calculateDistance(r),l=this.player_.liveTracker;if(!l||!l.isLive())o=u*this.player_.duration(),o===this.player_.duration()&&(o=o-.1);else{if(u>=.99){l.seekToLiveEdge();return}var c=l.seekableStart(),d=l.liveCurrentTime();if(o=c+u*l.liveWindow(),o>=d&&(o=d),o<=c&&(o=c+.1),o===1/0)return}this.userSeek_(o)}},i.enable=function(){n.prototype.enable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.show()},i.disable=function(){n.prototype.disable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.hide()},i.handleMouseUp=function(r){n.prototype.handleMouseUp.call(this,r),r&&r.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Gr(this.player_.play()):this.update_()},i.stepForward=function(){this.userSeek_(this.player_.currentTime()+Bo)},i.stepBack=function(){this.userSeek_(this.player_.currentTime()-Bo)},i.handleAction=function(r){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(r){var s=this.player_.liveTracker;if(Ae.isEventKey(r,"Space")||Ae.isEventKey(r,"Enter"))r.preventDefault(),r.stopPropagation(),this.handleAction(r);else if(Ae.isEventKey(r,"Home"))r.preventDefault(),r.stopPropagation(),this.userSeek_(0);else if(Ae.isEventKey(r,"End"))r.preventDefault(),r.stopPropagation(),s&&s.isLive()?this.userSeek_(s.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Ae(r))){r.preventDefault(),r.stopPropagation();var o=(Ae.codes[Ae(r)]-Ae.codes[0])*10/100;s&&s.isLive()?this.userSeek_(s.seekableStart()+s.liveWindow()*o):this.userSeek_(this.player_.duration()*o)}else Ae.isEventKey(r,"PgDn")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()-Bo*zg)):Ae.isEventKey(r,"PgUp")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()+Bo*zg)):n.prototype.handleKeyDown.call(this,r)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ae&&"visibilityState"in ae&&this.off(ae,"visibilitychange",this.toggleVisibility_),n.prototype.dispose.call(this)},t}(dh);hh.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Jt&&!xn&&hh.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Z.registerComponent("SeekBar",hh);var lT=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.handleMouseMove=Tn(et(Ce(s),s.handleMouseMove),Ur),s.throttledHandleMouseSeek=Tn(et(Ce(s),s.handleMouseSeek),Ur),s.handleMouseUpHandler_=function(o){return s.handleMouseUp(o)},s.handleMouseDownHandler_=function(o){return s.handleMouseDown(o)},s.enable(),s}var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(r){var s=this.getChild("seekBar");if(!!s){var o=s.getChild("playProgressBar"),u=s.getChild("mouseTimeDisplay");if(!(!o&&!u)){var l=s.el(),c=Ms(l),d=Tl(l,r).x;d=wl(d,0,1),u&&u.update(c,d),o&&o.update(c,s.getProgress())}}},i.handleMouseSeek=function(r){var s=this.getChild("seekBar");s&&s.handleMouseMove(r)},i.enabled=function(){return this.enabled_},i.disable=function(){if(this.children().forEach(function(s){return s.disable&&s.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var r=this.getChild("seekBar");this.player_.scrubbing(!1),r.videoWasPlaying&&Gr(this.player_.play())}},i.enable=function(){this.children().forEach(function(r){return r.enable&&r.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.removeListenersAddedOnMousedownAndTouchstart=function(){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseSeek),this.off(r,"touchmove",this.throttledHandleMouseSeek),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)},i.handleMouseDown=function(r){var s=this.el_.ownerDocument,o=this.getChild("seekBar");o&&o.handleMouseDown(r),this.on(s,"mousemove",this.throttledHandleMouseSeek),this.on(s,"touchmove",this.throttledHandleMouseSeek),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(r){var s=this.getChild("seekBar");s&&s.handleMouseUp(r),this.removeListenersAddedOnMousedownAndTouchstart()},t}(Z);lT.prototype.options_={children:["seekBar"]};Z.registerComponent("ProgressControl",lT);var cT=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.on(a,["enterpictureinpicture","leavepictureinpicture"],function(o){return s.handlePictureInPictureChange(o)}),s.on(a,["disablepictureinpicturechanged","loadedmetadata"],function(o){return s.handlePictureInPictureEnabledChange(o)}),s.on(a,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var o=a.currentType().substring(0,5)==="audio";o||a.audioPosterMode()||a.audioOnlyMode()?(a.isInPictureInPicture()&&a.exitPictureInPicture(),s.hide()):s.show()}),s.disable(),s}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+n.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){ae.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},i.handlePictureInPictureChange=function(r){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(r){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Fr);cT.prototype.controlText_="Picture-in-Picture";Z.registerComponent("PictureInPictureToggle",cT);var dT=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.on(a,"fullscreenchange",function(o){return s.handleFullscreenChange(o)}),ae[a.fsApi_.fullscreenEnabled]===!1&&s.disable(),s}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(r){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(r){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Fr);dT.prototype.controlText_="Fullscreen";Z.registerComponent("FullscreenToggle",dT);var hL=function(t,i){i.tech_&&!i.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(i,"loadstart",function(){i.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},pL=function(n){le(t,n);function t(){return n.apply(this,arguments)||this}var i=t.prototype;return i.createEl=function(){var r=n.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return r.appendChild(n.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),r},t}(Z);Z.registerComponent("VolumeLevel",pL);var mL=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.update=Tn(et(Ce(s),s.update),Ur),s}var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},i.update=function(r,s,o,u){if(!o){var l=ha(this.el_),c=ha(this.player_.el()),d=r.width*s;if(!c||!l)return;var p=r.left-c.left+d,f=r.width-d+(c.right-r.right),y=l.width/2;p<y?y+=y-p:f<y&&(y=f),y<0?y=0:y>l.width&&(y=l.width),this.el_.style.right="-"+y+"px"}this.write(u+"%")},i.write=function(r){Ci(this.el_,r)},i.updateVolume=function(r,s,o,u,l){var c=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){c.update(r,s,o,u.toFixed(0)),l&&l()})},t}(Z);Z.registerComponent("VolumeLevelTooltip",mL);var fT=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.update=Tn(et(Ce(s),s.update),Ur),s}var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(r,s,o){var u=this,l=100*s;this.getChild("volumeLevelTooltip").updateVolume(r,s,o,l,function(){o?u.el_.style.bottom=r.height*s+"px":u.el_.style.left=r.width*s+"px"})},t}(Z);fT.prototype.options_={children:["volumeLevelTooltip"]};Z.registerComponent("MouseVolumeLevelDisplay",fT);var Pl=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.on("slideractive",function(o){return s.updateLastVolume_(o)}),s.on(a,"volumechange",function(o){return s.updateARIAAttributes(o)}),a.ready(function(){return s.updateARIAAttributes()}),s}var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(r){!Fs(r)||n.prototype.handleMouseDown.call(this,r)},i.handleMouseMove=function(r){var s=this.getChild("mouseVolumeLevelDisplay");if(s){var o=this.el(),u=ha(o),l=this.vertical(),c=Tl(o,r);c=l?c.y:c.x,c=wl(c,0,1),s.update(u,c,l)}!Fs(r)||(this.checkMuted(),this.player_.volume(this.calculateDistance(r)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(r){var s=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",s),this.el_.setAttribute("aria-valuetext",s+"%")},i.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},i.updateLastVolume_=function(){var r=this,s=this.player_.volume();this.one("sliderinactive",function(){r.player_.volume()===0&&r.player_.lastVolume_(s)})},t}(dh);Pl.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Jt&&!xn&&Pl.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Pl.prototype.playerEvent="volumechange";Z.registerComponent("VolumeBar",Pl);var hT=function(n){le(t,n);function t(a,r){var s;return r===void 0&&(r={}),r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||Ls(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),s=n.call(this,a,r)||this,hL(Ce(s),a),s.throttledHandleMouseMove=Tn(et(Ce(s),s.handleMouseMove),Ur),s.handleMouseUpHandler_=function(o){return s.handleMouseUp(o)},s.on("mousedown",function(o){return s.handleMouseDown(o)}),s.on("touchstart",function(o){return s.handleMouseDown(o)}),s.on("mousemove",function(o){return s.handleMouseMove(o)}),s.on(s.volumeBar,["focus","slideractive"],function(){s.volumeBar.addClass("vjs-slider-active"),s.addClass("vjs-slider-active"),s.trigger("slideractive")}),s.on(s.volumeBar,["blur","sliderinactive"],function(){s.volumeBar.removeClass("vjs-slider-active"),s.removeClass("vjs-slider-active"),s.trigger("sliderinactive")}),s}var i=t.prototype;return i.createEl=function(){var r="vjs-volume-horizontal";return this.options_.vertical&&(r="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+r})},i.handleMouseDown=function(r){var s=this.el_.ownerDocument;this.on(s,"mousemove",this.throttledHandleMouseMove),this.on(s,"touchmove",this.throttledHandleMouseMove),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(r){var s=this.el_.ownerDocument;this.off(s,"mousemove",this.throttledHandleMouseMove),this.off(s,"touchmove",this.throttledHandleMouseMove),this.off(s,"mouseup",this.handleMouseUpHandler_),this.off(s,"touchend",this.handleMouseUpHandler_)},i.handleMouseMove=function(r){this.volumeBar.handleMouseMove(r)},t}(Z);hT.prototype.options_={children:["volumeBar"]};Z.registerComponent("VolumeControl",hT);var gL=function(t,i){i.tech_&&!i.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(i,"loadstart",function(){i.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},pT=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,gL(Ce(s),a),s.on(a,["loadstart","volumechange"],function(o){return s.update(o)}),s}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},i.handleClick=function(r){var s=this.player_.volume(),o=this.player_.lastVolume_();if(s===0){var u=o<.1?.1:o;this.player_.volume(u),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(r){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var r=this.player_.volume(),s=3;Jt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),r===0||this.player_.muted()?s=0:r<.33?s=1:r<.67&&(s=2);for(var o=0;o<4;o++)Gs(this.el_,"vjs-vol-"+o);pn(this.el_,"vjs-vol-"+s)},i.updateControlText_=function(){var r=this.player_.muted()||this.player_.volume()===0,s=r?"Unmute":"Mute";this.controlText()!==s&&this.controlText(s)},t}(Fr);pT.prototype.controlText_="Mute";Z.registerComponent("MuteToggle",pT);var mT=function(n){le(t,n);function t(a,r){var s;return r===void 0&&(r={}),typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||Ls(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),s=n.call(this,a,r)||this,s.handleKeyPressHandler_=function(o){return s.handleKeyPress(o)},s.on(a,["loadstart"],function(o){return s.volumePanelState_(o)}),s.on(s.muteToggle,"keyup",function(o){return s.handleKeyPress(o)}),s.on(s.volumeControl,"keyup",function(o){return s.handleVolumeControlKeyUp(o)}),s.on("keydown",function(o){return s.handleKeyPress(o)}),s.on("mouseover",function(o){return s.handleMouseOver(o)}),s.on("mouseout",function(o){return s.handleMouseOut(o)}),s.on(s.volumeControl,["slideractive"],s.sliderActive_),s.on(s.volumeControl,["sliderinactive"],s.sliderInactive_),s}var i=t.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var r="vjs-volume-panel-horizontal";return this.options_.inline||(r="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+r})},i.dispose=function(){this.handleMouseOut(),n.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(r){Ae.isEventKey(r,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(r){this.addClass("vjs-hover"),pr(ae,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(r){this.removeClass("vjs-hover"),Ft(ae,"keyup",this.handleKeyPressHandler_)},i.handleKeyPress=function(r){Ae.isEventKey(r,"Esc")&&this.handleMouseOut()},t}(Z);mT.prototype.options_={children:["muteToggle","volumeControl"]};Z.registerComponent("VolumePanel",mT);var gT=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,r&&(s.menuButton_=r.menuButton),s.focusedChild_=-1,s.on("keydown",function(o){return s.handleKeyDown(o)}),s.boundHandleBlur_=function(o){return s.handleBlur(o)},s.boundHandleTapClick_=function(o){return s.handleTapClick(o)},s}var i=t.prototype;return i.addEventListenerForItem=function(r){r instanceof Z&&(this.on(r,"blur",this.boundHandleBlur_),this.on(r,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(r){r instanceof Z&&(this.off(r,"blur",this.boundHandleBlur_),this.off(r,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(r){typeof r=="string"&&(r=this.getChild(r)),this.removeEventListenerForItem(r),n.prototype.removeChild.call(this,r)},i.addItem=function(r){var s=this.addChild(r);s&&this.addEventListenerForItem(s)},i.createEl=function(){var r=this.options_.contentElType||"ul";this.contentEl_=Ne(r,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var s=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return s.appendChild(this.contentEl_),pr(s,"click",function(o){o.preventDefault(),o.stopImmediatePropagation()}),s},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,n.prototype.dispose.call(this)},i.handleBlur=function(r){var s=r.relatedTarget||ae.activeElement;if(!this.children().some(function(u){return u.el()===s})){var o=this.menuButton_;o&&o.buttonPressed_&&s!==o.el().firstChild&&o.unpressButton()}},i.handleTapClick=function(r){if(this.menuButton_){this.menuButton_.unpressButton();var s=this.children();if(!Array.isArray(s))return;var o=s.filter(function(u){return u.el()===r.target})[0];if(!o)return;o.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},i.handleKeyDown=function(r){Ae.isEventKey(r,"Left")||Ae.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):(Ae.isEventKey(r,"Right")||Ae.isEventKey(r,"Up"))&&(r.preventDefault(),r.stopPropagation(),this.stepBack())},i.stepForward=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_+1),this.focus(r)},i.stepBack=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_-1),this.focus(r)},i.focus=function(r){r===void 0&&(r=0);var s=this.children().slice(),o=s.length&&s[0].hasClass("vjs-menu-title");o&&s.shift(),s.length>0&&(r<0?r=0:r>=s.length&&(r=s.length-1),this.focusedChild_=r,s[r].el_.focus())},t}(Z);Z.registerComponent("Menu",gT);var ph=function(n){le(t,n);function t(a,r){var s;r===void 0&&(r={}),s=n.call(this,a,r)||this,s.menuButton_=new Fr(a,r),s.menuButton_.controlText(s.controlText_),s.menuButton_.el_.setAttribute("aria-haspopup","true");var o=Fr.prototype.buildCSSClass();s.menuButton_.el_.className=s.buildCSSClass()+" "+o,s.menuButton_.removeClass("vjs-control"),s.addChild(s.menuButton_),s.update(),s.enabled_=!0;var u=function(c){return s.handleClick(c)};return s.handleMenuKeyUp_=function(l){return s.handleMenuKeyUp(l)},s.on(s.menuButton_,"tap",u),s.on(s.menuButton_,"click",u),s.on(s.menuButton_,"keydown",function(l){return s.handleKeyDown(l)}),s.on(s.menuButton_,"mouseenter",function(){s.addClass("vjs-hover"),s.menu.show(),pr(ae,"keyup",s.handleMenuKeyUp_)}),s.on("mouseleave",function(l){return s.handleMouseLeave(l)}),s.on("keydown",function(l){return s.handleSubmenuKeyDown(l)}),s}var i=t.prototype;return i.update=function(){var r=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=r,this.addChild(r),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},i.createMenu=function(){var r=new gT(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var s=Ne("li",{className:"vjs-menu-title",textContent:ct(this.options_.title),tabIndex:-1}),o=new Z(this.player_,{el:s});r.addItem(o)}if(this.items=this.createItems(),this.items)for(var u=0;u<this.items.length;u++)r.addItem(this.items[u]);return r},i.createItems=function(){},i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var r="vjs-menu-button";this.options_.inline===!0?r+="-inline":r+="-popup";var s=Fr.prototype.buildCSSClass();return"vjs-menu-button "+r+" "+s+" "+n.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var r="vjs-menu-button";return this.options_.inline===!0?r+="-inline":r+="-popup","vjs-menu-button "+r+" "+n.prototype.buildCSSClass.call(this)},i.controlText=function(r,s){return s===void 0&&(s=this.menuButton_.el()),this.menuButton_.controlText(r,s)},i.dispose=function(){this.handleMouseLeave(),n.prototype.dispose.call(this)},i.handleClick=function(r){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(r){this.removeClass("vjs-hover"),Ft(ae,"keyup",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(r){Ae.isEventKey(r,"Esc")||Ae.isEventKey(r,"Tab")?(this.buttonPressed_&&this.unpressButton(),Ae.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus())):(Ae.isEventKey(r,"Up")||Ae.isEventKey(r,"Down"))&&(this.buttonPressed_||(r.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(r){(Ae.isEventKey(r,"Esc")||Ae.isEventKey(r,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(r){this.handleSubmenuKeyDown(r)},i.handleSubmenuKeyDown=function(r){(Ae.isEventKey(r,"Esc")||Ae.isEventKey(r,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Ae.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Jt&&O_())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Z);Z.registerComponent("MenuButton",ph);var mh=function(n){le(t,n);function t(i,a){var r,s=a.tracks;if(r=n.call(this,i,a)||this,r.items.length<=1&&r.hide(),!s)return Ce(r);var o=et(Ce(r),r.update);return s.addEventListener("removetrack",o),s.addEventListener("addtrack",o),s.addEventListener("labelchange",o),r.player_.on("ready",o),r.player_.on("dispose",function(){s.removeEventListener("removetrack",o),s.removeEventListener("addtrack",o),s.removeEventListener("labelchange",o)}),r}return t}(ph);Z.registerComponent("TrackButton",mh);var vL=["Tab","Esc","Up","Down","Right","Left"],Xs=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.selectable=r.selectable,s.isSelected_=r.selected||!1,s.multiSelectable=r.multiSelectable,s.selected(s.isSelected_),s.selectable?s.multiSelectable?s.el_.setAttribute("role","menuitemcheckbox"):s.el_.setAttribute("role","menuitemradio"):s.el_.setAttribute("role","menuitem"),s}var i=t.prototype;return i.createEl=function(r,s,o){this.nonIconControl=!0;var u=n.prototype.createEl.call(this,"li",at({className:"vjs-menu-item",tabIndex:-1},s),o);return u.replaceChild(Ne("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),u.querySelector(".vjs-icon-placeholder")),u},i.handleKeyDown=function(r){vL.some(function(s){return Ae.isEventKey(r,s)})||n.prototype.handleKeyDown.call(this,r)},i.handleClick=function(r){this.selected(!0)},i.selected=function(r){this.selectable&&(r?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Cl);Z.registerComponent("MenuItem",Xs);var Ys=function(n){le(t,n);function t(a,r){var s,o=r.track,u=a.textTracks();r.label=o.label||o.language||"Unknown",r.selected=o.mode==="showing",s=n.call(this,a,r)||this,s.track=o,s.kinds=(r.kinds||[r.kind||s.track.kind]).filter(Boolean);var l=function(){for(var f=arguments.length,y=new Array(f),T=0;T<f;T++)y[T]=arguments[T];s.handleTracksChange.apply(Ce(s),y)},c=function(){for(var f=arguments.length,y=new Array(f),T=0;T<f;T++)y[T]=arguments[T];s.handleSelectedLanguageChange.apply(Ce(s),y)};if(a.on(["loadstart","texttrackchange"],l),u.addEventListener("change",l),u.addEventListener("selectedlanguagechange",c),s.on("dispose",function(){a.off(["loadstart","texttrackchange"],l),u.removeEventListener("change",l),u.removeEventListener("selectedlanguagechange",c)}),u.onchange===void 0){var d;s.on(["tap","click"],function(){if(typeof k.Event!="object")try{d=new k.Event("change")}catch{}d||(d=ae.createEvent("Event"),d.initEvent("change",!0,!0)),u.dispatchEvent(d)})}return s.handleTracksChange(),s}var i=t.prototype;return i.handleClick=function(r){var s=this.track,o=this.player_.textTracks();if(n.prototype.handleClick.call(this,r),!!o)for(var u=0;u<o.length;u++){var l=o[u];this.kinds.indexOf(l.kind)!==-1&&(l===s?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},i.handleTracksChange=function(r){var s=this.track.mode==="showing";s!==this.isSelected_&&this.selected(s)},i.handleSelectedLanguageChange=function(r){if(this.track.mode==="showing"){var s=this.player_.cache_.selectedLanguage;if(s&&s.enabled&&s.language===this.track.language&&s.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,n.prototype.dispose.call(this)},t}(Xs);Z.registerComponent("TextTrackMenuItem",Ys);var vT=function(n){le(t,n);function t(a,r){return r.track={player:a,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,n.call(this,a,r)||this}var i=t.prototype;return i.handleTracksChange=function(r){for(var s=this.player().textTracks(),o=!0,u=0,l=s.length;u<l;u++){var c=s[u];if(this.options_.kinds.indexOf(c.kind)>-1&&c.mode==="showing"){o=!1;break}}o!==this.isSelected_&&this.selected(o)},i.handleSelectedLanguageChange=function(r){for(var s=this.player().textTracks(),o=!0,u=0,l=s.length;u<l;u++){var c=s[u];if(["captions","descriptions","subtitles"].indexOf(c.kind)>-1&&c.mode==="showing"){o=!1;break}}o&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Ys);Z.registerComponent("OffTextTrackMenuItem",vT);var Aa=function(n){le(t,n);function t(a,r){return r===void 0&&(r={}),r.tracks=a.textTracks(),n.call(this,a,r)||this}var i=t.prototype;return i.createItems=function(r,s){r===void 0&&(r=[]),s===void 0&&(s=Ys);var o;this.label_&&(o=this.label_+" off"),r.push(new vT(this.player_,{kinds:this.kinds_,kind:this.kind_,label:o})),this.hideThreshold_+=1;var u=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<u.length;l++){var c=u[l];if(this.kinds_.indexOf(c.kind)>-1){var d=new s(this.player_,{track:c,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});d.addClass("vjs-"+c.kind+"-menu-item"),r.push(d)}}return r},t}(mh);Z.registerComponent("TextTrackButton",Aa);var yT=function(n){le(t,n);function t(a,r){var s,o=r.track,u=r.cue,l=a.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=u.text,r.selected=u.startTime<=l&&l<u.endTime,s=n.call(this,a,r)||this,s.track=o,s.cue=u,s}var i=t.prototype;return i.handleClick=function(r){n.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},t}(Xs);Z.registerComponent("ChaptersTrackMenuItem",yT);var gh=function(n){le(t,n);function t(a,r,s){var o;return o=n.call(this,a,r,s)||this,o.selectCurrentItem_=function(){o.items.forEach(function(u){u.selected(o.track_.activeCues[0]===u.cue)})},o}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},i.update=function(r){if(!(r&&r.track&&r.track.kind!=="chapters")){var s=this.findChaptersTrack();s!==this.track_?(this.setTrack(s),n.prototype.update.call(this)):(!this.items||s&&s.cues&&s.cues.length!==this.items.length)&&n.prototype.update.call(this)}},i.setTrack=function(r){if(this.track_!==r){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=r,this.track_){this.track_.mode="hidden";var o=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);o&&o.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},i.findChaptersTrack=function(){for(var r=this.player_.textTracks()||[],s=r.length-1;s>=0;s--){var o=r[s];if(o.kind===this.kind_)return o}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ct(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},i.createItems=function(){var r=[];if(!this.track_)return r;var s=this.track_.cues;if(!s)return r;for(var o=0,u=s.length;o<u;o++){var l=s[o],c=new yT(this.player_,{track:this.track_,cue:l});r.push(c)}return r},t}(Aa);gh.prototype.kind_="chapters";gh.prototype.controlText_="Chapters";Z.registerComponent("ChaptersButton",gh);var vh=function(n){le(t,n);function t(a,r,s){var o;o=n.call(this,a,r,s)||this;var u=a.textTracks(),l=et(Ce(o),o.handleTracksChange);return u.addEventListener("change",l),o.on("dispose",function(){u.removeEventListener("change",l)}),o}var i=t.prototype;return i.handleTracksChange=function(r){for(var s=this.player().textTracks(),o=!1,u=0,l=s.length;u<l;u++){var c=s[u];if(c.kind!==this.kind_&&c.mode==="showing"){o=!0;break}}o?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildWrapperCSSClass.call(this)},t}(Aa);vh.prototype.kind_="descriptions";vh.prototype.controlText_="Descriptions";Z.registerComponent("DescriptionsButton",vh);var yh=function(n){le(t,n);function t(a,r,s){return n.call(this,a,r,s)||this}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},t}(Aa);yh.prototype.kind_="subtitles";yh.prototype.controlText_="Subtitles";Z.registerComponent("SubtitlesButton",yh);var _h=function(n){le(t,n);function t(a,r){var s;return r.track={player:a,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",s=n.call(this,a,r)||this,s.addClass("vjs-texttrack-settings"),s.controlText(", opens "+r.kind+" settings dialog"),s}var i=t.prototype;return i.handleClick=function(r){this.player().getChild("textTrackSettings").open()},t}(Ys);Z.registerComponent("CaptionSettingsMenuItem",_h);var Th=function(n){le(t,n);function t(a,r,s){return n.call(this,a,r,s)||this}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new _h(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,r)},t}(Aa);Th.prototype.kind_="captions";Th.prototype.controlText_="Captions";Z.registerComponent("CaptionsButton",Th);var _T=function(n){le(t,n);function t(){return n.apply(this,arguments)||this}var i=t.prototype;return i.createEl=function(r,s,o){var u=n.prototype.createEl.call(this,r,s,o),l=u.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(Ne("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(Ne("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),u},t}(Ys);Z.registerComponent("SubsCapsMenuItem",_T);var bh=function(n){le(t,n);function t(a,r){var s;return r===void 0&&(r={}),s=n.call(this,a,r)||this,s.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(s.player_.language_)>-1&&(s.label_="captions"),s.menuButton_.controlText(ct(s.label_)),s}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new _h(this.player_,{kind:this.label_})),this.hideThreshold_+=1),r=n.prototype.createItems.call(this,r,_T),r},t}(Aa);bh.prototype.kinds_=["captions","subtitles"];bh.prototype.controlText_="Subtitles";Z.registerComponent("SubsCapsButton",bh);var TT=function(n){le(t,n);function t(a,r){var s,o=r.track,u=a.audioTracks();r.label=o.label||o.language||"Unknown",r.selected=o.enabled,s=n.call(this,a,r)||this,s.track=o,s.addClass("vjs-"+o.kind+"-menu-item");var l=function(){for(var d=arguments.length,p=new Array(d),f=0;f<d;f++)p[f]=arguments[f];s.handleTracksChange.apply(Ce(s),p)};return u.addEventListener("change",l),s.on("dispose",function(){u.removeEventListener("change",l)}),s}var i=t.prototype;return i.createEl=function(r,s,o){var u=n.prototype.createEl.call(this,r,s,o),l=u.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(Ne("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(Ne("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),u},i.handleClick=function(r){if(n.prototype.handleClick.call(this,r),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var s=this.player_.audioTracks(),o=0;o<s.length;o++){var u=s[o];u!==this.track&&(u.enabled=u===this.track)}},i.handleTracksChange=function(r){this.selected(this.track.enabled)},t}(Xs);Z.registerComponent("AudioTrackMenuItem",TT);var bT=function(n){le(t,n);function t(a,r){return r===void 0&&(r={}),r.tracks=a.audioTracks(),n.call(this,a,r)||this}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(r){r===void 0&&(r=[]),this.hideThreshold_=1;for(var s=this.player_.audioTracks(),o=0;o<s.length;o++){var u=s[o];r.push(new TT(this.player_,{track:u,selectable:!0,multiSelectable:!1}))}return r},t}(mh);bT.prototype.controlText_="Audio Track";Z.registerComponent("AudioTrackButton",bT);var xh=function(n){le(t,n);function t(a,r){var s,o=r.rate,u=parseFloat(o,10);return r.label=o,r.selected=u===a.playbackRate(),r.selectable=!0,r.multiSelectable=!1,s=n.call(this,a,r)||this,s.label=o,s.rate=u,s.on(a,"ratechange",function(l){return s.update(l)}),s}var i=t.prototype;return i.handleClick=function(r){n.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(r){this.selected(this.player().playbackRate()===this.rate)},t}(Xs);xh.prototype.contentElType="button";Z.registerComponent("PlaybackRateMenuItem",xh);var xT=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.menuButton_.el_.setAttribute("aria-describedby",s.labelElId_),s.updateVisibility(),s.updateLabel(),s.on(a,"loadstart",function(o){return s.updateVisibility(o)}),s.on(a,"ratechange",function(o){return s.updateLabel(o)}),s.on(a,"playbackrateschange",function(o){return s.handlePlaybackRateschange(o)}),s}var i=t.prototype;return i.createEl=function(){var r=n.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Ne("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),r.appendChild(this.labelEl_),r},i.dispose=function(){this.labelEl_=null,n.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){for(var r=this.playbackRates(),s=[],o=r.length-1;o>=0;o--)s.push(new xh(this.player(),{rate:r[o]+"x"}));return s},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(r){var s=this.player().playbackRate(),o=this.playbackRates(),u=o.indexOf(s),l=(u+1)%o.length;this.player().playbackRate(o[l])},i.handlePlaybackRateschange=function(r){this.update()},i.playbackRates=function(){var r=this.player();return r.playbackRates&&r.playbackRates()||[]},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(r){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(r){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(ph);xT.prototype.controlText_="Playback Rate";Z.registerComponent("PlaybackRateMenuButton",xT);var ST=function(n){le(t,n);function t(){return n.apply(this,arguments)||this}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+n.prototype.buildCSSClass.call(this)},i.createEl=function(r,s,o){return r===void 0&&(r="div"),s===void 0&&(s={}),o===void 0&&(o={}),s.className||(s.className=this.buildCSSClass()),n.prototype.createEl.call(this,r,s,o)},t}(Z);Z.registerComponent("Spacer",ST);var yL=function(n){le(t,n);function t(){return n.apply(this,arguments)||this}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+n.prototype.buildCSSClass.call(this)},i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},t}(ST);Z.registerComponent("CustomControlSpacer",yL);var wu=function(n){le(t,n);function t(){return n.apply(this,arguments)||this}var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Z);wu.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in ae&&wu.prototype.options_.children.splice(wu.prototype.options_.children.length-1,0,"pictureInPictureToggle");Z.registerComponent("ControlBar",wu);var ET=function(n){le(t,n);function t(a,r){var s;return s=n.call(this,a,r)||this,s.on(a,"error",function(o){return s.open(o)}),s}var i=t.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},i.content=function(){var r=this.player().error();return r?this.localize(r.message):""},t}(Ca);ET.prototype.options_=br({},Ca.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Z.registerComponent("ErrorDisplay",ET);var kc="vjs-text-track-settings",Gg=["#000","Black"],Kg=["#00F","Blue"],Xg=["#0FF","Cyan"],Yg=["#0F0","Green"],Qg=["#F0F","Magenta"],Jg=["#F00","Red"],Zg=["#FFF","White"],ev=["#FF0","Yellow"],Ic=["1","Opaque"],Oc=["0.5","Semi-Transparent"],tv=["0","Transparent"],li={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Gg,Zg,Jg,Yg,Kg,ev,Qg,Xg]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Ic,Oc,tv]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Zg,Gg,Jg,Yg,Kg,ev,Qg,Xg]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return t==="1.00"?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Ic,Oc]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[tv,Oc,Ic]}};li.windowColor.options=li.backgroundColor.options;function CT(n,t){if(t&&(n=t(n)),n&&n!=="none")return n}function _L(n,t){var i=n.options[n.options.selectedIndex].value;return CT(i,t)}function TL(n,t,i){if(!!t){for(var a=0;a<n.options.length;a++)if(CT(n.options[a].value,i)===t){n.selectedIndex=a;break}}}var bL=function(n){le(t,n);function t(a,r){var s;return r.temporary=!1,s=n.call(this,a,r)||this,s.updateDisplay=s.updateDisplay.bind(Ce(s)),s.fill(),s.hasBeenOpened_=s.hasBeenFilled_=!0,s.endDialog=Ne("p",{className:"vjs-control-text",textContent:s.localize("End of dialog window.")}),s.el().appendChild(s.endDialog),s.setDefaults(),r.persistTextTrackSettings===void 0&&(s.options_.persistTextTrackSettings=s.options_.playerOptions.persistTextTrackSettings),s.on(s.$(".vjs-done-button"),"click",function(){s.saveSettings(),s.close()}),s.on(s.$(".vjs-default-button"),"click",function(){s.setDefaults(),s.updateDisplay()}),Ji(li,function(o){s.on(s.$(o.selector),"change",s.updateDisplay)}),s.options_.persistTextTrackSettings&&s.restoreSettings(),s}var i=t.prototype;return i.dispose=function(){this.endDialog=null,n.prototype.dispose.call(this)},i.createElSelect_=function(r,s,o){var u=this;s===void 0&&(s=""),o===void 0&&(o="label");var l=li[r],c=l.id.replace("%s",this.id_),d=[s,c].join(" ").trim();return["<"+o+' id="'+c+'" class="'+(o==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+o+">",'<select aria-labelledby="'+d+'">'].concat(l.options.map(function(p){var f=c+"-"+p[1].replace(/\W+/g,"");return['<option id="'+f+'" value="'+p[0]+'" ','aria-labelledby="'+d+" "+f+'">',u.localize(p[1]),"</option>"].join("")})).concat("</select>").join("")},i.createElFgColor_=function(){var r="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",r),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",r),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var r="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",r),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",r),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var r="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",r),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",r),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return Ne("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return Ne("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var r=this.localize("restore all settings to the default values");return Ne("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+r+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+r+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return n.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var r=this;return lD(li,function(s,o,u){var l=_L(r.$(o.selector),o.parser);return l!==void 0&&(s[u]=l),s},{})},i.setValues=function(r){var s=this;Ji(li,function(o,u){TL(s.$(o.selector),r[u],o.parser)})},i.setDefaults=function(){var r=this;Ji(li,function(s){var o=s.hasOwnProperty("default")?s.default:0;r.$(s.selector).selectedIndex=o})},i.restoreSettings=function(){var r;try{r=JSON.parse(k.localStorage.getItem(kc))}catch(s){Le.warn(s)}r&&this.setValues(r)},i.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var r=this.getValues();try{Object.keys(r).length?k.localStorage.setItem(kc,JSON.stringify(r)):k.localStorage.removeItem(kc)}catch(s){Le.warn(s)}}},i.updateDisplay=function(){var r=this.player_.getChild("textTrackDisplay");r&&r.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var r=this.player_.controlBar,s=r&&r.subsCapsButton,o=r&&r.captionsButton;s?s.focus():o&&o.focus()},t}(Ca);Z.registerComponent("TextTrackSettings",bL);var xL=function(n){le(t,n);function t(a,r){var s,o=r.ResizeObserver||k.ResizeObserver;r.ResizeObserver===null&&(o=!1);var u=Ze({createEl:!o,reportTouchActivity:!1},r);return s=n.call(this,a,u)||this,s.ResizeObserver=r.ResizeObserver||k.ResizeObserver,s.loadListener_=null,s.resizeObserver_=null,s.debouncedHandler_=TD(function(){s.resizeHandler()},100,!1,Ce(s)),o?(s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_),s.resizeObserver_.observe(a.el())):(s.loadListener_=function(){if(!(!s.el_||!s.el_.contentWindow)){var l=s.debouncedHandler_,c=s.unloadListener_=function(){Ft(this,"resize",l),Ft(this,"unload",c),c=null};pr(s.el_.contentWindow,"unload",c),pr(s.el_.contentWindow,"resize",l)}},s.one("load",s.loadListener_)),s}var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},i.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,n.prototype.dispose.call(this)},t}(Z);Z.registerComponent("ResizeManager",xL);var SL={trackingThreshold:20,liveTolerance:15},EL=function(n){le(t,n);function t(a,r){var s,o=Ze(SL,r,{createEl:!1});return s=n.call(this,a,o)||this,s.handleVisibilityChange_=function(u){return s.handleVisibilityChange(u)},s.trackLiveHandler_=function(){return s.trackLive_()},s.handlePlay_=function(u){return s.handlePlay(u)},s.handleFirstTimeupdate_=function(u){return s.handleFirstTimeupdate(u)},s.handleSeeked_=function(u){return s.handleSeeked(u)},s.seekToLiveEdge_=function(u){return s.seekToLiveEdge(u)},s.reset_(),s.on(s.player_,"durationchange",function(u){return s.handleDurationchange(u)}),s.on(s.player_,"canplay",function(){return s.toggleTracking()}),zs&&"hidden"in ae&&"visibilityState"in ae&&s.on(ae,"visibilitychange",s.handleVisibilityChange_),s}var i=t.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(ae.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var r=this.player_.seekable();if(!(!r||!r.length)){var s=Number(k.performance.now().toFixed(4)),o=this.lastTime_===-1?0:(s-this.lastTime_)/1e3;this.lastTime_=s,this.pastSeekEnd_=this.pastSeekEnd()+o;var u=this.liveCurrentTime(),l=this.player_.currentTime(),c=this.player_.paused()||this.seekedBehindLive_||Math.abs(u-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||u===1/0)&&(c=!1),c!==this.behindLiveEdge_&&(this.behindLiveEdge_=c,this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Ur),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},i.handleSeeked=function(){var r=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&r>2,this.nextSeekedFromUser_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){for(var r=this.player_.seekable(),s=[],o=r?r.length:0;o--;)s.push(r.end(o));return s.length?s.sort()[s.length-1]:1/0},i.seekableStart=function(){for(var r=this.player_.seekable(),s=[],o=r?r.length:0;o--;)s.push(r.start(o));return s.length?s.sort()[0]:0},i.liveWindow=function(){var r=this.liveCurrentTime();return r===1/0?0:r-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var r=this.seekableEnd();return this.lastSeekEnd_!==-1&&r!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=r,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return typeof this.trackingInterval_=="number"},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(ae,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),n.prototype.dispose.call(this)},t}(Z);Z.registerComponent("LiveTracker",EL);var Cd=function(t){var i=t.el();if(i.hasAttribute("src"))return t.triggerSourceset(i.src),!0;var a=t.$$("source"),r=[],s="";if(!a.length)return!1;for(var o=0;o<a.length;o++){var u=a[o].src;u&&r.indexOf(u)===-1&&r.push(u)}return r.length?(r.length===1&&(s=r[0]),t.triggerSourceset(s),!0):!1},CL=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var i=ae.createElement(this.nodeName.toLowerCase());i.innerHTML=t;for(var a=ae.createDocumentFragment();i.childNodes.length;)a.appendChild(i.childNodes[0]);return this.innerText="",k.Element.prototype.appendChild.call(this,a),this.innerHTML}}),wT=function(t,i){for(var a={},r=0;r<t.length&&(a=Object.getOwnPropertyDescriptor(t[r],i),!(a&&a.set&&a.get));r++);return a.enumerable=!0,a.configurable=!0,a},wL=function(t){return wT([t.el(),k.HTMLMediaElement.prototype,k.Element.prototype,CL],"innerHTML")},rv=function(t){var i=t.el();if(!i.resetSourceWatch_){var a={},r=wL(t),s=function(u){return function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var p=u.apply(i,c);return Cd(t),p}};["append","appendChild","insertAdjacentHTML"].forEach(function(o){!i[o]||(a[o]=i[o],i[o]=s(a[o]))}),Object.defineProperty(i,"innerHTML",Ze(r,{set:s(r.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(a).forEach(function(o){i[o]=a[o]}),Object.defineProperty(i,"innerHTML",r)},t.one("sourceset",i.resetSourceWatch_)}},PL=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Z_(k.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return k.Element.prototype.setAttribute.call(this,"src",t),t}}),AL=function(t){return wT([t.el(),k.HTMLMediaElement.prototype,PL],"src")},kL=function(t){if(!!t.featuresSourceset){var i=t.el();if(!i.resetSourceset_){var a=AL(t),r=i.setAttribute,s=i.load;Object.defineProperty(i,"src",Ze(a,{set:function(u){var l=a.set.call(i,u);return t.triggerSourceset(i.src),l}})),i.setAttribute=function(o,u){var l=r.call(i,o,u);return/src/i.test(o)&&t.triggerSourceset(i.src),l},i.load=function(){var o=s.call(i);return Cd(t)||(t.triggerSourceset(""),rv(t)),o},i.currentSrc?t.triggerSourceset(i.currentSrc):Cd(t)||rv(t),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=s,i.setAttribute=r,Object.defineProperty(i,"src",a),i.resetSourceWatch_&&i.resetSourceWatch_()}}}},Sh=function(t,i,a,r){r===void 0&&(r=!0);var s=function(l){return Object.defineProperty(t,i,{value:l,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var l=a();return s(l),l}};return r&&(o.set=s),Object.defineProperty(t,i,o)},he=function(n){le(t,n);function t(a,r){var s;s=n.call(this,a,r)||this;var o=a.source,u=!1;if(s.featuresVideoFrameCallback=s.featuresVideoFrameCallback&&s.el_.tagName==="VIDEO",o&&(s.el_.currentSrc!==o.src||a.tag&&a.tag.initNetworkState_===3)?s.setSource(o):s.handleLateInit_(s.el_),a.enableSourceset&&s.setupSourcesetHandling_(),s.isScrubbing_=!1,s.el_.hasChildNodes()){for(var l=s.el_.childNodes,c=l.length,d=[];c--;){var p=l[c],f=p.nodeName.toLowerCase();f==="track"&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().addTrackElement_(p),s.remoteTextTracks().addTrack(p.track),s.textTracks().addTrack(p.track),!u&&!s.el_.hasAttribute("crossorigin")&&El(p.src)&&(u=!0)):d.push(p))}for(var y=0;y<d.length;y++)s.el_.removeChild(d[y])}return s.proxyNativeTracks_(),s.featuresNativeTextTracks&&u&&Le.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),s.restoreMetadataTracksInIOSNativePlayer_(),(da||Jf||w_)&&a.nativeControlsForTouch===!0&&s.setControls(!0),s.proxyWebkitFullscreen_(),s.triggerReady(),s}var i=t.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,n.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){kL(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var r=this.textTracks(),s,o=function(){s=[];for(var c=0;c<r.length;c++){var d=r[c];d.kind==="metadata"&&s.push({track:d,storedMode:d.mode})}};o(),r.addEventListener("change",o),this.on("dispose",function(){return r.removeEventListener("change",o)});var u=function l(){for(var c=0;c<s.length;c++){var d=s[c];d.track.mode==="disabled"&&d.track.mode!==d.storedMode&&(d.track.mode=d.storedMode)}r.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",o),r.removeEventListener("change",u),r.addEventListener("change",u)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",o),r.addEventListener("change",o),r.removeEventListener("change",u)})},i.overrideNative_=function(r,s){var o=this;if(s===this["featuresNative"+r+"Tracks"]){var u=r.toLowerCase();this[u+"TracksListeners_"]&&Object.keys(this[u+"TracksListeners_"]).forEach(function(l){var c=o.el()[u+"Tracks"];c.removeEventListener(l,o[u+"TracksListeners_"][l])}),this["featuresNative"+r+"Tracks"]=!s,this[u+"TracksListeners_"]=null,this.proxyNativeTracksForType_(u)}},i.overrideNativeAudioTracks=function(r){this.overrideNative_("Audio",r)},i.overrideNativeVideoTracks=function(r){this.overrideNative_("Video",r)},i.proxyNativeTracksForType_=function(r){var s=this,o=Tr[r],u=this.el()[o.getterName],l=this[o.getterName]();if(!(!this["featuresNative"+o.capitalName+"Tracks"]||!u||!u.addEventListener)){var c={change:function(f){var y={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(y),r==="text"&&s[ma.remoteText.getterName]().trigger(y)},addtrack:function(f){l.addTrack(f.track)},removetrack:function(f){l.removeTrack(f.track)}},d=function(){for(var f=[],y=0;y<l.length;y++){for(var T=!1,x=0;x<u.length;x++)if(u[x]===l[y]){T=!0;break}T||f.push(l[y])}for(;f.length;)l.removeTrack(f.shift())};this[o.getterName+"Listeners_"]=c,Object.keys(c).forEach(function(p){var f=c[p];u.addEventListener(p,f),s.on("dispose",function(y){return u.removeEventListener(p,f)})}),this.on("loadstart",d),this.on("dispose",function(p){return s.off("loadstart",d)})}},i.proxyNativeTracks_=function(){var r=this;Tr.names.forEach(function(s){r.proxyNativeTracksForType_(s)})},i.createEl=function(){var r=this.options_.tag;if(!r||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(r){var s=r.cloneNode(!0);r.parentNode&&r.parentNode.insertBefore(s,r),t.disposeMediaElement(r),r=s}else{r=ae.createElement("video");var o=this.options_.tag&&sn(this.options_.tag),u=Ze({},o);(!da||this.options_.nativeControlsForTouch!==!0)&&delete u.controls,R_(r,at(u,{id:this.options_.techId,class:"vjs-tech"}))}r.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&fa(r,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(r.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],c=0;c<l.length;c++){var d=l[c],p=this.options_[d];typeof p<"u"&&(p?fa(r,d,d):_l(r,d),r[d]=p)}return r},i.handleLateInit_=function(r){if(!(r.networkState===0||r.networkState===3)){if(r.readyState===0){var s=!1,o=function(){s=!0};this.on("loadstart",o);var u=function(){s||this.trigger("loadstart")};this.on("loadedmetadata",u),this.ready(function(){this.off("loadstart",o),this.off("loadedmetadata",u),s||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),r.readyState>=2&&l.push("loadeddata"),r.readyState>=3&&l.push("canplay"),r.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(c){this.trigger(c)},this)})}},i.setScrubbing=function(r){this.isScrubbing_=r},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(r){try{this.isScrubbing_&&this.el_.fastSeek&&yl?this.el_.fastSeek(r):this.el_.currentTime=r}catch(s){Le(s,"Video is not ready. (Video.js)")}},i.duration=function(){var r=this;if(this.el_.duration===1/0&&xn&&Sn&&this.el_.currentTime===0){var s=function o(){r.el_.currentTime>0&&(r.el_.duration===1/0&&r.trigger("durationchange"),r.off("timeupdate",o))};return this.on("timeupdate",s),NaN}return this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var r=this;if("webkitDisplayingFullscreen"in this.el_){var s=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},o=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",s),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",o),this.on("dispose",function(){r.off("webkitbeginfullscreen",o),r.off("webkitendfullscreen",s)})}},i.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var r=k.navigator&&k.navigator.userAgent||"";if(/Android/.test(r)||!/Chrome|Mac OS X 10.5/.test(r))return!0}return!1},i.enterFullScreen=function(){var r=this.el_;if(r.paused&&r.networkState<=r.HAVE_METADATA)Gr(this.el_.play()),this.setTimeout(function(){r.pause();try{r.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},0);else try{r.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},i.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.requestVideoFrameCallback=function(r){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(r):n.prototype.requestVideoFrameCallback.call(this,r)},i.cancelVideoFrameCallback=function(r){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(r):n.prototype.cancelVideoFrameCallback.call(this,r)},i.src=function(r){if(r===void 0)return this.el_.src;this.setSrc(r)},i.reset=function(){t.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(r){this.el_.controls=!!r},i.addTextTrack=function(r,s,o){return this.featuresNativeTextTracks?this.el_.addTextTrack(r,s,o):n.prototype.addTextTrack.call(this,r,s,o)},i.createRemoteTextTrack=function(r){if(!this.featuresNativeTextTracks)return n.prototype.createRemoteTextTrack.call(this,r);var s=ae.createElement("track");return r.kind&&(s.kind=r.kind),r.label&&(s.label=r.label),(r.language||r.srclang)&&(s.srclang=r.language||r.srclang),r.default&&(s.default=r.default),r.id&&(s.id=r.id),r.src&&(s.src=r.src),s},i.addRemoteTextTrack=function(r,s){var o=n.prototype.addRemoteTextTrack.call(this,r,s);return this.featuresNativeTextTracks&&this.el().appendChild(o),o},i.removeRemoteTextTrack=function(r){if(n.prototype.removeRemoteTextTrack.call(this,r),this.featuresNativeTextTracks)for(var s=this.$$("track"),o=s.length;o--;)(r===s[o]||r===s[o].track)&&this.el().removeChild(s[o])},i.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var r={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(r.droppedVideoFrames=this.el().webkitDroppedFrameCount,r.totalVideoFrames=this.el().webkitDecodedFrameCount),k.performance&&typeof k.performance.now=="function"?r.creationTime=k.performance.now():k.performance&&k.performance.timing&&typeof k.performance.timing.navigationStart=="number"&&(r.creationTime=k.Date.now()-k.performance.timing.navigationStart),r},t}(Xe);Sh(he,"TEST_VID",function(){if(!!xa()){var n=ae.createElement("video"),t=ae.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",n.appendChild(t),n}});he.isSupported=function(){try{he.TEST_VID.volume=.5}catch{return!1}return!!(he.TEST_VID&&he.TEST_VID.canPlayType)};he.canPlayType=function(n){return he.TEST_VID.canPlayType(n)};he.canPlaySource=function(n,t){return he.canPlayType(n.type)};he.canControlVolume=function(){try{var n=he.TEST_VID.volume;he.TEST_VID.volume=n/2+.1;var t=n!==he.TEST_VID.volume;return t&&Jt?(k.setTimeout(function(){he&&he.prototype&&(he.prototype.featuresVolumeControl=n!==he.TEST_VID.volume)}),!1):t}catch{return!1}};he.canMuteVolume=function(){try{var n=he.TEST_VID.muted;return he.TEST_VID.muted=!n,he.TEST_VID.muted?fa(he.TEST_VID,"muted","muted"):_l(he.TEST_VID,"muted","muted"),n!==he.TEST_VID.muted}catch{return!1}};he.canControlPlaybackRate=function(){if(xn&&Sn&&A_<58)return!1;try{var n=he.TEST_VID.playbackRate;return he.TEST_VID.playbackRate=n/2+.1,n!==he.TEST_VID.playbackRate}catch{return!1}};he.canOverrideAttributes=function(){try{var n=function(){};Object.defineProperty(ae.createElement("video"),"src",{get:n,set:n}),Object.defineProperty(ae.createElement("audio"),"src",{get:n,set:n}),Object.defineProperty(ae.createElement("video"),"innerHTML",{get:n,set:n}),Object.defineProperty(ae.createElement("audio"),"innerHTML",{get:n,set:n})}catch{return!1}return!0};he.supportsNativeTextTracks=function(){return yl||Jt&&Sn};he.supportsNativeVideoTracks=function(){return!!(he.TEST_VID&&he.TEST_VID.videoTracks)};he.supportsNativeAudioTracks=function(){return!!(he.TEST_VID&&he.TEST_VID.audioTracks)};he.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(n){var t=n[0],i=n[1];Sh(he.prototype,t,function(){return he[i]()},!0)});he.prototype.featuresVolumeControl=he.canControlVolume();he.prototype.movingMediaElementInDOM=!Jt;he.prototype.featuresFullscreenResize=!0;he.prototype.featuresProgressEvents=!0;he.prototype.featuresTimeupdateEvents=!0;he.prototype.featuresVideoFrameCallback=!!(he.TEST_VID&&he.TEST_VID.requestVideoFrameCallback);var Pu;he.patchCanPlayType=function(){Xf>=4&&!P_&&!Sn&&(Pu=he.TEST_VID&&he.TEST_VID.constructor.prototype.canPlayType,he.TEST_VID.constructor.prototype.canPlayType=function(n){var t=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return n&&t.test(n)?"maybe":Pu.call(this,n)})};he.unpatchCanPlayType=function(){var n=he.TEST_VID.constructor.prototype.canPlayType;return Pu&&(he.TEST_VID.constructor.prototype.canPlayType=Pu),n};he.patchCanPlayType();he.disposeMediaElement=function(n){if(!!n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch{}}()}};he.resetMediaElement=function(n){if(!!n){for(var t=n.querySelectorAll("source"),i=t.length;i--;)n.removeChild(t[i]);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(n){he.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){he.prototype["set"+ct(n)]=function(t){this.el_[n]=t,t?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(n){he.prototype[n]=function(){return this.el_[n]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(n){he.prototype["set"+ct(n)]=function(t){this.el_[n]=t}});["pause","load","play"].forEach(function(n){he.prototype[n]=function(){return this.el_[n]()}});Xe.withSourceHandlers(he);he.nativeSourceHandler={};he.nativeSourceHandler.canPlayType=function(n){try{return he.TEST_VID.canPlayType(n)}catch{return""}};he.nativeSourceHandler.canHandleSource=function(n,t){if(n.type)return he.nativeSourceHandler.canPlayType(n.type);if(n.src){var i=ah(n.src);return he.nativeSourceHandler.canPlayType("video/"+i)}return""};he.nativeSourceHandler.handleSource=function(n,t,i){t.setSrc(n.src)};he.nativeSourceHandler.dispose=function(){};he.registerSourceHandler(he.nativeSourceHandler);Xe.registerTech("Html5",he);var PT=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Dc={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},wd=["tiny","xsmall","small","medium","large","xlarge","huge"],Zo={};wd.forEach(function(n){var t=n.charAt(0)==="x"?"x-"+n.substring(1):n;Zo[n]="vjs-layout-"+t});var IL={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},ft=function(n){le(t,n);function t(a,r,s){var o;if(a.id=a.id||r.id||"vjs_video_"+En(),r=at(t.getTagSettings(a),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if(typeof a.closest=="function"){var u=a.closest("[lang]");u&&u.getAttribute&&(r.language=u.getAttribute("lang"))}else for(var l=a;l&&l.nodeType===1;){if(sn(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if(o=n.call(this,null,r,s)||this,o.boundDocumentFullscreenChange_=function(f){return o.documentFullscreenChange_(f)},o.boundFullWindowOnEscKey_=function(f){return o.fullWindowOnEscKey(f)},o.boundUpdateStyleEl_=function(f){return o.updateStyleEl_(f)},o.boundApplyInitTime_=function(f){return o.applyInitTime_(f)},o.boundUpdateCurrentBreakpoint_=function(f){return o.updateCurrentBreakpoint_(f)},o.boundHandleTechClick_=function(f){return o.handleTechClick_(f)},o.boundHandleTechDoubleClick_=function(f){return o.handleTechDoubleClick_(f)},o.boundHandleTechTouchStart_=function(f){return o.handleTechTouchStart_(f)},o.boundHandleTechTouchMove_=function(f){return o.handleTechTouchMove_(f)},o.boundHandleTechTouchEnd_=function(f){return o.handleTechTouchEnd_(f)},o.boundHandleTechTap_=function(f){return o.handleTechTap_(f)},o.isFullscreen_=!1,o.log=S_(o.id_),o.fsApi_=xu,o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,o.debugEnabled_=!1,o.audioOnlyMode_=!1,o.audioPosterMode_=!1,o.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=a,o.tagAttributes=a&&sn(a),o.language(o.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach(function(f){c[f.toLowerCase()]=r.languages[f]}),o.languages_=c}else o.languages_=t.prototype.options_.languages;o.resetCache_(),o.poster_=r.poster||"",o.controls_=!!r.controls,a.controls=!1,a.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],a.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(f){if(typeof o[f]!="function")throw new Error('plugin "'+f+'" does not exist')}),o.scrubbing_=!1,o.el_=o.createEl(),rh(Ce(o),{eventBusKey:"el_"}),o.fsApi_.requestFullscreen&&(pr(ae,o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_),o.on(o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_)),o.fluid_&&o.on(["playerreset","resize"],o.boundUpdateStyleEl_);var d=Ze(o.options_);r.plugins&&Object.keys(r.plugins).forEach(function(f){o[f](r.plugins[f])}),r.debug&&o.debug(!0),o.options_.playerOptions=d,o.middleware_=[],o.playbackRates(r.playbackRates),o.initChildren(),o.isAudio(a.nodeName.toLowerCase()==="audio"),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),da&&o.addClass("vjs-touch-enabled"),Jt||o.addClass("vjs-workinghover"),t.players[o.id_]=Ce(o);var p=T_.split(".")[0];return o.addClass("vjs-v"+p),o.userActive(!0),o.reportUserActivity(),o.one("play",function(f){return o.listenForUserActivity_(f)}),o.on("stageclick",function(f){return o.handleStageClick_(f)}),o.on("keydown",function(f){return o.handleKeyDown(f)}),o.on("languagechange",function(f){return o.handleLanguagechange(f)}),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o.on("ready",function(){o.audioPosterMode(o.options_.audioPosterMode),o.audioOnlyMode(o.options_.audioOnlyMode)}),o}var i=t.prototype;return i.dispose=function(){var r=this;this.trigger("dispose"),this.off("dispose"),Ft(ae,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ft(ae,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),YD(this),zt.names.forEach(function(s){var o=zt[s],u=r[o.getterName]();u&&u.off&&u.off()}),n.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},i.createEl=function(){var r=this.tag,s,o=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),u=this.tag.tagName.toLowerCase()==="video-js";o?s=this.el_=r.parentNode:u||(s=this.el_=n.prototype.createEl.call(this,"div"));var l=sn(r);if(u){for(s=this.el_=r,r=this.tag=ae.createElement("video");s.children.length;)r.appendChild(s.firstChild);mi(s,"video-js")||pn(s,"video-js"),s.appendChild(r),o=this.playerElIngest_=s,Object.keys(s).forEach(function(T){try{r[T]=s[T]}catch{}})}if(r.setAttribute("tabindex","-1"),l.tabindex="-1",(zs||Sn&&k_)&&(r.setAttribute("role","application"),l.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(T){u&&T==="class"||s.setAttribute(T,l[T]),u&&r.setAttribute(T,l[T])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=s.player=this,this.addClass("vjs-paused"),k.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=q_("vjs-styles-dimensions");var c=Hn(".vjs-styles-defaults"),d=Hn("head");d.insertBefore(this.styleEl_,c?c.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var p=r.getElementsByTagName("a"),f=0;f<p.length;f++){var y=p.item(f);pn(y,"vjs-hidden"),y.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!o&&r.parentNode.insertBefore(s,r),yd(r,s),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=s,s},i.crossOrigin=function(r){if(!r)return this.techGet_("crossOrigin");if(r!=="anonymous"&&r!=="use-credentials"){Le.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+r+'"');return}this.techCall_("setCrossOrigin",r)},i.width=function(r){return this.dimension("width",r)},i.height=function(r){return this.dimension("height",r)},i.dimension=function(r,s){var o=r+"_";if(s===void 0)return this[o]||0;if(s===""||s==="auto"){this[o]=void 0,this.updateStyleEl_();return}var u=parseFloat(s);if(isNaN(u)){Le.error('Improper value "'+s+'" supplied for for '+r);return}this[o]=u,this.updateStyleEl_()},i.fluid=function(r){var s=this;if(r===void 0)return!!this.fluid_;this.fluid_=!!r,mn(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),r?(this.addClass("vjs-fluid"),this.fill(!1),bD(this,function(){s.on(["playerreset","resize"],s.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(r){if(r===void 0)return!!this.fill_;this.fill_=!!r,r?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(r){if(r===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(r))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=r,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(k.VIDEOJS_NO_DYNAMIC_STYLE===!0){var r=typeof this.width_=="number"?this.width_:this.options_.width,s=typeof this.height_=="number"?this.height_:this.options_.height,o=this.tech_&&this.tech_.el();o&&(r>=0&&(o.width=r),s>=0&&(o.height=s));return}var u,l,c,d;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?c=this.aspectRatio_:this.videoWidth()>0?c=this.videoWidth()+":"+this.videoHeight():c="16:9";var p=c.split(":"),f=p[1]/p[0];this.width_!==void 0?u=this.width_:this.height_!==void 0?u=this.height_/f:u=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=u*f,/^[^a-zA-Z]/.test(this.id())?d="dimensions-"+this.id():d=this.id()+"-dimensions",this.addClass(d),W_(this.styleEl_,`
      .`+d+` {
        width: `+u+`px;
        height: `+l+`px;
      }

      .`+d+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+f*100+`%;
      }
    `)},i.loadTech_=function(r,s){var o=this;this.tech_&&this.unloadTech_();var u=ct(r),l=r.charAt(0).toLowerCase()+r.slice(1);u!=="Html5"&&this.tag&&(Xe.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=u,this.isReady_=!1;var c=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(c=!1);var d={source:s,autoplay:c,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};zt.names.forEach(function(f){var y=zt[f];d[y.getterName]=o[y.privateName]}),at(d,this.options_[u]),at(d,this.options_[l]),at(d,this.options_[r.toLowerCase()]),this.tag&&(d.tag=this.tag),s&&s.src===this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime);var p=Xe.getTech(r);if(!p)throw new Error("No Tech named '"+u+"' exists! '"+u+"' should be registered using videojs.registerTech()'");this.tech_=new p(d),this.tech_.ready(et(this,this.handleTechReady_),!0),Ng.jsonToTextTracks(this.textTracksJson_||[],this.tech_),PT.forEach(function(f){o.on(o.tech_,f,function(y){return o["handleTech"+ct(f)+"_"](y)})}),Object.keys(Dc).forEach(function(f){o.on(o.tech_,f,function(y){if(o.tech_.playbackRate()===0&&o.tech_.seeking()){o.queuedCallbacks_.push({callback:o["handleTech"+Dc[f]+"_"].bind(o),event:y});return}o["handleTech"+Dc[f]+"_"](y)})}),this.on(this.tech_,"loadstart",function(f){return o.handleTechLoadStart_(f)}),this.on(this.tech_,"sourceset",function(f){return o.handleTechSourceset_(f)}),this.on(this.tech_,"waiting",function(f){return o.handleTechWaiting_(f)}),this.on(this.tech_,"ended",function(f){return o.handleTechEnded_(f)}),this.on(this.tech_,"seeking",function(f){return o.handleTechSeeking_(f)}),this.on(this.tech_,"play",function(f){return o.handleTechPlay_(f)}),this.on(this.tech_,"firstplay",function(f){return o.handleTechFirstPlay_(f)}),this.on(this.tech_,"pause",function(f){return o.handleTechPause_(f)}),this.on(this.tech_,"durationchange",function(f){return o.handleTechDurationChange_(f)}),this.on(this.tech_,"fullscreenchange",function(f,y){return o.handleTechFullscreenChange_(f,y)}),this.on(this.tech_,"fullscreenerror",function(f,y){return o.handleTechFullscreenError_(f,y)}),this.on(this.tech_,"enterpictureinpicture",function(f){return o.handleTechEnterPictureInPicture_(f)}),this.on(this.tech_,"leavepictureinpicture",function(f){return o.handleTechLeavePictureInPicture_(f)}),this.on(this.tech_,"error",function(f){return o.handleTechError_(f)}),this.on(this.tech_,"posterchange",function(f){return o.handleTechPosterChange_(f)}),this.on(this.tech_,"textdata",function(f){return o.handleTechTextData_(f)}),this.on(this.tech_,"ratechange",function(f){return o.handleTechRateChange_(f)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(u!=="Html5"||!this.tag)&&yd(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var r=this;zt.names.forEach(function(s){var o=zt[s];r[o.privateName]=r[o.getterName]()}),this.textTracksJson_=Ng.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(r){return r===void 0&&Le.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},i.manualAutoplay_=function(r){var s=this;if(!(!this.tech_||typeof r!="string")){var o=function(){var c=s.muted();s.muted(!0);var d=function(){s.muted(c)};s.playTerminatedQueue_.push(d);var p=s.play();if(!!hs(p))return p.catch(function(f){throw d(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(f||""))})},u;if(r==="any"&&!this.muted()?(u=this.play(),hs(u)&&(u=u.catch(o))):r==="muted"&&!this.muted()?u=o():u=this.play(),!!hs(u))return u.then(function(){s.trigger({type:"autoplay-success",autoplay:r})}).catch(function(){s.trigger({type:"autoplay-failure",autoplay:r})})}},i.updateSourceCaches_=function(r){r===void 0&&(r="");var s=r,o="";typeof s!="string"&&(s=r.src,o=r.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],s&&!o&&(o=ZD(this,s)),this.cache_.source=Ze({},r,{src:s,type:o});for(var u=this.cache_.sources.filter(function(y){return y.src&&y.src===s}),l=[],c=this.$$("source"),d=[],p=0;p<c.length;p++){var f=sn(c[p]);l.push(f),f.src&&f.src===s&&d.push(f.src)}d.length&&!u.length?this.cache_.sources=l:u.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=s},i.handleTechSourceset_=function(r){var s=this;if(!this.changingSrc_){var o=function(d){return s.updateSourceCaches_(d)},u=this.currentSource().src,l=r.src;u&&!/^blob:/.test(u)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==u)&&(o=function(){}),o(l),r.src||this.tech_.any(["sourceset","loadstart"],function(c){if(c.type!=="sourceset"){var d=s.techGet("currentSrc");s.lastSource_.tech=d,s.updateSourceCaches_(d)}})}this.lastSource_={player:this.currentSource().src,tech:r.src},this.trigger({src:r.src,type:"sourceset"})},i.hasStarted=function(r){if(r===void 0)return this.hasStarted_;r!==this.hasStarted_&&(this.hasStarted_=r,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(r){return r.callback(r.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var r=this;this.addClass("vjs-waiting"),this.trigger("waiting");var s=this.currentTime(),o=function u(){s!==r.currentTime()&&(r.removeClass("vjs-waiting"),r.off("timeupdate",u))};this.on("timeupdate",o)},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(Le.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(r){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,r):this.paused()?Gr(this.play()):this.pause())},i.handleTechDoubleClick_=function(r){if(!!this.controls_){var s=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(o){return o.contains(r.target)});s||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,r):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(r){r.cancelable&&r.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(r){var s=r.target.player;if(!(s&&s!==this)){var o=this.el(),u=ae[this.fsApi_.fullscreenElement]===o;!u&&o.matches?u=o.matches(":"+this.fsApi_.fullscreen):!u&&o.msMatchesSelector&&(u=o.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(u)}},i.handleTechFullscreenChange_=function(r,s){var o=this;s&&(s.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){o.removeClass("vjs-ios-native-fs")})),this.isFullscreen(s.isFullscreen))},i.handleTechFullscreenError_=function(r,s){this.trigger("fullscreenerror",s)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(r){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(r){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var r=this.tech_.error();this.error(r)},i.handleTechTextData_=function(){var r=null;arguments.length>1&&(r=arguments[1]),this.trigger("textdata",r)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},i.techCall_=function(r,s){this.ready(function(){if(r in KD)return zD(this.middleware_,this.tech_,r,s);if(r in $g)return Vg(this.middleware_,this.tech_,r,s);try{this.tech_&&this.tech_[r](s)}catch(o){throw Le(o),o}},!0)},i.techGet_=function(r){if(!(!this.tech_||!this.tech_.isReady_)){if(r in GD)return WD(this.middleware_,this.tech_,r);if(r in $g)return Vg(this.middleware_,this.tech_,r);try{return this.tech_[r]()}catch(s){throw this.tech_[r]===void 0?(Le("Video.js: "+r+" method not defined for "+this.techName_+" playback technology.",s),s):s.name==="TypeError"?(Le("Video.js: "+r+" unavailable on "+this.techName_+" playback technology element.",s),this.tech_.isReady_=!1,s):(Le(s),s)}}},i.play=function(){var r=this,s=this.options_.Promise||k.Promise;return s?new s(function(o){r.play_(o)}):this.play_()},i.play_=function(r){var s=this;r===void 0&&(r=Gr),this.playCallbacks_.push(r);var o=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!o){this.waitToPlay_=function(l){s.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!o&&(yl||Jt)&&this.load();return}var u=this.techGet_("play");u===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(u)},i.runPlayTerminatedQueue_=function(){var r=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],r.forEach(function(s){s()})},i.runPlayCallbacks_=function(r){var s=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],s.forEach(function(o){o(r)})},i.pause=function(){this.techCall_("pause")},i.paused=function(){return this.techGet_("paused")!==!1},i.played=function(){return this.techGet_("played")||gi(0,0)},i.scrubbing=function(r){if(typeof r>"u")return this.scrubbing_;this.scrubbing_=!!r,this.techCall_("setScrubbing",this.scrubbing_),r?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(r){if(typeof r<"u"){if(r<0&&(r=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=r,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",r),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(r){if(r===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;r=parseFloat(r),r<0&&(r=1/0),r!==this.cache_.duration&&(this.cache_.duration=r,r===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(r)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var r=this.techGet_("buffered");return(!r||!r.length)&&(r=gi(0,0)),r},i.bufferedPercent=function(){return Q_(this.buffered(),this.duration())},i.bufferedEnd=function(){var r=this.buffered(),s=this.duration(),o=r.end(r.length-1);return o>s&&(o=s),o},i.volume=function(r){var s;if(r!==void 0){s=Math.max(0,Math.min(1,parseFloat(r))),this.cache_.volume=s,this.techCall_("setVolume",s),s>0&&this.lastVolume_(s);return}return s=parseFloat(this.techGet_("volume")),isNaN(s)?1:s},i.muted=function(r){if(r!==void 0){this.techCall_("setMuted",r);return}return this.techGet_("muted")||!1},i.defaultMuted=function(r){return r!==void 0?this.techCall_("setDefaultMuted",r):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(r){if(r!==void 0&&r!==0){this.cache_.lastVolume=r;return}return this.cache_.lastVolume},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(r){if(r!==void 0){var s=this.isFullscreen_;this.isFullscreen_=Boolean(r),this.isFullscreen_!==s&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},i.requestFullscreen=function(r){var s=this.options_.Promise||k.Promise;if(s){var o=this;return new s(function(u,l){function c(){o.off("fullscreenerror",p),o.off("fullscreenchange",d)}function d(){c(),u()}function p(y,T){c(),l(T)}o.one("fullscreenchange",d),o.one("fullscreenerror",p);var f=o.requestFullscreenHelper_(r);f&&(f.then(c,c),f.then(u,l))})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(r){var s=this,o;if(this.fsApi_.prefixed||(o=this.options_.fullscreen&&this.options_.fullscreen.options||{},r!==void 0&&(o=r)),this.fsApi_.requestFullscreen){var u=this.el_[this.fsApi_.requestFullscreen](o);return u&&u.then(function(){return s.isFullscreen(!0)},function(){return s.isFullscreen(!1)}),u}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var r=this.options_.Promise||k.Promise;if(r){var s=this;return new r(function(o,u){function l(){s.off("fullscreenerror",d),s.off("fullscreenchange",c)}function c(){l(),o()}function d(f,y){l(),u(y)}s.one("fullscreenchange",c),s.one("fullscreenerror",d);var p=s.exitFullscreenHelper_();p&&(p.then(l,l),p.then(o,u))})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var r=this;if(this.fsApi_.requestFullscreen){var s=ae[this.fsApi_.exitFullscreen]();return s&&Gr(s.then(function(){return r.isFullscreen(!1)})),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=ae.documentElement.style.overflow,pr(ae,"keydown",this.boundFullWindowOnEscKey_),ae.documentElement.style.overflow="hidden",pn(ae.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(r){Ae.isEventKey(r,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Ft(ae,"keydown",this.boundFullWindowOnEscKey_),ae.documentElement.style.overflow=this.docOrigOverflow,Gs(ae.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.disablePictureInPicture=function(r){if(r===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",r),this.options_.disablePictureInPicture=r,this.trigger("disablepictureinpicturechanged")},i.isInPictureInPicture=function(r){if(r!==void 0){this.isInPictureInPicture_=!!r,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in ae&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in ae)return ae.exitPictureInPicture()},i.handleKeyDown=function(r){var s=this.options_.userActions;if(!(!s||!s.hotkeys)){var o=function(l){var c=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var d=["button","checkbox","hidden","radio","reset","submit"];if(c==="input")return d.indexOf(l.type)===-1;var p=["textarea"];return p.indexOf(c)!==-1};o(this.el_.ownerDocument.activeElement)||(typeof s.hotkeys=="function"?s.hotkeys.call(this,r):this.handleHotkeys(r))}},i.handleHotkeys=function(r){var s=this.options_.userActions?this.options_.userActions.hotkeys:{},o=s.fullscreenKey,u=o===void 0?function(x){return Ae.isEventKey(x,"f")}:o,l=s.muteKey,c=l===void 0?function(x){return Ae.isEventKey(x,"m")}:l,d=s.playPauseKey,p=d===void 0?function(x){return Ae.isEventKey(x,"k")||Ae.isEventKey(x,"Space")}:d;if(u.call(this,r)){r.preventDefault(),r.stopPropagation();var f=Z.getComponent("FullscreenToggle");ae[this.fsApi_.fullscreenEnabled]!==!1&&f.prototype.handleClick.call(this,r)}else if(c.call(this,r)){r.preventDefault(),r.stopPropagation();var y=Z.getComponent("MuteToggle");y.prototype.handleClick.call(this,r)}else if(p.call(this,r)){r.preventDefault(),r.stopPropagation();var T=Z.getComponent("PlayToggle");T.prototype.handleClick.call(this,r)}},i.canPlayType=function(r){for(var s,o=0,u=this.options_.techOrder;o<u.length;o++){var l=u[o],c=Xe.getTech(l);if(c||(c=Z.getComponent(l)),!c){Le.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(c.isSupported()&&(s=c.canPlayType(r),s))return s}return""},i.selectSource=function(r){var s=this,o=this.options_.techOrder.map(function(p){return[p,Xe.getTech(p)]}).filter(function(p){var f=p[0],y=p[1];return y?y.isSupported():(Le.error('The "'+f+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),u=function(f,y,T){var x;return f.some(function(S){return y.some(function(C){if(x=T(S,C),x)return!0})}),x},l,c=function(f){return function(y,T){return f(T,y)}},d=function(f,y){var T=f[0],x=f[1];if(x.canPlaySource(y,s.options_[T.toLowerCase()]))return{source:y,tech:T}};return this.options_.sourceOrder?l=u(r,o,c(d)):l=u(o,r,d),l||!1},i.handleSrc_=function(r,s){var o=this;if(typeof r>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var u=eL(r);if(!u.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,s||(this.cache_.sources=u),this.updateSourceCaches_(u[0]),$D(this,u[0],function(d,p){o.middleware_=p,s||(o.cache_.sources=u),o.updateSourceCaches_(d);var f=o.src_(d);if(f){if(u.length>1)return o.handleSrc_(u.slice(1));o.changingSrc_=!1,o.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),o.triggerReady();return}qD(p,o.tech_)}),this.options_.retryOnError&&u.length>1){var l=function(){o.error(null),o.handleSrc_(u.slice(1),!0)},c=function(){o.off("error",l)};this.one("error",l),this.one("playing",c),this.resetRetryOnError_=function(){o.off("error",l),o.off("playing",c)}}},i.src=function(r){return this.handleSrc_(r,!1)},i.src_=function(r){var s=this,o=this.selectSource([r]);return o?ED(o.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",r):this.techCall_("src",r.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(o.tech,o.source),this.tech_.ready(function(){s.changingSrc_=!1}),!1):!0},i.load=function(){this.techCall_("load")},i.reset=function(){var r=this,s=this.options_.Promise||k.Promise;if(this.paused()||!s)this.doReset_();else{var o=this.play();Gr(o.then(function(){return r.doReset_()}))}},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),mn(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var r=this.controlBar||{},s=r.durationDisplay,o=r.remainingTimeDisplay;s&&s.updateContent(),o&&o.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var r=this.currentSource(),s=[];return Object.keys(r).length!==0&&s.push(r),this.cache_.sources||s},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(r){if(r!==void 0){this.techCall_("setPreload",r),this.options_.preload=r;return}return this.techGet_("preload")},i.autoplay=function(r){if(r===void 0)return this.options_.autoplay||!1;var s;typeof r=="string"&&/(any|play|muted)/.test(r)||r===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=r,this.manualAutoplay_(typeof r=="string"?r:"play"),s=!1):r?this.options_.autoplay=!0:this.options_.autoplay=!1,s=typeof s>"u"?this.options_.autoplay:s,this.tech_&&this.techCall_("setAutoplay",s)},i.playsinline=function(r){return r!==void 0?(this.techCall_("setPlaysinline",r),this.options_.playsinline=r,this):this.techGet_("playsinline")},i.loop=function(r){if(r!==void 0){this.techCall_("setLoop",r),this.options_.loop=r;return}return this.techGet_("loop")},i.poster=function(r){if(r===void 0)return this.poster_;r||(r=""),r!==this.poster_&&(this.poster_=r,this.techCall_("setPoster",r),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var r=this.tech_.poster()||"";r!==this.poster_&&(this.poster_=r,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},i.controls=function(r){if(r===void 0)return!!this.controls_;r=!!r,this.controls_!==r&&(this.controls_=r,this.usingNativeControls()&&this.techCall_("setControls",r),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(r){if(r===void 0)return!!this.usingNativeControls_;r=!!r,this.usingNativeControls_!==r&&(this.usingNativeControls_=r,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(r){var s=this;if(r===void 0)return this.error_||null;if(jn("beforeerror").forEach(function(u){var l=u(s,r);if(!(_n(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){s.log.error("please return a value that MediaError expects in beforeerror hooks");return}r=l}),this.options_.suppressNotSupportedError&&r&&r.code===4){var o=function(){this.error(r)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],o),this.one("loadstart",function(){this.off(["click","touchstart"],o)});return}if(r===null){this.error_=r,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Yt(r),this.addClass("vjs-error"),Le.error("(CODE:"+this.error_.code+" "+Yt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),jn("error").forEach(function(u){return u(s,s.error_)})},i.reportUserActivity=function(r){this.userActivity_=!0},i.userActive=function(r){if(r===void 0)return this.userActive_;if(r=!!r,r!==this.userActive_){if(this.userActive_=r,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(s){s.stopPropagation(),s.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var r,s,o,u=et(this,this.reportUserActivity),l=function(T){(T.screenX!==s||T.screenY!==o)&&(s=T.screenX,o=T.screenY,u())},c=function(){u(),this.clearInterval(r),r=this.setInterval(u,250)},d=function(T){u(),this.clearInterval(r)};this.on("mousedown",c),this.on("mousemove",l),this.on("mouseup",d),this.on("mouseleave",d);var p=this.getChild("controlBar");p&&!Jt&&!xn&&(p.on("mouseenter",function(y){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),p.on("mouseleave",function(y){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",u),this.on("keyup",u);var f;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(f);var y=this.options_.inactivityTimeout;y<=0||(f=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},y))}},250)},i.playbackRate=function(r){if(r!==void 0){this.techCall_("setPlaybackRate",r);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},i.defaultPlaybackRate=function(r){return r!==void 0?this.techCall_("setDefaultPlaybackRate",r):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(r){if(r!==void 0){this.isAudio_=!!r;return}return!!this.isAudio_},i.enableAudioOnlyUI_=function(){var r=this;this.addClass("vjs-audio-only-mode");var s=this.children(),o=this.getChild("ControlBar"),u=o&&o.currentHeight();s.forEach(function(l){l!==o&&l.el_&&!l.hasClass("vjs-hidden")&&(l.hide(),r.audioOnlyCache_.hiddenChildren.push(l))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(u),this.trigger("audioonlymodechange")},i.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(r){return r.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},i.audioOnlyMode=function(r){var s=this;if(typeof r!="boolean"||r===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=r;var o=this.options_.Promise||k.Promise;if(o){if(r){var u=[];return this.isInPictureInPicture()&&u.push(this.exitPictureInPicture()),this.isFullscreen()&&u.push(this.exitFullscreen()),this.audioPosterMode()&&u.push(this.audioPosterMode(!1)),o.all(u).then(function(){return s.enableAudioOnlyUI_()})}return o.resolve().then(function(){return s.disableAudioOnlyUI_()})}r?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},i.enablePosterModeUI_=function(){var r=this.tech_&&this.tech_;r.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.disablePosterModeUI_=function(){var r=this.tech_&&this.tech_;r.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.audioPosterMode=function(r){var s=this;if(typeof r!="boolean"||r===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=r;var o=this.options_.Promise||k.Promise;if(o){if(r){if(this.audioOnlyMode()){var u=this.audioOnlyMode(!1);return u.then(function(){s.enablePosterModeUI_()})}return o.resolve().then(function(){s.enablePosterModeUI_()})}return o.resolve().then(function(){s.disablePosterModeUI_()})}if(r){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},i.addTextTrack=function(r,s,o){if(this.tech_)return this.tech_.addTextTrack(r,s,o)},i.addRemoteTextTrack=function(r,s){if(this.tech_)return this.tech_.addRemoteTextTrack(r,s)},i.removeRemoteTextTrack=function(r){r===void 0&&(r={});var s=r,o=s.track;if(o||(o=r),this.tech_)return this.tech_.removeRemoteTextTrack(o)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(r){if(r===void 0)return this.language_;this.language_!==String(r).toLowerCase()&&(this.language_=String(r).toLowerCase(),mn(this)&&this.trigger("languagechange"))},i.languages=function(){return Ze(t.prototype.options_.languages,this.languages_)},i.toJSON=function(){var r=Ze(this.options_),s=r.tracks;r.tracks=[];for(var o=0;o<s.length;o++){var u=s[o];u=Ze(u),u.player=void 0,r.tracks[o]=u}return r},i.createModal=function(r,s){var o=this;s=s||{},s.content=r||"";var u=new Ca(this,s);return this.addChild(u),u.on("dispose",function(){o.removeChild(u)}),u.open(),u},i.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var r=this.currentBreakpoint(),s=this.currentWidth(),o=0;o<wd.length;o++){var u=wd[o],l=this.breakpoints_[u];if(s<=l){if(r===u)return;r&&this.removeClass(Zo[r]),this.addClass(Zo[u]),this.breakpoint_=u;break}}},i.removeCurrentBreakpoint_=function(){var r=this.currentBreakpointClass();this.breakpoint_="",r&&this.removeClass(r)},i.breakpoints=function(r){return r===void 0?at(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=at({},IL,r),this.updateCurrentBreakpoint_(),at(this.breakpoints_))},i.responsive=function(r){if(r===void 0)return this.responsive_;r=Boolean(r);var s=this.responsive_;if(r!==s)return this.responsive_=r,r?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),r},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return Zo[this.breakpoint_]||""},i.loadMedia=function(r,s){var o=this;if(!(!r||typeof r!="object")){this.reset(),this.cache_.media=Ze(r);var u=this.cache_.media,l=u.artwork,c=u.poster,d=u.src,p=u.textTracks;!l&&c&&(this.cache_.media.artwork=[{src:c,type:Cu(c)}]),d&&this.src(d),c&&this.poster(c),Array.isArray(p)&&p.forEach(function(f){return o.addRemoteTextTrack(f,!1)}),this.ready(s)}},i.getMedia=function(){if(!this.cache_.media){var r=this.poster(),s=this.currentSources(),o=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),u={src:s,textTracks:o};return r&&(u.poster=r,u.artwork=[{src:u.poster,type:Cu(u.poster)}]),u}return Ze(this.cache_.media)},t.getTagSettings=function(r){var s={sources:[],tracks:[]},o=sn(r),u=o["data-setup"];if(mi(r,"vjs-fill")&&(o.fill=!0),mi(r,"vjs-fluid")&&(o.fluid=!0),u!==null){var l=vI(u||"{}"),c=l[0],d=l[1];c&&Le.error(c),at(o,d)}if(at(s,o),r.hasChildNodes())for(var p=r.childNodes,f=0,y=p.length;f<y;f++){var T=p[f],x=T.nodeName.toLowerCase();x==="source"?s.sources.push(sn(T)):x==="track"&&s.tracks.push(sn(T))}return s},i.flexNotSupported_=function(){var r=ae.createElement("i");return!("flexBasis"in r.style||"webkitFlexBasis"in r.style||"mozFlexBasis"in r.style||"msFlexBasis"in r.style||"msFlexOrder"in r.style)},i.debug=function(r){if(r===void 0)return this.debugEnabled_;r?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i.playbackRates=function(r){if(r===void 0)return this.cache_.playbackRates;!Array.isArray(r)||!r.every(function(s){return typeof s=="number"})||(this.cache_.playbackRates=r,this.trigger("playbackrateschange"))},t}(Z);zt.names.forEach(function(n){var t=zt[n];ft.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}});ft.prototype.crossorigin=ft.prototype.crossOrigin;ft.players={};var Ga=k.navigator;ft.prototype.options_={techOrder:Xe.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ga&&(Ga.languages&&Ga.languages[0]||Ga.userLanguage||Ga.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(n){ft.prototype[n]=function(){return this.techGet_(n)}});PT.forEach(function(n){ft.prototype["handleTech"+ct(n)+"_"]=function(){return this.trigger(n)}});Z.registerComponent("Player",ft);var Au="plugin",Zi="activePlugins_",zi={},ku=function(t){return zi.hasOwnProperty(t)},eu=function(t){return ku(t)?zi[t]:void 0},AT=function(t,i){t[Zi]=t[Zi]||{},t[Zi][i]=!0},Iu=function(t,i,a){var r=(a?"before":"")+"pluginsetup";t.trigger(r,i),t.trigger(r+":"+i.name,i)},OL=function(t,i){var a=function(){Iu(this,{name:t,plugin:i,instance:null},!0);var s=i.apply(this,arguments);return AT(this,t),Iu(this,{name:t,plugin:i,instance:s}),s};return Object.keys(i).forEach(function(r){a[r]=i[r]}),a},nv=function(t,i){return i.prototype.name=t,function(){Iu(this,{name:t,plugin:i,instance:null},!0);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];var o=Xo(i,[this].concat(r));return this[t]=function(){return o},Iu(this,o.getEventHash()),o}},Jr=function(){function n(i){if(this.constructor===n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=i,this.log||(this.log=this.player.log.createLogger(this.name)),rh(this),delete this.trigger,Y_(this,this.constructor.defaultState),AT(i,this.name),this.dispose=this.dispose.bind(this),i.on("dispose",this.dispose)}var t=n.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(a){return a===void 0&&(a={}),a.name=this.name,a.plugin=this.constructor,a.instance=this,a},t.trigger=function(a,r){return r===void 0&&(r={}),Ea(this.eventBusEl_,a,this.getEventHash(r))},t.handleStateChanged=function(a){},t.dispose=function(){var a=this.name,r=this.player;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[Zi][a]=!1,this.player=this.state=null,r[a]=nv(a,zi[a])},n.isBasic=function(a){var r=typeof a=="string"?eu(a):a;return typeof r=="function"&&!n.prototype.isPrototypeOf(r.prototype)},n.registerPlugin=function(a,r){if(typeof a!="string")throw new Error('Illegal plugin name, "'+a+'", must be a string, was '+typeof a+".");if(ku(a))Le.warn('A plugin named "'+a+'" already exists. You may want to avoid re-registering plugins!');else if(ft.prototype.hasOwnProperty(a))throw new Error('Illegal plugin name, "'+a+'", cannot share a name with an existing player method!');if(typeof r!="function")throw new Error('Illegal plugin for "'+a+'", must be a function, was '+typeof r+".");return zi[a]=r,a!==Au&&(n.isBasic(r)?ft.prototype[a]=OL(a,r):ft.prototype[a]=nv(a,r)),r},n.deregisterPlugin=function(a){if(a===Au)throw new Error("Cannot de-register base plugin.");ku(a)&&(delete zi[a],delete ft.prototype[a])},n.getPlugins=function(a){a===void 0&&(a=Object.keys(zi));var r;return a.forEach(function(s){var o=eu(s);o&&(r=r||{},r[s]=o)}),r},n.getPluginVersion=function(a){var r=eu(a);return r&&r.VERSION||""},n}();Jr.getPlugin=eu;Jr.BASE_PLUGIN_NAME=Au;Jr.registerPlugin(Au,Jr);ft.prototype.usingPlugin=function(n){return!!this[Zi]&&this[Zi][n]===!0};ft.prototype.hasPlugin=function(n){return!!ku(n)};var DL=function(t,i){i===void 0&&(i={});var a=function(){t.apply(this,arguments)},r={};typeof i=="object"?(i.constructor!==Object.prototype.constructor&&(a=i.constructor),r=i):typeof i=="function"&&(a=i),a1(a,t),t&&(a.super_=t);for(var s in r)r.hasOwnProperty(s)&&(a.prototype[s]=r[s]);return a},kT=function(t){return t.indexOf("#")===0?t.slice(1):t};function B(n,t,i){var a=B.getPlayer(n);if(a)return t&&Le.warn('Player "'+n+'" is already initialised. Options will not be applied.'),i&&a.ready(i),a;var r=typeof n=="string"?Hn("#"+kT(n)):n;if(!Sa(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!r.ownerDocument.defaultView||!r.ownerDocument.body.contains(r))&&Le.warn("The element supplied is not included in the DOM"),t=t||{},t.restoreEl===!0&&(t.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),jn("beforesetup").forEach(function(o){var u=o(r,Ze(t));if(!_n(u)||Array.isArray(u)){Le.error("please return an object in beforesetup hooks");return}t=Ze(t,u)});var s=Z.getComponent("Player");return a=new s(r,t,i),jn("setup").forEach(function(o){return o(a)}),a}B.hooks_=un;B.hooks=jn;B.hook=aD;B.hookOnce=sD;B.removeHook=b_;if(k.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&xa()){var Uo=Hn(".vjs-styles-defaults");if(!Uo){Uo=q_("vjs-styles-defaults");var Lc=Hn("head");Lc&&Lc.insertBefore(Uo,Lc.firstChild),W_(Uo,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Td(1,B);B.VERSION=T_;B.options=ft.prototype.options_;B.getPlayers=function(){return ft.players};B.getPlayer=function(n){var t=ft.players,i;if(typeof n=="string"){var a=kT(n),r=t[a];if(r)return r;i=Hn("#"+a)}else i=n;if(Sa(i)){var s=i,o=s.player,u=s.playerId;if(o||t[u])return o||t[u]}};B.getAllPlayers=function(){return Object.keys(ft.players).map(function(n){return ft.players[n]}).filter(Boolean)};B.players=ft.players;B.getComponent=Z.getComponent;B.registerComponent=function(n,t){Xe.isTech(t)&&Le.warn("The "+n+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Z.registerComponent.call(Z,n,t)};B.getTech=Xe.getTech;B.registerTech=Xe.registerTech;B.use=VD;Object.defineProperty(B,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(B.middleware,"TERMINATOR",{value:Eu,writeable:!1,enumerable:!0});B.browser=fD;B.TOUCH_ENABLED=da;B.extend=DL;B.mergeOptions=Ze;B.bind=et;B.registerPlugin=Jr.registerPlugin;B.deregisterPlugin=Jr.deregisterPlugin;B.plugin=function(n,t){return Le.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Jr.registerPlugin(n,t)};B.getPlugins=Jr.getPlugins;B.getPlugin=Jr.getPlugin;B.getPluginVersion=Jr.getPluginVersion;B.addLanguage=function(n,t){var i;return n=(""+n).toLowerCase(),B.options.languages=Ze(B.options.languages,(i={},i[n]=t,i)),B.options.languages[n]};B.log=Le;B.createLogger=S_;B.createTimeRange=B.createTimeRanges=gi;B.formatTime=ga;B.setFormatTime=oL;B.resetFormatTime=uL;B.parseUrl=ih;B.isCrossOrigin=El;B.EventTarget=St;B.on=pr;B.one=xl;B.off=Ft;B.trigger=Ea;B.xhr=ll.exports;B.TextTrack=Ks;B.AudioTrack=eT;B.VideoTrack=tT;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(n){B[n]=function(){return Le.warn("videojs."+n+"() is deprecated; use videojs.dom."+n+"() instead"),V_[n].apply(null,arguments)}});B.computedStyle=Rs;B.dom=V_;B.url=BD;B.defineLazyProperty=Sh;B.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.14.2 @license Apache-2.0 */var wr=dl,Ou=function(t,i,a){return t&&a&&a.responseURL&&i!==a.responseURL?a.responseURL:i},jr=function(t){return B.log.debug?B.log.debug.bind(B,"VHS:",t+" >"):function(){}},Vn=1/30,Kr=Vn*3,IT=function(t,i){var a=[],r;if(t&&t.length)for(r=0;r<t.length;r++)i(t.start(r),t.end(r))&&a.push([t.start(r),t.end(r)]);return B.createTimeRanges(a)},Gi=function(t,i){return IT(t,function(a,r){return a-Kr<=i&&r+Kr>=i})},jo=function(t,i){return IT(t,function(a){return a-Vn>=i})},LL=function(t){if(t.length<2)return B.createTimeRanges();for(var i=[],a=1;a<t.length;a++){var r=t.end(a-1),s=t.start(a);i.push([r,s])}return B.createTimeRanges(i)},RL=function(t,i){var a=null,r=null,s=0,o=[],u=[];if(!t||!t.length||!i||!i.length)return B.createTimeRange();for(var l=t.length;l--;)o.push({time:t.start(l),type:"start"}),o.push({time:t.end(l),type:"end"});for(l=i.length;l--;)o.push({time:i.start(l),type:"start"}),o.push({time:i.end(l),type:"end"});for(o.sort(function(c,d){return c.time-d.time}),l=0;l<o.length;l++)o[l].type==="start"?(s++,s===2&&(a=o[l].time)):o[l].type==="end"&&(s--,s===1&&(r=o[l].time)),a!==null&&r!==null&&(u.push([a,r]),a=null,r=null);return B.createTimeRanges(u)},OT=function(t){var i=[];if(!t||!t.length)return"";for(var a=0;a<t.length;a++)i.push(t.start(a)+" => "+t.end(a));return i.join(", ")},ML=function(t,i,a){a===void 0&&(a=1);var r=t.length?t.end(t.length-1):0;return(r-i)/a},di=function(t){for(var i=[],a=0;a<t.length;a++)i.push({start:t.start(a),end:t.end(a)});return i},FL=function(t,i){if(t===i)return!1;if(!t&&i||!i&&t||t.length!==i.length)return!0;for(var a=0;a<t.length;a++)if(t.start(a)!==i.start(a)||t.end(a)!==i.end(a))return!0;return!1},iv=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},Eh=function(t,i){var a=0;if(!t||!t.length)return a;for(var r=0;r<t.length;r++){var s=t.start(r),o=t.end(r);if(!(i>o)){if(i>s&&i<=o){a+=o-i;continue}a+=o-s}}return a},av=B.createTimeRange,Ch=function(t,i){if(!i.preload)return i.duration;var a=0;return(i.parts||[]).forEach(function(r){a+=r.duration}),(i.preloadHints||[]).forEach(function(r){r.type==="PART"&&(a+=t.partTargetDuration)}),a},Pd=function(t){return(t.segments||[]).reduce(function(i,a,r){return a.parts?a.parts.forEach(function(s,o){i.push({duration:s.duration,segmentIndex:r,partIndex:o,part:s,segment:a})}):i.push({duration:a.duration,segmentIndex:r,partIndex:null,segment:a,part:null}),i},[])},DT=function(t){var i=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return i&&i.parts||[]},LT=function(t){var i=t.preloadSegment;if(!!i){var a=i.parts,r=i.preloadHints,s=(r||[]).reduce(function(o,u){return o+(u.type==="PART"?1:0)},0);return s+=a&&a.length?a.length:0,s}},RT=function(t,i){if(i.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;var a=DT(i).length>0;return a&&i.serverControl&&i.serverControl.partHoldBack?i.serverControl.partHoldBack:a&&i.partTargetDuration?i.partTargetDuration*3:i.serverControl&&i.serverControl.holdBack?i.serverControl.holdBack:i.targetDuration?i.targetDuration*3:0},NL=function(t,i){var a=0,r=i-t.mediaSequence,s=t.segments[r];if(s){if(typeof s.start<"u")return{result:s.start,precise:!0};if(typeof s.end<"u")return{result:s.end-s.duration,precise:!0}}for(;r--;){if(s=t.segments[r],typeof s.end<"u")return{result:a+s.end,precise:!0};if(a+=Ch(t,s),typeof s.start<"u")return{result:a+s.start,precise:!0}}return{result:a,precise:!1}},BL=function(t,i){for(var a=0,r,s=i-t.mediaSequence;s<t.segments.length;s++){if(r=t.segments[s],typeof r.start<"u")return{result:r.start-a,precise:!0};if(a+=Ch(t,r),typeof r.end<"u")return{result:r.end-a,precise:!0}}return{result:-1,precise:!1}},MT=function(t,i,a){if(typeof i>"u"&&(i=t.mediaSequence+t.segments.length),i<t.mediaSequence)return 0;var r=NL(t,i);if(r.precise)return r.result;var s=BL(t,i);return s.precise?s.result:r.result+a},FT=function(t,i,a){if(!t)return 0;if(typeof a!="number"&&(a=0),typeof i>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return k.Infinity}return MT(t,i,a)},ps=function(t){var i=t.defaultDuration,a=t.durationList,r=t.startIndex,s=t.endIndex,o=0;if(r>s){var u=[s,r];r=u[0],s=u[1]}if(r<0){for(var l=r;l<Math.min(0,s);l++)o+=i;r=0}for(var c=r;c<s;c++)o+=a[c].duration;return o},NT=function(t,i,a,r){if(!t||!t.segments)return null;if(t.endList)return FT(t);if(i===null)return null;i=i||0;var s=MT(t,t.mediaSequence+t.segments.length,i);return a&&(r=typeof r=="number"?r:RT(null,t),s-=r),Math.max(0,s)},UL=function(t,i,a){var r=!0,s=i||0,o=NT(t,i,r,a);return o===null?av():av(s,o)},jL=function(t){for(var i=t.playlist,a=t.currentTime,r=t.startingSegmentIndex,s=t.startingPartIndex,o=t.startTime,u=t.experimentalExactManifestTimings,l=a-o,c=Pd(i),d=0,p=0;p<c.length;p++){var f=c[p];if(r===f.segmentIndex&&!(typeof s=="number"&&typeof f.partIndex=="number"&&s!==f.partIndex)){d=p;break}}if(l<0){if(d>0)for(var y=d-1;y>=0;y--){var T=c[y];if(l+=T.duration,u){if(l<0)continue}else if(l+Vn<=0)continue;return{partIndex:T.partIndex,segmentIndex:T.segmentIndex,startTime:o-ps({defaultDuration:i.targetDuration,durationList:c,startIndex:d,endIndex:y})}}return{partIndex:c[0]&&c[0].partIndex||null,segmentIndex:c[0]&&c[0].segmentIndex||0,startTime:a}}if(d<0){for(var x=d;x<0;x++)if(l-=i.targetDuration,l<0)return{partIndex:c[0]&&c[0].partIndex||null,segmentIndex:c[0]&&c[0].segmentIndex||0,startTime:a};d=0}for(var S=d;S<c.length;S++){var C=c[S];if(l-=C.duration,u){if(l>0)continue}else if(l-Vn>=0)continue;return{partIndex:C.partIndex,segmentIndex:C.segmentIndex,startTime:o+ps({defaultDuration:i.targetDuration,durationList:c,startIndex:d,endIndex:S})}}return{segmentIndex:c[c.length-1].segmentIndex,partIndex:c[c.length-1].partIndex,startTime:a}},BT=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},wh=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Al=function(t){var i=BT(t);return!t.disabled&&!i},HL=function(t){return t.disabled},VL=function(t){for(var i=0;i<t.segments.length;i++)if(t.segments[i].key)return!0;return!1},UT=function(t,i){return i.attributes&&i.attributes[t]},$L=function(t,i,a,r){if(r===void 0&&(r=0),!UT("BANDWIDTH",a))return NaN;var s=t*a.attributes.BANDWIDTH;return(s-r*8)/i},Ad=function(t,i){if(t.playlists.length===1)return!0;var a=i.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(function(r){return Al(r)?(r.attributes.BANDWIDTH||0)<a:!1}).length===0},Ph=function(t,i){return!t&&!i||!t&&i||t&&!i?!1:!!(t===i||t.id&&i.id&&t.id===i.id||t.resolvedUri&&i.resolvedUri&&t.resolvedUri===i.resolvedUri||t.uri&&i.uri&&t.uri===i.uri)},sv=function(t,i){var a=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{},r=!1;for(var s in a){for(var o in a[s])if(r=i(a[s][o]),r)break;if(r)break}return!!r},Qs=function(t){if(!t||!t.playlists||!t.playlists.length){var i=sv(t,function(o){return o.playlists&&o.playlists.length||o.uri});return i}for(var a=function(u){var l=t.playlists[u],c=l.attributes&&l.attributes.CODECS;if(c&&c.split(",").every(function(p){return Ly(p)}))return"continue";var d=sv(t,function(p){return Ph(l,p)});return d?"continue":{v:!1}},r=0;r<t.playlists.length;r++){var s=a(r);if(s!=="continue"&&typeof s=="object")return s.v}return!0},tr={liveEdgeDelay:RT,duration:FT,seekable:UL,getMediaInfoForTime:jL,isEnabled:Al,isDisabled:HL,isBlacklisted:BT,isIncompatible:wh,playlistEnd:NT,isAes:VL,hasAttribute:UT,estimateSegmentRequestTime:$L,isLowestEnabledRendition:Ad,isAudioOnly:Qs,playlistMatch:Ph,segmentDurationWithParts:Ch},jT=B.log,Ah=function(t,i){return t+"-"+i},qL=function(t){var i=t.onwarn,a=t.oninfo,r=t.manifestString,s=t.customTagParsers,o=s===void 0?[]:s,u=t.customTagMappers,l=u===void 0?[]:u,c=t.experimentalLLHLS,d=new f1;i&&d.on("warn",i),a&&d.on("info",a),o.forEach(function(x){return d.addParser(x)}),l.forEach(function(x){return d.addTagMapper(x)}),d.push(r),d.end();var p=d.manifest;if(c||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(x){p.hasOwnProperty(x)&&delete p[x]}),p.segments&&p.segments.forEach(function(x){["parts","preloadHints"].forEach(function(S){x.hasOwnProperty(S)&&delete x[S]})})),!p.targetDuration){var f=10;p.segments&&p.segments.length&&(f=p.segments.reduce(function(x,S){return Math.max(x,S.duration)},0)),i&&i("manifest has no targetDuration defaulting to "+f),p.targetDuration=f}var y=DT(p);if(y.length&&!p.partTargetDuration){var T=y.reduce(function(x,S){return Math.max(x,S.duration)},0);i&&(i("manifest has no partTargetDuration defaulting to "+T),jT.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),p.partTargetDuration=T}return p},Js=function(t,i){!t.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(a){if(!!t.mediaGroups[a])for(var r in t.mediaGroups[a])for(var s in t.mediaGroups[a][r]){var o=t.mediaGroups[a][r][s];i(o,a,r,s)}})},HT=function(t){var i=t.playlist,a=t.uri,r=t.id;i.id=r,i.playlistErrors_=0,a&&(i.uri=a),i.attributes=i.attributes||{}},WL=function(t){for(var i=t.playlists.length;i--;){var a=t.playlists[i];HT({playlist:a,id:Ah(i,a.uri)}),a.resolvedUri=wr(t.uri,a.uri),t.playlists[a.id]=a,t.playlists[a.uri]=a,a.attributes.BANDWIDTH||jT.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},zL=function(t){Js(t,function(i){i.uri&&(i.resolvedUri=wr(t.uri,i.uri))})},GL=function(t,i){var a=Ah(0,i),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:k.location.href,resolvedUri:k.location.href,playlists:[{uri:i,id:a,resolvedUri:i,attributes:{}}]};return r.playlists[a]=r.playlists[0],r.playlists[i]=r.playlists[0],r},VT=function(t,i){t.uri=i;for(var a=0;a<t.playlists.length;a++)if(!t.playlists[a].uri){var r="placeholder-uri-"+a;t.playlists[a].uri=r}var s=Qs(t);Js(t,function(o,u,l,c){var d="placeholder-uri-"+u+"-"+l+"-"+c;if(!o.playlists||!o.playlists.length){if(s&&u==="AUDIO"&&!o.uri)for(var p=0;p<t.playlists.length;p++){var f=t.playlists[p];if(f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===l)return}o.playlists=[br({},o)]}o.playlists.forEach(function(y,T){var x=Ah(T,d);y.uri?y.resolvedUri=y.resolvedUri||wr(t.uri,y.uri):(y.uri=T===0?d:x,y.resolvedUri=y.uri),y.id=y.id||x,y.attributes=y.attributes||{},t.playlists[y.id]=y,t.playlists[y.uri]=y})}),WL(t),zL(t)},Du=B.mergeOptions,KL=B.EventTarget,XL=function(t,i){if(i.endList||!i.serverControl)return t;var a={};if(i.serverControl.canBlockReload){var r=i.preloadSegment,s=i.mediaSequence+i.segments.length;if(r){var o=r.parts||[],u=LT(i)-1;u>-1&&u!==o.length-1&&(a._HLS_part=u),(u>-1||o.length)&&s--}a._HLS_msn=s}if(i.serverControl&&i.serverControl.canSkipUntil&&(a._HLS_skip=i.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(a).length){var l=new k.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(c){!a.hasOwnProperty(c)||l.searchParams.set(c,a[c])}),t=l.toString()}return t},YL=function(t,i){if(!t)return i;var a=Du(t,i);if(t.preloadHints&&!i.preloadHints&&delete a.preloadHints,t.parts&&!i.parts)delete a.parts;else if(t.parts&&i.parts)for(var r=0;r<i.parts.length;r++)t.parts&&t.parts[r]&&(a.parts[r]=Du(t.parts[r],i.parts[r]));return!t.skipped&&i.skipped&&(a.skipped=!1),t.preload&&!i.preload&&(a.preload=!1),a},QL=function(t,i,a){var r=t.slice(),s=i.slice();a=a||0;for(var o=[],u,l=0;l<s.length;l++){var c=r[l+a],d=s[l];c?(u=c.map||u,o.push(YL(c,d))):(u&&!d.map&&(d.map=u),o.push(d))}return o},$T=function(t,i){!t.resolvedUri&&t.uri&&(t.resolvedUri=wr(i,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=wr(i,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=wr(i,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=wr(i,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(function(a){a.resolvedUri||(a.resolvedUri=wr(i,a.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(function(a){a.resolvedUri||(a.resolvedUri=wr(i,a.uri))})},qT=function(t){var i=t.segments||[],a=t.preloadSegment;if(a&&a.parts&&a.parts.length){if(a.preloadHints){for(var r=0;r<a.preloadHints.length;r++)if(a.preloadHints[r].type==="MAP")return i}a.duration=t.targetDuration,a.preload=!0,i.push(a)}return i},WT=function(t,i){return t===i||t.segments&&i.segments&&t.segments.length===i.segments.length&&t.endList===i.endList&&t.mediaSequence===i.mediaSequence&&t.preloadSegment===i.preloadSegment},kd=function(t,i,a){a===void 0&&(a=WT);var r=Du(t,{}),s=r.playlists[i.id];if(!s||a(s,i))return null;i.segments=qT(i);var o=Du(s,i);if(o.preloadSegment&&!i.preloadSegment&&delete o.preloadSegment,s.segments){if(i.skip){i.segments=i.segments||[];for(var u=0;u<i.skip.skippedSegments;u++)i.segments.unshift({skipped:!0})}o.segments=QL(s.segments,i.segments,i.mediaSequence-s.mediaSequence)}o.segments.forEach(function(c){$T(c,o.resolvedUri)});for(var l=0;l<r.playlists.length;l++)r.playlists[l].id===i.id&&(r.playlists[l]=o);return r.playlists[i.id]=o,r.playlists[i.uri]=o,Js(t,function(c,d,p,f){if(!!c.playlists)for(var y=0;y<c.playlists.length;y++)i.id===c.playlists[y].id&&(c.playlists[y]=o)}),r},Id=function(t,i){var a=t.segments||[],r=a[a.length-1],s=r&&r.parts&&r.parts[r.parts.length-1],o=s&&s.duration||r&&r.duration;return i&&o?o*1e3:(t.partTargetDuration||t.targetDuration||10)*500},Ki=function(n){le(t,n);function t(a,r,s){var o;if(s===void 0&&(s={}),o=n.call(this)||this,!a)throw new Error("A non-empty playlist URL or object is required");o.logger_=jr("PlaylistLoader");var u=s,l=u.withCredentials,c=l===void 0?!1:l,d=u.handleManifestRedirects,p=d===void 0?!1:d;o.src=a,o.vhs_=r,o.withCredentials=c,o.handleManifestRedirects=p;var f=r.options_;return o.customTagParsers=f&&f.customTagParsers||[],o.customTagMappers=f&&f.customTagMappers||[],o.experimentalLLHLS=f&&f.experimentalLLHLS||!1,B.browser.IE_VERSION&&(o.experimentalLLHLS=!1),o.state="HAVE_NOTHING",o.handleMediaupdatetimeout_=o.handleMediaupdatetimeout_.bind(Ce(o)),o.on("mediaupdatetimeout",o.handleMediaupdatetimeout_),o}var i=t.prototype;return i.handleMediaupdatetimeout_=function(){var r=this;if(this.state==="HAVE_METADATA"){var s=this.media(),o=wr(this.master.uri,s.uri);this.experimentalLLHLS&&(o=XL(o,s)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:o,withCredentials:this.withCredentials},function(u,l){if(!!r.request){if(u)return r.playlistRequestError(r.request,r.media(),"HAVE_METADATA");r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})}})}},i.playlistRequestError=function(r,s,o){var u=s.uri,l=s.id;this.request=null,o&&(this.state=o),this.error={playlist:this.master.playlists[l],status:r.status,message:"HLS playlist request error at URL: "+u+".",responseText:r.responseText,code:r.status>=500?4:2},this.trigger("error")},i.parseManifest_=function(r){var s=this,o=r.url,u=r.manifestString;return qL({onwarn:function(c){var d=c.message;return s.logger_("m3u8-parser warn for "+o+": "+d)},oninfo:function(c){var d=c.message;return s.logger_("m3u8-parser info for "+o+": "+d)},manifestString:u,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},i.haveMetadata=function(r){var s=r.playlistString,o=r.playlistObject,u=r.url,l=r.id;this.request=null,this.state="HAVE_METADATA";var c=o||this.parseManifest_({url:u,manifestString:s});c.lastRequest=Date.now(),HT({playlist:c,uri:u,id:l});var d=kd(this.master,c);this.targetDuration=c.partTargetDuration||c.targetDuration,this.pendingMedia_=null,d?(this.master=d,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Id(this.media(),!!d)),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),k.clearTimeout(this.mediaUpdateTimeout),k.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},i.media=function(r,s){var o=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof r=="string"){if(!this.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.master.playlists[r]}if(k.clearTimeout(this.finalRenditionTimeout),s){var u=(r.partTargetDuration||r.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=k.setTimeout(this.media.bind(this,r,!1),u);return}var l=this.state,c=!this.media_||r.id!==this.media_.id,d=this.master.playlists[r.id];if(d&&d.endList||r.endList&&r.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=r,c&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Id(r,!0)),!!c){if(this.state="SWITCHING_MEDIA",this.request){if(r.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=r,this.request=this.vhs_.xhr({uri:r.resolvedUri,withCredentials:this.withCredentials},function(p,f){if(!!o.request){if(r.lastRequest=Date.now(),r.resolvedUri=Ou(o.handleManifestRedirects,r.resolvedUri,f),p)return o.playlistRequestError(o.request,r,l);o.haveMetadata({playlistString:f.responseText,url:r.uri,id:r.id}),l==="HAVE_MASTER"?o.trigger("loadedmetadata"):o.trigger("mediachange")}})}},i.pause=function(){this.mediaUpdateTimeout&&(k.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},i.load=function(r){var s=this;this.mediaUpdateTimeout&&(k.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var o=this.media();if(r){var u=o?(o.partTargetDuration||o.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=k.setTimeout(function(){s.mediaUpdateTimeout=null,s.load()},u);return}if(!this.started){this.start();return}o&&!o.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},i.updateMediaUpdateTimeout_=function(r){var s=this;this.mediaUpdateTimeout&&(k.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=k.setTimeout(function(){s.mediaUpdateTimeout=null,s.trigger("mediaupdatetimeout"),s.updateMediaUpdateTimeout_(r)},r))},i.start=function(){var r=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=k.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){r.setupInitialPlaylist(r.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(s,o){if(!!r.request){if(r.request=null,s)return r.error={status:o.status,message:"HLS playlist request error at URL: "+r.src+".",responseText:o.responseText,code:2},r.state==="HAVE_NOTHING"&&(r.started=!1),r.trigger("error");r.src=Ou(r.handleManifestRedirects,r.src,o);var u=r.parseManifest_({manifestString:o.responseText,url:r.src});r.setupInitialPlaylist(u)}})},i.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},i.setupInitialPlaylist=function(r){if(this.state="HAVE_MASTER",r.playlists){this.master=r,VT(this.master,this.srcUri()),r.playlists.forEach(function(o){o.segments=qT(o),o.segments.forEach(function(u){$T(u,o.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var s=this.srcUri()||k.location.href;this.master=GL(r,s),this.haveMetadata({playlistObject:r,url:s,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(KL),JL=B.xhr,ZL=B.mergeOptions,Od=function(t,i,a,r){var s=t.responseType==="arraybuffer"?t.response:t.responseText;!i&&s&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=s.byteLength||s.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),a.headers&&(t.responseHeaders=a.headers),i&&i.code==="ETIMEDOUT"&&(t.timedout=!0),!i&&!t.aborted&&a.statusCode!==200&&a.statusCode!==206&&a.statusCode!==0&&(i=new Error("XHR Failed with a response of: "+(t&&(s||t.responseText)))),r(i,t)},zT=function(){var t=function i(a,r){a=ZL({timeout:45e3},a);var s=i.beforeRequest||B.Vhs.xhr.beforeRequest;if(s&&typeof s=="function"){var o=s(a);o&&(a=o)}var u=B.Vhs.xhr.original===!0?JL:B.Vhs.xhr,l=u(a,function(d,p){return Od(l,d,p,r)}),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=a.uri,l.requestTime=Date.now(),l};return t.original=!0,t},eR=function(t){var i,a=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?i=k.BigInt(t.offset)+k.BigInt(t.length)-k.BigInt(1):i=t.offset+t.length-1,"bytes="+a+"-"+i},Dd=function(t){var i={};return t.byterange&&(i.Range=eR(t.byterange)),i},tR=function(t,i){return t.start(i)+"-"+t.end(i)},rR=function(t,i){var a=t.toString(16);return"00".substring(0,2-a.length)+a+(i%2?" ":"")},nR=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},GT=function(t){var i={};return Object.keys(t).forEach(function(a){var r=t[a];My(r)?i[a]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:i[a]=r}),i},Lu=function(t){var i=t.byterange||{length:1/0,offset:0};return[i.length,i.offset,t.resolvedUri].join(",")},KT=function(t){return t.resolvedUri},XT=function(t){for(var i=Array.prototype.slice.call(t),a=16,r="",s,o,u=0;u<i.length/a;u++)s=i.slice(u*a,u*a+a).map(rR).join(""),o=i.slice(u*a,u*a+a).map(nR).join(""),r+=s+" "+o+`
`;return r},iR=function(t){var i=t.bytes;return XT(i)},aR=function(t){var i="",a;for(a=0;a<t.length;a++)i+=tR(t,a)+" ";return i},sR=Object.freeze({__proto__:null,createTransferableMessage:GT,initSegmentId:Lu,segmentKeyId:KT,hexDump:XT,tagDump:iR,textRanges:aR}),YT=.25,oR=function(t,i){if(!i.dateTimeObject)return null;var a=i.videoTimingInfo.transmuxerPrependedSeconds,r=i.videoTimingInfo.transmuxedPresentationStart,s=r+a,o=t-s;return new Date(i.dateTimeObject.getTime()+o*1e3)},uR=function(t){return t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds},lR=function(t,i){var a;try{a=new Date(t)}catch{return null}if(!i||!i.segments||i.segments.length===0)return null;var r=i.segments[0];if(a<r.dateTimeObject)return null;for(var s=0;s<i.segments.length-1;s++){r=i.segments[s];var o=i.segments[s+1].dateTimeObject;if(a<o)break}var u=i.segments[i.segments.length-1],l=u.dateTimeObject,c=u.videoTimingInfo?uR(u.videoTimingInfo):u.duration+u.duration*YT,d=new Date(l.getTime()+c*1e3);return a>d?null:(a>l&&(r=u),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:tr.duration(i,i.mediaSequence+i.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},cR=function(t,i){if(!i||!i.segments||i.segments.length===0)return null;for(var a=0,r,s=0;s<i.segments.length&&(r=i.segments[s],a=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:a+r.duration,!(t<=a));s++);var o=i.segments[i.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>a){if(t>a+o.duration*YT)return null;r=o}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:a-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},dR=function(t,i){var a,r;try{a=new Date(t),r=new Date(i)}catch{}var s=a.getTime(),o=r.getTime();return(o-s)/1e3},fR=function(t){if(!t.segments||t.segments.length===0)return!1;for(var i=0;i<t.segments.length;i++){var a=t.segments[i];if(!a.dateTimeObject)return!1}return!0},hR=function(t){var i=t.playlist,a=t.time,r=a===void 0?void 0:a,s=t.callback;if(!s)throw new Error("getProgramTime: callback must be provided");if(!i||r===void 0)return s({message:"getProgramTime: playlist and time must be provided"});var o=cR(r,i);if(!o)return s({message:"valid programTime was not found"});if(o.type==="estimate")return s({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var u={mediaSeconds:r},l=oR(r,o.segment);return l&&(u.programDateTime=l.toISOString()),s(null,u)},pR=function n(t){var i=t.programTime,a=t.playlist,r=t.retryCount,s=r===void 0?2:r,o=t.seekTo,u=t.pauseAfterSeek,l=u===void 0?!0:u,c=t.tech,d=t.callback;if(!d)throw new Error("seekToProgramTime: callback must be provided");if(typeof i>"u"||!a||!o)return d({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!a.endList&&!c.hasStarted_)return d({message:"player must be playing a live stream to start buffering"});if(!fR(a))return d({message:"programDateTime tags must be provided in the manifest "+a.resolvedUri});var p=lR(i,a);if(!p)return d({message:i+" was not found in the stream"});var f=p.segment,y=dR(f.dateTimeObject,i);if(p.type==="estimate"){if(s===0)return d({message:i+" is not buffered yet. Try again"});o(p.estimatedStart+y),c.one("seeked",function(){n({programTime:i,playlist:a,retryCount:s-1,seekTo:o,pauseAfterSeek:l,tech:c,callback:d})});return}var T=f.start+y,x=function(){return d(null,c.currentTime())};c.one("seeked",x),l&&c.pause(),o(T)},Rc=function(t,i){if(t.readyState===4)return i()},mR=function(t,i,a){var r=[],s,o=!1,u=function(f,y,T,x){return y.abort(),o=!0,a(f,y,T,x)},l=function(f,y){if(!o){if(f)return u(f,y,"",r);var T=y.responseText.substring(r&&r.byteLength||0,y.responseText.length);if(r=E1(r,Fy(T,!0)),s=s||es(r),r.length<10||s&&r.length<s+2)return Rc(y,function(){return u(f,y,"",r)});var x=qf(r);return x==="ts"&&r.length<188?Rc(y,function(){return u(f,y,"",r)}):!x&&r.length<376?Rc(y,function(){return u(f,y,"",r)}):u(null,y,x,r)}},c={uri:t,beforeSend:function(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function(y){return y.total,y.loaded,Od(f,null,{statusCode:f.status},l)})}},d=i(c,function(p,f){return Od(d,p,f,l)});return d},gR=B.EventTarget,QT=B.mergeOptions,ov=function(t,i){if(!WT(t,i)||t.sidx&&i.sidx&&(t.sidx.offset!==i.sidx.offset||t.sidx.length!==i.sidx.length))return!1;if(!t.sidx&&i.sidx||t.sidx&&!i.sidx||t.segments&&!i.segments||!t.segments&&i.segments)return!1;if(!t.segments&&!i.segments)return!0;for(var a=0;a<t.segments.length;a++){var r=t.segments[a],s=i.segments[a];if(r.uri!==s.uri)return!1;if(!(!r.byterange&&!s.byterange)){var o=r.byterange,u=s.byterange;if(o&&!u||!o&&u||o.offset!==u.offset||o.length!==u.length)return!1}}return!0},vR=function(t){var i=t.masterXml,a=t.srcUrl,r=t.clientOffset,s=t.sidxMapping,o=t.previousManifest,u=BO(i,{manifestUri:a,clientOffset:r,sidxMapping:s,previousManifest:o});return VT(u,a),u},yR=function(t,i,a){for(var r=!0,s=QT(t,{duration:i.duration,minimumUpdatePeriod:i.minimumUpdatePeriod,timelineStarts:i.timelineStarts}),o=0;o<i.playlists.length;o++){var u=i.playlists[o];if(u.sidx){var l=ml(u.sidx);a&&a[l]&&a[l].sidx&&jf(u,a[l].sidx,u.sidx.resolvedUri)}var c=kd(s,u,ov);c&&(s=c,r=!1)}return Js(i,function(d,p,f,y){if(d.playlists&&d.playlists.length){var T=d.playlists[0].id,x=kd(s,d.playlists[0],ov);x&&(s=x,s.mediaGroups[p][f][y].playlists[0]=s.playlists[T],r=!1)}}),i.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(r=!1),r?null:s},_R=function(t,i){var a=Boolean(!t.map&&!i.map),r=a||Boolean(t.map&&i.map&&t.map.byterange.offset===i.map.byterange.offset&&t.map.byterange.length===i.map.byterange.length);return r&&t.uri===i.uri&&t.byterange.offset===i.byterange.offset&&t.byterange.length===i.byterange.length},uv=function(t,i){var a={};for(var r in t){var s=t[r],o=s.sidx;if(o){var u=ml(o);if(!i[u])break;var l=i[u].sidxInfo;_R(l,o)&&(a[u]=i[u])}}return a},TR=function(t,i){var a=uv(t.playlists,i),r=a;return Js(t,function(s,o,u,l){if(s.playlists&&s.playlists.length){var c=s.playlists;r=QT(r,uv(c,i))}}),r},Ld=function(n){le(t,n);function t(a,r,s,o){var u;s===void 0&&(s={}),u=n.call(this)||this,u.masterPlaylistLoader_=o||Ce(u),o||(u.isMaster_=!0);var l=s,c=l.withCredentials,d=c===void 0?!1:c,p=l.handleManifestRedirects,f=p===void 0?!1:p;if(u.vhs_=r,u.withCredentials=d,u.handleManifestRedirects=f,!a)throw new Error("A non-empty playlist URL or object is required");return u.on("minimumUpdatePeriod",function(){u.refreshXml_()}),u.on("mediaupdatetimeout",function(){u.refreshMedia_(u.media().id)}),u.state="HAVE_NOTHING",u.loadedPlaylists_={},u.logger_=jr("DashPlaylistLoader"),u.isMaster_?(u.masterPlaylistLoader_.srcUrl=a,u.masterPlaylistLoader_.sidxMapping_={}):u.childPlaylist_=a,u}var i=t.prototype;return i.requestErrored_=function(r,s,o){if(!this.request)return!0;if(this.request=null,r)return this.error=typeof r=="object"&&!(r instanceof Error)?r:{status:s.status,message:"DASH request error at URL: "+s.uri,response:s.response,code:2},o&&(this.state=o),this.trigger("error"),!0},i.addSidxSegments_=function(r,s,o){var u=this,l=r.sidx&&ml(r.sidx);if(!r.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=k.setTimeout(function(){return o(!1)},0);return}var c=Ou(this.handleManifestRedirects,r.sidx.resolvedUri),d=function(f,y){if(!u.requestErrored_(f,y,s)){var T=u.masterPlaylistLoader_.sidxMapping_,x;try{x=$O(be(y.response).subarray(8))}catch(S){u.requestErrored_(S,y,s);return}return T[l]={sidxInfo:r.sidx,sidx:x},jf(r,x,r.sidx.resolvedUri),o(!0)}};this.request=mR(c,this.vhs_.xhr,function(p,f,y,T){if(p)return d(p,f);if(!y||y!=="mp4")return d({status:f.status,message:"Unsupported "+(y||"unknown")+" container type for sidx segment at URL: "+c,response:"",playlist:r,internal:!0,blacklistDuration:1/0,code:2},f);var x=r.sidx.byterange,S=x.offset,C=x.length;if(T.length>=C+S)return d(p,{response:T.subarray(S,S+C),status:f.status,uri:f.uri});u.request=u.vhs_.xhr({uri:c,responseType:"arraybuffer",headers:Dd({byterange:r.sidx.byterange})},d)})},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},k.clearTimeout(this.minimumUpdatePeriodTimeout_),k.clearTimeout(this.mediaRequest_),k.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},i.media=function(r){var s=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var o=this.state;if(typeof r=="string"){if(!this.masterPlaylistLoader_.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.masterPlaylistLoader_.master.playlists[r]}var u=!this.media_||r.id!==this.media_.id;if(u&&this.loadedPlaylists_[r.id]&&this.loadedPlaylists_[r.id].endList){this.state="HAVE_METADATA",this.media_=r,u&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!u||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(r,o,function(l){s.haveMetadata({startingState:o,playlist:r})}))},i.haveMetadata=function(r){var s=r.startingState,o=r.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[o.id]=o,this.mediaRequest_=null,this.refreshMedia_(o.id),s==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),k.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(k.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},i.load=function(r){var s=this;k.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var o=this.media();if(r){var u=o?o.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=k.setTimeout(function(){return s.load()},u);return}if(!this.started){this.start();return}o&&!o.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},i.start=function(){var r=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=k.setTimeout(function(){return r.haveMaster_()},0);return}this.requestMaster_(function(s,o){r.haveMaster_(),!r.hasPendingRequest()&&!r.media_&&r.media(r.masterPlaylistLoader_.master.playlists[0])})},i.requestMaster_=function(r){var s=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(o,u){if(s.requestErrored_(o,u)){s.state==="HAVE_NOTHING"&&(s.started=!1);return}var l=u.responseText!==s.masterPlaylistLoader_.masterXml_;if(s.masterPlaylistLoader_.masterXml_=u.responseText,u.responseHeaders&&u.responseHeaders.date?s.masterLoaded_=Date.parse(u.responseHeaders.date):s.masterLoaded_=Date.now(),s.masterPlaylistLoader_.srcUrl=Ou(s.handleManifestRedirects,s.masterPlaylistLoader_.srcUrl,u),l){s.handleMaster_(),s.syncClientServerClock_(function(){return r(u,l)});return}return r(u,l)})},i.syncClientServerClock_=function(r){var s=this,o=UO(this.masterPlaylistLoader_.masterXml_);if(o===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),r();if(o.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=o.value-Date.now(),r();this.request=this.vhs_.xhr({uri:wr(this.masterPlaylistLoader_.srcUrl,o.value),method:o.method,withCredentials:this.withCredentials},function(u,l){if(!!s.request){if(u)return s.masterPlaylistLoader_.clientOffset_=s.masterLoaded_-Date.now(),r();var c;o.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?c=s.masterLoaded_:c=Date.parse(l.responseHeaders.date):c=Date.parse(l.responseText),s.masterPlaylistLoader_.clientOffset_=c-Date.now(),r()}})},i.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var r=this.masterPlaylistLoader_.master,s=vR({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:r});r&&(s=yR(r,s,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=s||r;var o=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return o&&o!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=o),(!r||s&&s.minimumUpdatePeriod!==r.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(s)},i.updateMinimumUpdatePeriodTimeout_=function(){var r=this.masterPlaylistLoader_;r.createMupOnMedia_&&(r.off("loadedmetadata",r.createMupOnMedia_),r.createMupOnMedia_=null),r.minimumUpdatePeriodTimeout_&&(k.clearTimeout(r.minimumUpdatePeriodTimeout_),r.minimumUpdatePeriodTimeout_=null);var s=r.master&&r.master.minimumUpdatePeriod;if(s===0&&(r.media()?s=r.media().targetDuration*1e3:(r.createMupOnMedia_=r.updateMinimumUpdatePeriodTimeout_,r.one("loadedmetadata",r.createMupOnMedia_))),typeof s!="number"||s<=0){s<0&&this.logger_("found invalid minimumUpdatePeriod of "+s+", not setting a timeout");return}this.createMUPTimeout_(s)},i.createMUPTimeout_=function(r){var s=this.masterPlaylistLoader_;s.minimumUpdatePeriodTimeout_=k.setTimeout(function(){s.minimumUpdatePeriodTimeout_=null,s.trigger("minimumUpdatePeriod"),s.createMUPTimeout_(r)},r)},i.refreshXml_=function(){var r=this;this.requestMaster_(function(s,o){!o||(r.media_&&(r.media_=r.masterPlaylistLoader_.master.playlists[r.media_.id]),r.masterPlaylistLoader_.sidxMapping_=TR(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.sidxMapping_),r.addSidxSegments_(r.media(),r.state,function(u){r.refreshMedia_(r.media().id)}))})},i.refreshMedia_=function(r){var s=this;if(!r)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var o=this.masterPlaylistLoader_.master.playlists,u=!this.media_||this.media_!==o[r];if(u?this.media_=o[r]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function c(){s.media().endList||(s.mediaUpdateTimeout=k.setTimeout(function(){s.trigger("mediaupdatetimeout"),c()},Id(s.media(),Boolean(u))))};l()}this.trigger("loadedplaylist")},t}(gR),vt={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},bR=function(t){for(var i=new Uint8Array(new ArrayBuffer(t.length)),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i.buffer},JT=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},xR=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{var i=new BlobBuilder;return i.append(t),URL.createObjectURL(i.getBlob())}},ZT=function(t){return function(){var i=xR(t),a=JT(new Worker(i));a.objURL=i;var r=a.terminate;return a.on=a.addEventListener,a.off=a.removeEventListener,a.terminate=function(){return URL.revokeObjectURL(i),r.call(this)},a}},eb=function(t){return"var browserWorkerPolyFill = "+JT.toString()+`;
browserWorkerPolyFill(self);
`+t},tb=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},SR=eb(tb(function(){var n=function(){this.init=function(){var h={};this.on=function(g,m){h[g]||(h[g]=[]),h[g]=h[g].concat(m)},this.off=function(g,m){var v;return h[g]?(v=h[g].indexOf(m),h[g]=h[g].slice(),h[g].splice(v,1),v>-1):!1},this.trigger=function(g){var m,v,_,b;if(m=h[g],!!m)if(arguments.length===2)for(_=m.length,v=0;v<_;++v)m[v].call(this,arguments[1]);else{for(b=[],v=arguments.length,v=1;v<arguments.length;++v)b.push(arguments[v]);for(_=m.length,v=0;v<_;++v)m[v].apply(this,b)}},this.dispose=function(){h={}}}};n.prototype.pipe=function(E){return this.on("data",function(h){E.push(h)}),this.on("done",function(h){E.flush(h)}),this.on("partialdone",function(h){E.partialFlush(h)}),this.on("endedtimeline",function(h){E.endTimeline(h)}),this.on("reset",function(h){E.reset(h)}),E},n.prototype.push=function(E){this.trigger("data",E)},n.prototype.flush=function(E){this.trigger("done",E)},n.prototype.partialFlush=function(E){this.trigger("partialdone",E)},n.prototype.endTimeline=function(E){this.trigger("endedtimeline",E)},n.prototype.reset=function(E){this.trigger("reset",E)};var t=n,i=Math.pow(2,32),a=function(h){var g=new DataView(h.buffer,h.byteOffset,h.byteLength),m;return g.getBigUint64?(m=g.getBigUint64(0),m<Number.MAX_SAFE_INTEGER?Number(m):m):g.getUint32(0)*i+g.getUint32(4)},r={getUint64:a,MAX_UINT32:i},s=r.MAX_UINT32,o,u,l,c,d,p,f,y,T,x,S,C,A,j,R,O,W,q,U,H,V,X,$,ee,pe,xe,de,ge,Te,Be,Re,Lt,Qe,tt,Rt,M;(function(){var E;if($={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(E in $)$.hasOwnProperty(E)&&($[E]=[E.charCodeAt(0),E.charCodeAt(1),E.charCodeAt(2),E.charCodeAt(3)]);ee=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),xe=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),pe=new Uint8Array([0,0,0,1]),de=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ge=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Te={video:de,audio:ge},Lt=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Re=new Uint8Array([0,0,0,0,0,0,0,0]),Qe=new Uint8Array([0,0,0,0,0,0,0,0]),tt=Qe,Rt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),M=Qe,Be=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(h){var g=[],m=0,v,_,b;for(v=1;v<arguments.length;v++)g.push(arguments[v]);for(v=g.length;v--;)m+=g[v].byteLength;for(_=new Uint8Array(m+8),b=new DataView(_.buffer,_.byteOffset,_.byteLength),b.setUint32(0,_.byteLength),_.set(h,4),v=0,m=8;v<g.length;v++)_.set(g[v],m),m+=g[v].byteLength;return _},u=function(){return o($.dinf,o($.dref,Lt))},l=function(h){return o($.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,h.audioobjecttype<<3|h.samplingfrequencyindex>>>1,h.samplingfrequencyindex<<7|h.channelcount<<3,6,1,2]))},c=function(){return o($.ftyp,ee,pe,ee,xe)},O=function(h){return o($.hdlr,Te[h])},d=function(h){return o($.mdat,h)},R=function(h){var g=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,h.duration>>>24&255,h.duration>>>16&255,h.duration>>>8&255,h.duration&255,85,196,0,0]);return h.samplerate&&(g[12]=h.samplerate>>>24&255,g[13]=h.samplerate>>>16&255,g[14]=h.samplerate>>>8&255,g[15]=h.samplerate&255),o($.mdhd,g)},j=function(h){return o($.mdia,R(h),O(h.type),f(h))},p=function(h){return o($.mfhd,new Uint8Array([0,0,0,0,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255]))},f=function(h){return o($.minf,h.type==="video"?o($.vmhd,Be):o($.smhd,Re),u(),q(h))},y=function(h,g){for(var m=[],v=g.length;v--;)m[v]=H(g[v]);return o.apply(null,[$.moof,p(h)].concat(m))},T=function(h){for(var g=h.length,m=[];g--;)m[g]=C(h[g]);return o.apply(null,[$.moov,S(4294967295)].concat(m).concat(x(h)))},x=function(h){for(var g=h.length,m=[];g--;)m[g]=V(h[g]);return o.apply(null,[$.mvex].concat(m))},S=function(h){var g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o($.mvhd,g)},W=function(h){var g=h.samples||[],m=new Uint8Array(4+g.length),v,_;for(_=0;_<g.length;_++)v=g[_].flags,m[_+4]=v.dependsOn<<4|v.isDependedOn<<2|v.hasRedundancy;return o($.sdtp,m)},q=function(h){return o($.stbl,U(h),o($.stts,M),o($.stsc,tt),o($.stsz,Rt),o($.stco,Qe))},function(){var E,h;U=function(m){return o($.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),m.type==="video"?E(m):h(m))},E=function(m){var v=m.sps||[],_=m.pps||[],b=[],w=[],P,L;for(P=0;P<v.length;P++)b.push((v[P].byteLength&65280)>>>8),b.push(v[P].byteLength&255),b=b.concat(Array.prototype.slice.call(v[P]));for(P=0;P<_.length;P++)w.push((_[P].byteLength&65280)>>>8),w.push(_[P].byteLength&255),w=w.concat(Array.prototype.slice.call(_[P]));if(L=[$.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(m.width&65280)>>8,m.width&255,(m.height&65280)>>8,m.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o($.avcC,new Uint8Array([1,m.profileIdc,m.profileCompatibility,m.levelIdc,255].concat([v.length],b,[_.length],w))),o($.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],m.sarRatio){var D=m.sarRatio[0],F=m.sarRatio[1];L.push(o($.pasp,new Uint8Array([(D&4278190080)>>24,(D&16711680)>>16,(D&65280)>>8,D&255,(F&4278190080)>>24,(F&16711680)>>16,(F&65280)>>8,F&255])))}return o.apply(null,L)},h=function(m){return o($.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(m.channelcount&65280)>>8,m.channelcount&255,(m.samplesize&65280)>>8,m.samplesize&255,0,0,0,0,(m.samplerate&65280)>>8,m.samplerate&255,0,0]),l(m))}}(),A=function(h){var g=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,0,(h.duration&4278190080)>>24,(h.duration&16711680)>>16,(h.duration&65280)>>8,h.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(h.width&65280)>>8,h.width&255,0,0,(h.height&65280)>>8,h.height&255,0,0]);return o($.tkhd,g)},H=function(h){var g,m,v,_,b,w,P;return g=o($.tfhd,new Uint8Array([0,0,0,58,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),w=Math.floor(h.baseMediaDecodeTime/s),P=Math.floor(h.baseMediaDecodeTime%s),m=o($.tfdt,new Uint8Array([1,0,0,0,w>>>24&255,w>>>16&255,w>>>8&255,w&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255])),b=32+20+8+16+8+8,h.type==="audio"?(v=X(h,b),o($.traf,g,m,v)):(_=W(h),v=X(h,_.length+b),o($.traf,g,m,v,_))},C=function(h){return h.duration=h.duration||4294967295,o($.trak,A(h),j(h))},V=function(h){var g=new Uint8Array([0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return h.type!=="video"&&(g[g.length-1]=0),o($.trex,g)},function(){var E,h,g;g=function(v,_){var b=0,w=0,P=0,L=0;return v.length&&(v[0].duration!==void 0&&(b=1),v[0].size!==void 0&&(w=2),v[0].flags!==void 0&&(P=4),v[0].compositionTimeOffset!==void 0&&(L=8)),[0,0,b|w|P|L,1,(v.length&4278190080)>>>24,(v.length&16711680)>>>16,(v.length&65280)>>>8,v.length&255,(_&4278190080)>>>24,(_&16711680)>>>16,(_&65280)>>>8,_&255]},h=function(v,_){var b,w,P,L,D,F;for(L=v.samples||[],_+=8+12+16*L.length,P=g(L,_),w=new Uint8Array(P.length+L.length*16),w.set(P),b=P.length,F=0;F<L.length;F++)D=L[F],w[b++]=(D.duration&4278190080)>>>24,w[b++]=(D.duration&16711680)>>>16,w[b++]=(D.duration&65280)>>>8,w[b++]=D.duration&255,w[b++]=(D.size&4278190080)>>>24,w[b++]=(D.size&16711680)>>>16,w[b++]=(D.size&65280)>>>8,w[b++]=D.size&255,w[b++]=D.flags.isLeading<<2|D.flags.dependsOn,w[b++]=D.flags.isDependedOn<<6|D.flags.hasRedundancy<<4|D.flags.paddingValue<<1|D.flags.isNonSyncSample,w[b++]=D.flags.degradationPriority&240<<8,w[b++]=D.flags.degradationPriority&15,w[b++]=(D.compositionTimeOffset&4278190080)>>>24,w[b++]=(D.compositionTimeOffset&16711680)>>>16,w[b++]=(D.compositionTimeOffset&65280)>>>8,w[b++]=D.compositionTimeOffset&255;return o($.trun,w)},E=function(v,_){var b,w,P,L,D,F;for(L=v.samples||[],_+=8+12+8*L.length,P=g(L,_),b=new Uint8Array(P.length+L.length*8),b.set(P),w=P.length,F=0;F<L.length;F++)D=L[F],b[w++]=(D.duration&4278190080)>>>24,b[w++]=(D.duration&16711680)>>>16,b[w++]=(D.duration&65280)>>>8,b[w++]=D.duration&255,b[w++]=(D.size&4278190080)>>>24,b[w++]=(D.size&16711680)>>>16,b[w++]=(D.size&65280)>>>8,b[w++]=D.size&255;return o($.trun,b)},X=function(v,_){return v.type==="audio"?E(v,_):h(v,_)}}();var re={ftyp:c,mdat:d,moof:y,moov:T,initSegment:function(h){var g=c(),m=T(h),v;return v=new Uint8Array(g.byteLength+m.byteLength),v.set(g),v.set(m,g.byteLength),v}},Y=function(h){var g,m,v=[],_=[];for(_.byteLength=0,_.nalCount=0,_.duration=0,v.byteLength=0,g=0;g<h.length;g++)m=h[g],m.nalUnitType==="access_unit_delimiter_rbsp"?(v.length&&(v.duration=m.dts-v.dts,_.byteLength+=v.byteLength,_.nalCount+=v.length,_.duration+=v.duration,_.push(v)),v=[m],v.byteLength=m.data.byteLength,v.pts=m.pts,v.dts=m.dts):(m.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(v.keyFrame=!0),v.duration=m.dts-v.dts,v.byteLength+=m.data.byteLength,v.push(m));return _.length&&(!v.duration||v.duration<=0)&&(v.duration=_[_.length-1].duration),_.byteLength+=v.byteLength,_.nalCount+=v.length,_.duration+=v.duration,_.push(v),_},fe=function(h){var g,m,v=[],_=[];for(v.byteLength=0,v.nalCount=0,v.duration=0,v.pts=h[0].pts,v.dts=h[0].dts,_.byteLength=0,_.nalCount=0,_.duration=0,_.pts=h[0].pts,_.dts=h[0].dts,g=0;g<h.length;g++)m=h[g],m.keyFrame?(v.length&&(_.push(v),_.byteLength+=v.byteLength,_.nalCount+=v.nalCount,_.duration+=v.duration),v=[m],v.nalCount=m.length,v.byteLength=m.byteLength,v.pts=m.pts,v.dts=m.dts,v.duration=m.duration):(v.duration+=m.duration,v.nalCount+=m.length,v.byteLength+=m.byteLength,v.push(m));return _.length&&v.duration<=0&&(v.duration=_[_.length-1].duration),_.byteLength+=v.byteLength,_.nalCount+=v.nalCount,_.duration+=v.duration,_.push(v),_},we=function(h){var g;return!h[0][0].keyFrame&&h.length>1&&(g=h.shift(),h.byteLength-=g.byteLength,h.nalCount-=g.nalCount,h[0][0].dts=g.dts,h[0][0].pts=g.pts,h[0][0].duration+=g.duration),h},We=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Oe=function(h,g){var m=We();return m.dataOffset=g,m.compositionTimeOffset=h.pts-h.dts,m.duration=h.duration,m.size=4*h.length,m.size+=h.byteLength,h.keyFrame&&(m.flags.dependsOn=2,m.flags.isNonSyncSample=0),m},Pe=function(h,g){var m,v,_,b,w,P=g||0,L=[];for(m=0;m<h.length;m++)for(b=h[m],v=0;v<b.length;v++)w=b[v],_=Oe(w,P),P+=_.size,L.push(_);return L},I=function(h){var g,m,v,_,b,w,P=0,L=h.byteLength,D=h.nalCount,F=L+4*D,G=new Uint8Array(F),ue=new DataView(G.buffer);for(g=0;g<h.length;g++)for(_=h[g],m=0;m<_.length;m++)for(b=_[m],v=0;v<b.length;v++)w=b[v],ue.setUint32(P,w.data.byteLength),P+=4,G.set(w.data,P),P+=w.data.byteLength;return G},N=function(h,g){var m,v=g||0,_=[];return m=Oe(h,v),_.push(m),_},z=function(h){var g,m,v=0,_=h.byteLength,b=h.length,w=_+4*b,P=new Uint8Array(w),L=new DataView(P.buffer);for(g=0;g<h.length;g++)m=h[g],L.setUint32(v,m.data.byteLength),v+=4,P.set(m.data,v),v+=m.data.byteLength;return P},J={groupNalsIntoFrames:Y,groupFramesIntoGops:fe,extendFirstKeyFrame:we,generateSampleTable:Pe,concatenateNalData:I,generateSampleTableForFrame:N,concatenateNalDataForFrame:z},Q=[33,16,5,32,164,27],se=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],te=function(h){for(var g=[];h--;)g.push(0);return g},oe=function(h){return Object.keys(h).reduce(function(g,m){return g[m]=new Uint8Array(h[m].reduce(function(v,_){return v.concat(_)},[])),g},{})},ce,ne=function(){if(!ce){var h={96e3:[Q,[227,64],te(154),[56]],88200:[Q,[231],te(170),[56]],64e3:[Q,[248,192],te(240),[56]],48e3:[Q,[255,192],te(268),[55,148,128],te(54),[112]],44100:[Q,[255,192],te(268),[55,163,128],te(84),[112]],32e3:[Q,[255,192],te(268),[55,234],te(226),[112]],24e3:[Q,[255,192],te(268),[55,255,128],te(268),[111,112],te(126),[224]],16e3:[Q,[255,192],te(268),[55,255,128],te(268),[111,255],te(269),[223,108],te(195),[1,192]],12e3:[se,te(268),[3,127,248],te(268),[6,255,240],te(268),[13,255,224],te(268),[27,253,128],te(259),[56]],11025:[se,te(268),[3,127,248],te(268),[6,255,240],te(268),[13,255,224],te(268),[27,255,192],te(268),[55,175,128],te(108),[112]],8e3:[se,te(268),[3,121,16],te(47),[7]]};ce=oe(h)}return ce},ye=9e4,ve,_e,Ee,Me,je,He,ze;ve=function(h){return h*ye},_e=function(h,g){return h*g},Ee=function(h){return h/ye},Me=function(h,g){return h/g},je=function(h,g){return ve(Me(h,g))},He=function(h,g){return _e(Ee(h),g)},ze=function(h,g,m){return Ee(m?h:h-g)};var ke={ONE_SECOND_IN_TS:ye,secondsToVideoTs:ve,secondsToAudioTs:_e,videoTsToSeconds:Ee,audioTsToSeconds:Me,audioTsToVideoTs:je,videoTsToAudioTs:He,metadataTsToSeconds:ze},Cn=function(h){var g,m,v=0;for(g=0;g<h.length;g++)m=h[g],v+=m.data.byteLength;return v},Zs=function(h,g,m,v){var _,b=0,w=0,P=0,L=0,D,F,G;if(!!g.length&&(_=ke.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),b=Math.ceil(ke.ONE_SECOND_IN_TS/(h.samplerate/1024)),m&&v&&(w=_-Math.max(m,v),P=Math.floor(w/b),L=P*b),!(P<1||L>ke.ONE_SECOND_IN_TS/2))){for(D=ne()[h.samplerate],D||(D=g[0].data),F=0;F<P;F++)G=g[0],g.splice(0,0,{data:D,dts:G.dts-b,pts:G.pts-b});return h.baseMediaDecodeTime-=Math.floor(ke.videoTsToAudioTs(L,h.samplerate)),L}},zn=function(h,g,m){return g.minSegmentDts>=m?h:(g.minSegmentDts=1/0,h.filter(function(v){return v.dts>=m?(g.minSegmentDts=Math.min(g.minSegmentDts,v.dts),g.minSegmentPts=g.minSegmentDts,!0):!1}))},eo=function(h){var g,m,v=[];for(g=0;g<h.length;g++)m=h[g],v.push({size:m.data.byteLength,duration:1024});return v},Ut=function(h){var g,m,v=0,_=new Uint8Array(Cn(h));for(g=0;g<h.length;g++)m=h[g],_.set(m.data,v),v+=m.data.byteLength;return _},jt={prefixWithSilence:Zs,trimAdtsFramesByEarliestDts:zn,generateSampleTable:eo,concatenateFrameData:Ut},to=ke.ONE_SECOND_IN_TS,Sb=function(h,g){typeof g.pts=="number"&&(h.timelineStartInfo.pts===void 0&&(h.timelineStartInfo.pts=g.pts),h.minSegmentPts===void 0?h.minSegmentPts=g.pts:h.minSegmentPts=Math.min(h.minSegmentPts,g.pts),h.maxSegmentPts===void 0?h.maxSegmentPts=g.pts:h.maxSegmentPts=Math.max(h.maxSegmentPts,g.pts)),typeof g.dts=="number"&&(h.timelineStartInfo.dts===void 0&&(h.timelineStartInfo.dts=g.dts),h.minSegmentDts===void 0?h.minSegmentDts=g.dts:h.minSegmentDts=Math.min(h.minSegmentDts,g.dts),h.maxSegmentDts===void 0?h.maxSegmentDts=g.dts:h.maxSegmentDts=Math.max(h.maxSegmentDts,g.dts))},Eb=function(h){delete h.minSegmentDts,delete h.maxSegmentDts,delete h.minSegmentPts,delete h.maxSegmentPts},Cb=function(h,g){var m,v,_=h.minSegmentDts;return g||(_-=h.timelineStartInfo.dts),m=h.timelineStartInfo.baseMediaDecodeTime,m+=_,m=Math.max(0,m),h.type==="audio"&&(v=h.samplerate/to,m*=v,m=Math.floor(m)),m},xr={clearDtsInfo:Eb,calculateTrackBaseMediaDecodeTime:Cb,collectDtsInfo:Sb},Mh=4,wb=128,Pb=function(h){for(var g=0,m={payloadType:-1,payloadSize:0},v=0,_=0;g<h.byteLength&&h[g]!==wb;){for(;h[g]===255;)v+=255,g++;for(v+=h[g++];h[g]===255;)_+=255,g++;if(_+=h[g++],!m.payload&&v===Mh){var b=String.fromCharCode(h[g+3],h[g+4],h[g+5],h[g+6]);if(b==="GA94"){m.payloadType=v,m.payloadSize=_,m.payload=h.subarray(g,g+_);break}else m.payload=void 0}g+=_,v=0,_=0}return m},Ab=function(h){return h.payload[0]!==181||(h.payload[1]<<8|h.payload[2])!==49||String.fromCharCode(h.payload[3],h.payload[4],h.payload[5],h.payload[6])!=="GA94"||h.payload[7]!==3?null:h.payload.subarray(8,h.payload.length-1)},kb=function(h,g){var m=[],v,_,b,w;if(!(g[0]&64))return m;for(_=g[0]&31,v=0;v<_;v++)b=v*3,w={type:g[b+2]&3,pts:h},g[b+2]&4&&(w.ccData=g[b+3]<<8|g[b+4],m.push(w));return m},Ib=function(h){for(var g=h.byteLength,m=[],v=1,_,b;v<g-2;)h[v]===0&&h[v+1]===0&&h[v+2]===3?(m.push(v+2),v+=2):v++;if(m.length===0)return h;_=g-m.length,b=new Uint8Array(_);var w=0;for(v=0;v<_;w++,v++)w===m[0]&&(w++,m.shift()),b[v]=h[w];return b},ka={parseSei:Pb,parseUserData:Ab,parseCaptionPackets:kb,discardEmulationPreventionBytes:Ib,USER_DATA_REGISTERED_ITU_T_T35:Mh},sr=function E(h){h=h||{},E.prototype.init.call(this),this.parse708captions_=typeof h.parse708captions=="boolean"?h.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new nt(0,0),new nt(0,1),new nt(1,0),new nt(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ye({captionServices:h.captionServices})),this.reset(),this.ccStreams_.forEach(function(g){g.on("data",this.trigger.bind(this,"data")),g.on("partialdone",this.trigger.bind(this,"partialdone")),g.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};sr.prototype=new t,sr.prototype.push=function(E){var h,g,m;if(E.nalUnitType==="sei_rbsp"&&(h=ka.parseSei(E.escapedRBSP),!!h.payload&&h.payloadType===ka.USER_DATA_REGISTERED_ITU_T_T35&&(g=ka.parseUserData(h),!!g))){if(E.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(E.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}m=ka.parseCaptionPackets(E.pts,g),this.captionPackets_=this.captionPackets_.concat(m),this.latestDts_!==E.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=E.dts}},sr.prototype.flushCCStreams=function(E){this.ccStreams_.forEach(function(h){return E==="flush"?h.flush():h.partialFlush()},this)},sr.prototype.flushStream=function(E){if(!this.captionPackets_.length){this.flushCCStreams(E);return}this.captionPackets_.forEach(function(h,g){h.presortIndex=g}),this.captionPackets_.sort(function(h,g){return h.pts===g.pts?h.presortIndex-g.presortIndex:h.pts-g.pts}),this.captionPackets_.forEach(function(h){h.type<2?this.dispatchCea608Packet(h):this.dispatchCea708Packet(h)},this),this.captionPackets_.length=0,this.flushCCStreams(E)},sr.prototype.flush=function(){return this.flushStream("flush")},sr.prototype.partialFlush=function(){return this.flushStream("partialFlush")},sr.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(E){E.reset()})},sr.prototype.dispatchCea608Packet=function(E){this.setsTextOrXDSActive(E)?this.activeCea608Channel_[E.type]=null:this.setsChannel1Active(E)?this.activeCea608Channel_[E.type]=0:this.setsChannel2Active(E)&&(this.activeCea608Channel_[E.type]=1),this.activeCea608Channel_[E.type]!==null&&this.ccStreams_[(E.type<<1)+this.activeCea608Channel_[E.type]].push(E)},sr.prototype.setsChannel1Active=function(E){return(E.ccData&30720)===4096},sr.prototype.setsChannel2Active=function(E){return(E.ccData&30720)===6144},sr.prototype.setsTextOrXDSActive=function(E){return(E.ccData&28928)===256||(E.ccData&30974)===4138||(E.ccData&30974)===6186},sr.prototype.dispatchCea708Packet=function(E){this.parse708captions_&&this.cc708Stream_.push(E)};var Ob={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Db=function(h){var g=Ob[h]||h;return h&4096&&h===g?"":String.fromCharCode(g)},ro=function(h){return 32<=h&&h<=127||160<=h&&h<=255},en=function(h){this.windowNum=h,this.reset()};en.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},en.prototype.getText=function(){return this.rows.join(`
`)},en.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},en.prototype.newLine=function(E){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(E),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},en.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},en.prototype.addText=function(E){this.rows[this.rowIdx]+=E},en.prototype.backspace=function(){if(!this.isEmpty()){var E=this.rows[this.rowIdx];this.rows[this.rowIdx]=E.substr(0,E.length-1)}};var no=function(h,g,m){this.serviceNum=h,this.text="",this.currentWindow=new en(-1),this.windows=[],this.stream=m,typeof g=="string"&&this.createTextDecoder(g)};no.prototype.init=function(E,h){this.startPts=E;for(var g=0;g<8;g++)this.windows[g]=new en(g),typeof h=="function"&&(this.windows[g].beforeRowOverflow=h)},no.prototype.setCurrentWindow=function(E){this.currentWindow=this.windows[E]},no.prototype.createTextDecoder=function(E){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(E)}catch(h){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+E+" encoding. "+h})}};var Ye=function E(h){h=h||{},E.prototype.init.call(this);var g=this,m=h.captionServices||{},v={},_;Object.keys(m).forEach(function(b){_=m[b],/^SERVICE/.test(b)&&(v[b]=_.encoding)}),this.serviceEncodings=v,this.current708Packet=null,this.services={},this.push=function(b){b.type===3?(g.new708Packet(),g.add708Bytes(b)):(g.current708Packet===null&&g.new708Packet(),g.add708Bytes(b))}};Ye.prototype=new t,Ye.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ye.prototype.add708Bytes=function(E){var h=E.ccData,g=h>>>8,m=h&255;this.current708Packet.ptsVals.push(E.pts),this.current708Packet.data.push(g),this.current708Packet.data.push(m)},Ye.prototype.push708Packet=function(){var E=this.current708Packet,h=E.data,g=null,m=null,v=0,_=h[v++];for(E.seq=_>>6,E.sizeCode=_&63;v<h.length;v++)_=h[v++],g=_>>5,m=_&31,g===7&&m>0&&(_=h[v++],g=_),this.pushServiceBlock(g,v,m),m>0&&(v+=m-1)},Ye.prototype.pushServiceBlock=function(E,h,g){var m,v=h,_=this.current708Packet.data,b=this.services[E];for(b||(b=this.initService(E,v));v<h+g&&v<_.length;v++)m=_[v],ro(m)?v=this.handleText(v,b):m===24?v=this.multiByteCharacter(v,b):m===16?v=this.extendedCommands(v,b):128<=m&&m<=135?v=this.setCurrentWindow(v,b):152<=m&&m<=159?v=this.defineWindow(v,b):m===136?v=this.clearWindows(v,b):m===140?v=this.deleteWindows(v,b):m===137?v=this.displayWindows(v,b):m===138?v=this.hideWindows(v,b):m===139?v=this.toggleWindows(v,b):m===151?v=this.setWindowAttributes(v,b):m===144?v=this.setPenAttributes(v,b):m===145?v=this.setPenColor(v,b):m===146?v=this.setPenLocation(v,b):m===143?b=this.reset(v,b):m===8?b.currentWindow.backspace():m===12?b.currentWindow.clearText():m===13?b.currentWindow.pendingNewLine=!0:m===14?b.currentWindow.clearText():m===141&&v++},Ye.prototype.extendedCommands=function(E,h){var g=this.current708Packet.data,m=g[++E];return ro(m)&&(E=this.handleText(E,h,{isExtended:!0})),E},Ye.prototype.getPts=function(E){return this.current708Packet.ptsVals[Math.floor(E/2)]},Ye.prototype.initService=function(E,h){var m="SERVICE"+E,g=this,m,v;return m in this.serviceEncodings&&(v=this.serviceEncodings[m]),this.services[E]=new no(E,v,g),this.services[E].init(this.getPts(h),function(_){g.flushDisplayed(_,g.services[E])}),this.services[E]},Ye.prototype.handleText=function(E,h,g){var m=g&&g.isExtended,v=g&&g.isMultiByte,_=this.current708Packet.data,b=m?4096:0,w=_[E],P=_[E+1],L=h.currentWindow,D,F;return h.textDecoder_&&!m?(v?(F=[w,P],E++):F=[w],D=h.textDecoder_.decode(new Uint8Array(F))):D=Db(b|w),L.pendingNewLine&&!L.isEmpty()&&L.newLine(this.getPts(E)),L.pendingNewLine=!1,L.addText(D),E},Ye.prototype.multiByteCharacter=function(E,h){var g=this.current708Packet.data,m=g[E+1],v=g[E+2];return ro(m)&&ro(v)&&(E=this.handleText(++E,h,{isMultiByte:!0})),E},Ye.prototype.setCurrentWindow=function(E,h){var g=this.current708Packet.data,m=g[E],v=m&7;return h.setCurrentWindow(v),E},Ye.prototype.defineWindow=function(E,h){var g=this.current708Packet.data,m=g[E],v=m&7;h.setCurrentWindow(v);var _=h.currentWindow;return m=g[++E],_.visible=(m&32)>>5,_.rowLock=(m&16)>>4,_.columnLock=(m&8)>>3,_.priority=m&7,m=g[++E],_.relativePositioning=(m&128)>>7,_.anchorVertical=m&127,m=g[++E],_.anchorHorizontal=m,m=g[++E],_.anchorPoint=(m&240)>>4,_.rowCount=m&15,m=g[++E],_.columnCount=m&63,m=g[++E],_.windowStyle=(m&56)>>3,_.penStyle=m&7,_.virtualRowCount=_.rowCount+1,E},Ye.prototype.setWindowAttributes=function(E,h){var g=this.current708Packet.data,m=g[E],v=h.currentWindow.winAttr;return m=g[++E],v.fillOpacity=(m&192)>>6,v.fillRed=(m&48)>>4,v.fillGreen=(m&12)>>2,v.fillBlue=m&3,m=g[++E],v.borderType=(m&192)>>6,v.borderRed=(m&48)>>4,v.borderGreen=(m&12)>>2,v.borderBlue=m&3,m=g[++E],v.borderType+=(m&128)>>5,v.wordWrap=(m&64)>>6,v.printDirection=(m&48)>>4,v.scrollDirection=(m&12)>>2,v.justify=m&3,m=g[++E],v.effectSpeed=(m&240)>>4,v.effectDirection=(m&12)>>2,v.displayEffect=m&3,E},Ye.prototype.flushDisplayed=function(E,h){for(var g=[],m=0;m<8;m++)h.windows[m].visible&&!h.windows[m].isEmpty()&&g.push(h.windows[m].getText());h.endPts=E,h.text=g.join(`

`),this.pushCaption(h),h.startPts=E},Ye.prototype.pushCaption=function(E){E.text!==""&&(this.trigger("data",{startPts:E.startPts,endPts:E.endPts,text:E.text,stream:"cc708_"+E.serviceNum}),E.text="",E.startPts=E.endPts)},Ye.prototype.displayWindows=function(E,h){var g=this.current708Packet.data,m=g[++E],v=this.getPts(E);this.flushDisplayed(v,h);for(var _=0;_<8;_++)m&1<<_&&(h.windows[_].visible=1);return E},Ye.prototype.hideWindows=function(E,h){var g=this.current708Packet.data,m=g[++E],v=this.getPts(E);this.flushDisplayed(v,h);for(var _=0;_<8;_++)m&1<<_&&(h.windows[_].visible=0);return E},Ye.prototype.toggleWindows=function(E,h){var g=this.current708Packet.data,m=g[++E],v=this.getPts(E);this.flushDisplayed(v,h);for(var _=0;_<8;_++)m&1<<_&&(h.windows[_].visible^=1);return E},Ye.prototype.clearWindows=function(E,h){var g=this.current708Packet.data,m=g[++E],v=this.getPts(E);this.flushDisplayed(v,h);for(var _=0;_<8;_++)m&1<<_&&h.windows[_].clearText();return E},Ye.prototype.deleteWindows=function(E,h){var g=this.current708Packet.data,m=g[++E],v=this.getPts(E);this.flushDisplayed(v,h);for(var _=0;_<8;_++)m&1<<_&&h.windows[_].reset();return E},Ye.prototype.setPenAttributes=function(E,h){var g=this.current708Packet.data,m=g[E],v=h.currentWindow.penAttr;return m=g[++E],v.textTag=(m&240)>>4,v.offset=(m&12)>>2,v.penSize=m&3,m=g[++E],v.italics=(m&128)>>7,v.underline=(m&64)>>6,v.edgeType=(m&56)>>3,v.fontStyle=m&7,E},Ye.prototype.setPenColor=function(E,h){var g=this.current708Packet.data,m=g[E],v=h.currentWindow.penColor;return m=g[++E],v.fgOpacity=(m&192)>>6,v.fgRed=(m&48)>>4,v.fgGreen=(m&12)>>2,v.fgBlue=m&3,m=g[++E],v.bgOpacity=(m&192)>>6,v.bgRed=(m&48)>>4,v.bgGreen=(m&12)>>2,v.bgBlue=m&3,m=g[++E],v.edgeRed=(m&48)>>4,v.edgeGreen=(m&12)>>2,v.edgeBlue=m&3,E},Ye.prototype.setPenLocation=function(E,h){var g=this.current708Packet.data,m=g[E],v=h.currentWindow.penLoc;return h.currentWindow.pendingNewLine=!0,m=g[++E],v.row=m&15,m=g[++E],v.column=m&63,E},Ye.prototype.reset=function(E,h){var g=this.getPts(E);return this.flushDisplayed(g,h),this.initService(h.serviceNum,E)};var Lb={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},io=function(h){return h===null?"":(h=Lb[h]||h,String.fromCharCode(h))},ao=14,Rb=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Gn=function(){for(var h=[],g=ao+1;g--;)h.push("");return h},nt=function E(h,g){E.prototype.init.call(this),this.field_=h||0,this.dataChannel_=g||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(m){var v,_,b,w,P;if(v=m.ccData&32639,v===this.lastControlCode_){this.lastControlCode_=null;return}if((v&61440)===4096?this.lastControlCode_=v:v!==this.PADDING_&&(this.lastControlCode_=null),b=v>>>8,w=v&255,v!==this.PADDING_)if(v===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(v===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(m.pts),this.flushDisplayed(m.pts),_=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=_,this.startPts_=m.pts;else if(v===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(m.pts);else if(v===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(m.pts);else if(v===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(m.pts);else if(v===this.CARRIAGE_RETURN_)this.clearFormatting(m.pts),this.flushDisplayed(m.pts),this.shiftRowsUp_(),this.startPts_=m.pts;else if(v===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(v===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(m.pts),this.displayed_=Gn();else if(v===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Gn();else if(v===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(m.pts),this.displayed_=Gn()),this.mode_="paintOn",this.startPts_=m.pts;else if(this.isSpecialCharacter(b,w))b=(b&3)<<8,P=io(b|w),this[this.mode_](m.pts,P),this.column_++;else if(this.isExtCharacter(b,w))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),b=(b&3)<<8,P=io(b|w),this[this.mode_](m.pts,P),this.column_++;else if(this.isMidRowCode(b,w))this.clearFormatting(m.pts),this[this.mode_](m.pts," "),this.column_++,(w&14)===14&&this.addFormatting(m.pts,["i"]),(w&1)===1&&this.addFormatting(m.pts,["u"]);else if(this.isOffsetControlCode(b,w))this.column_+=w&3;else if(this.isPAC(b,w)){var L=Rb.indexOf(v&7968);this.mode_==="rollUp"&&(L-this.rollUpRows_+1<0&&(L=this.rollUpRows_-1),this.setRollUp(m.pts,L)),L!==this.row_&&(this.clearFormatting(m.pts),this.row_=L),w&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(m.pts,["u"]),(v&16)===16&&(this.column_=((v&14)>>1)*4),this.isColorPAC(w)&&(w&14)===14&&this.addFormatting(m.pts,["i"])}else this.isNormalChar(b)&&(w===0&&(w=null),P=io(b),P+=io(w),this[this.mode_](m.pts,P),this.column_+=P.length)}};nt.prototype=new t,nt.prototype.flushDisplayed=function(E){var h=this.displayed_.map(function(g,m){try{return g.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+m+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");h.length&&this.trigger("data",{startPts:this.startPts_,endPts:E,text:h,stream:this.name_})},nt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Gn(),this.nonDisplayed_=Gn(),this.lastControlCode_=null,this.column_=0,this.row_=ao,this.rollUpRows_=2,this.formatting_=[]},nt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},nt.prototype.isSpecialCharacter=function(E,h){return E===this.EXT_&&h>=48&&h<=63},nt.prototype.isExtCharacter=function(E,h){return(E===this.EXT_+1||E===this.EXT_+2)&&h>=32&&h<=63},nt.prototype.isMidRowCode=function(E,h){return E===this.EXT_&&h>=32&&h<=47},nt.prototype.isOffsetControlCode=function(E,h){return E===this.OFFSET_&&h>=33&&h<=35},nt.prototype.isPAC=function(E,h){return E>=this.BASE_&&E<this.BASE_+8&&h>=64&&h<=127},nt.prototype.isColorPAC=function(E){return E>=64&&E<=79||E>=96&&E<=127},nt.prototype.isNormalChar=function(E){return E>=32&&E<=127},nt.prototype.setRollUp=function(E,h){if(this.mode_!=="rollUp"&&(this.row_=ao,this.mode_="rollUp",this.flushDisplayed(E),this.nonDisplayed_=Gn(),this.displayed_=Gn()),h!==void 0&&h!==this.row_)for(var g=0;g<this.rollUpRows_;g++)this.displayed_[h-g]=this.displayed_[this.row_-g],this.displayed_[this.row_-g]="";h===void 0&&(h=this.row_),this.topRow_=h-this.rollUpRows_+1},nt.prototype.addFormatting=function(E,h){this.formatting_=this.formatting_.concat(h);var g=h.reduce(function(m,v){return m+"<"+v+">"},"");this[this.mode_](E,g)},nt.prototype.clearFormatting=function(E){if(!!this.formatting_.length){var h=this.formatting_.reverse().reduce(function(g,m){return g+"</"+m+">"},"");this.formatting_=[],this[this.mode_](E,h)}},nt.prototype.popOn=function(E,h){var g=this.nonDisplayed_[this.row_];g+=h,this.nonDisplayed_[this.row_]=g},nt.prototype.rollUp=function(E,h){var g=this.displayed_[this.row_];g+=h,this.displayed_[this.row_]=g},nt.prototype.shiftRowsUp_=function(){var E;for(E=0;E<this.topRow_;E++)this.displayed_[E]="";for(E=this.row_+1;E<ao+1;E++)this.displayed_[E]="";for(E=this.topRow_;E<this.row_;E++)this.displayed_[E]=this.displayed_[E+1];this.displayed_[this.row_]=""},nt.prototype.paintOn=function(E,h){var g=this.displayed_[this.row_];g+=h,this.displayed_[this.row_]=g};var so={CaptionStream:sr,Cea608Stream:nt,Cea708Stream:Ye},Ct={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Mb=8589934592,Fb=4294967296,Fh="shared",Il=function(h,g){var m=1;for(h>g&&(m=-1);Math.abs(g-h)>Fb;)h+=m*Mb;return h},Nh=function E(h){var g,m;E.prototype.init.call(this),this.type_=h||Fh,this.push=function(v){this.type_!==Fh&&v.type!==this.type_||(m===void 0&&(m=v.dts),v.dts=Il(v.dts,m),v.pts=Il(v.pts,m),g=v.dts,this.trigger("data",v))},this.flush=function(){m=g,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){m=void 0,g=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Nh.prototype=new t;var Bh={TimestampRolloverStream:Nh,handleRollover:Il},Uh=function(h,g,m){var v,_="";for(v=g;v<m;v++)_+="%"+("00"+h[v].toString(16)).slice(-2);return _},oo=function(h,g,m){return decodeURIComponent(Uh(h,g,m))},Nb=function(h,g,m){return unescape(Uh(h,g,m))},uo=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},jh={TXXX:function(h){var g;if(h.data[0]===3){for(g=1;g<h.data.length;g++)if(h.data[g]===0){h.description=oo(h.data,1,g),h.value=oo(h.data,g+1,h.data.length).replace(/\0*$/,"");break}h.data=h.value}},WXXX:function(h){var g;if(h.data[0]===3){for(g=1;g<h.data.length;g++)if(h.data[g]===0){h.description=oo(h.data,1,g),h.url=oo(h.data,g+1,h.data.length);break}}},PRIV:function(h){var g;for(g=0;g<h.data.length;g++)if(h.data[g]===0){h.owner=Nb(h.data,0,g);break}h.privateData=h.data.subarray(g+1),h.data=h.privateData}},lo;lo=function(h){var g={descriptor:h&&h.descriptor},m=0,v=[],_=0,b;if(lo.prototype.init.call(this),this.dispatchType=Ct.METADATA_STREAM_TYPE.toString(16),g.descriptor)for(b=0;b<g.descriptor.length;b++)this.dispatchType+=("00"+g.descriptor[b].toString(16)).slice(-2);this.push=function(w){var P,L,D,F,G,ue;if(w.type==="timed-metadata"){if(w.dataAlignmentIndicator&&(_=0,v.length=0),v.length===0&&(w.data.length<10||w.data[0]!=="I".charCodeAt(0)||w.data[1]!=="D".charCodeAt(0)||w.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(v.push(w),_+=w.data.byteLength,v.length===1&&(m=uo(w.data.subarray(6,10)),m+=10),!(_<m)){for(P={data:new Uint8Array(m),frames:[],pts:v[0].pts,dts:v[0].dts},G=0;G<m;)P.data.set(v[0].data.subarray(0,m-G),G),G+=v[0].data.byteLength,_-=v[0].data.byteLength,v.shift();L=10,P.data[5]&64&&(L+=4,L+=uo(P.data.subarray(10,14)),m-=uo(P.data.subarray(16,20)));do{if(D=uo(P.data.subarray(L+4,L+8)),D<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(ue=String.fromCharCode(P.data[L],P.data[L+1],P.data[L+2],P.data[L+3]),F={id:ue,data:P.data.subarray(L+10,L+D+10)},F.key=F.id,jh[F.id]&&(jh[F.id](F),F.owner==="com.apple.streaming.transportStreamTimestamp")){var me=F.data,ie=(me[3]&1)<<30|me[4]<<22|me[5]<<14|me[6]<<6|me[7]>>>2;ie*=4,ie+=me[7]&3,F.timeStamp=ie,P.pts===void 0&&P.dts===void 0&&(P.pts=F.timeStamp,P.dts=F.timeStamp),this.trigger("timestamp",F)}P.frames.push(F),L+=10,L+=D}while(L<m);this.trigger("data",P)}}}},lo.prototype=new t;var Bb=lo,Ub=Bh.TimestampRolloverStream,co,Ia,fo,wi=188,Ol=71;co=function(){var h=new Uint8Array(wi),g=0;co.prototype.init.call(this),this.push=function(m){var v=0,_=wi,b;for(g?(b=new Uint8Array(m.byteLength+g),b.set(h.subarray(0,g)),b.set(m,g),g=0):b=m;_<b.byteLength;){if(b[v]===Ol&&b[_]===Ol){this.trigger("data",b.subarray(v,_)),v+=wi,_+=wi;continue}v++,_++}v<b.byteLength&&(h.set(b.subarray(v),0),g=b.byteLength-v)},this.flush=function(){g===wi&&h[0]===Ol&&(this.trigger("data",h),g=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){g=0,this.trigger("reset")}},co.prototype=new t,Ia=function(){var h,g,m,v;Ia.prototype.init.call(this),v=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,h=function(b,w){var P=0;w.payloadUnitStartIndicator&&(P+=b[P]+1),w.type==="pat"?g(b.subarray(P),w):m(b.subarray(P),w)},g=function(b,w){w.section_number=b[7],w.last_section_number=b[8],v.pmtPid=(b[10]&31)<<8|b[11],w.pmtPid=v.pmtPid},m=function(b,w){var P,L,D,F;if(!!(b[5]&1)){for(v.programMapTable={video:null,audio:null,"timed-metadata":{}},P=(b[1]&15)<<8|b[2],L=3+P-4,D=(b[10]&15)<<8|b[11],F=12+D;F<L;){var G=b[F],ue=(b[F+1]&31)<<8|b[F+2];G===Ct.H264_STREAM_TYPE&&v.programMapTable.video===null?v.programMapTable.video=ue:G===Ct.ADTS_STREAM_TYPE&&v.programMapTable.audio===null?v.programMapTable.audio=ue:G===Ct.METADATA_STREAM_TYPE&&(v.programMapTable["timed-metadata"][ue]=G),F+=((b[F+3]&15)<<8|b[F+4])+5}w.programMapTable=v.programMapTable}},this.push=function(_){var b={},w=4;if(b.payloadUnitStartIndicator=!!(_[1]&64),b.pid=_[1]&31,b.pid<<=8,b.pid|=_[2],(_[3]&48)>>>4>1&&(w+=_[w]+1),b.pid===0)b.type="pat",h(_.subarray(w),b),this.trigger("data",b);else if(b.pid===this.pmtPid)for(b.type="pmt",h(_.subarray(w),b),this.trigger("data",b);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([_,w,b]):this.processPes_(_,w,b)},this.processPes_=function(_,b,w){w.pid===this.programMapTable.video?w.streamType=Ct.H264_STREAM_TYPE:w.pid===this.programMapTable.audio?w.streamType=Ct.ADTS_STREAM_TYPE:w.streamType=this.programMapTable["timed-metadata"][w.pid],w.type="pes",w.data=_.subarray(b),this.trigger("data",w)}},Ia.prototype=new t,Ia.STREAM_TYPES={h264:27,adts:15},fo=function(){var h=this,g=!1,m={data:[],size:0},v={data:[],size:0},_={data:[],size:0},b,w=function(D,F){var G,ue=D[0]<<16|D[1]<<8|D[2];F.data=new Uint8Array,ue===1&&(F.packetLength=6+(D[4]<<8|D[5]),F.dataAlignmentIndicator=(D[6]&4)!==0,G=D[7],G&192&&(F.pts=(D[9]&14)<<27|(D[10]&255)<<20|(D[11]&254)<<12|(D[12]&255)<<5|(D[13]&254)>>>3,F.pts*=4,F.pts+=(D[13]&6)>>>1,F.dts=F.pts,G&64&&(F.dts=(D[14]&14)<<27|(D[15]&255)<<20|(D[16]&254)<<12|(D[17]&255)<<5|(D[18]&254)>>>3,F.dts*=4,F.dts+=(D[18]&6)>>>1)),F.data=D.subarray(9+D[8]))},P=function(D,F,G){var ue=new Uint8Array(D.size),me={type:F},ie=0,Se=0,ht=!1,Vt;if(!(!D.data.length||D.size<9)){for(me.trackId=D.data[0].pid,ie=0;ie<D.data.length;ie++)Vt=D.data[ie],ue.set(Vt.data,Se),Se+=Vt.data.byteLength;w(ue,me),ht=F==="video"||me.packetLength<=D.size,(G||ht)&&(D.size=0,D.data.length=0),ht&&h.trigger("data",me)}};fo.prototype.init.call(this),this.push=function(L){({pat:function(){},pes:function(){var F,G;switch(L.streamType){case Ct.H264_STREAM_TYPE:F=m,G="video";break;case Ct.ADTS_STREAM_TYPE:F=v,G="audio";break;case Ct.METADATA_STREAM_TYPE:F=_,G="timed-metadata";break;default:return}L.payloadUnitStartIndicator&&P(F,G,!0),F.data.push(L),F.size+=L.data.byteLength},pmt:function(){var F={type:"metadata",tracks:[]};b=L.programMapTable,b.video!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.video,codec:"avc",type:"video"}),b.audio!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.audio,codec:"adts",type:"audio"}),g=!0,h.trigger("data",F)}})[L.type]()},this.reset=function(){m.size=0,m.data.length=0,v.size=0,v.data.length=0,this.trigger("reset")},this.flushStreams_=function(){P(m,"video"),P(v,"audio"),P(_,"timed-metadata")},this.flush=function(){if(!g&&b){var L={type:"metadata",tracks:[]};b.video!==null&&L.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.video,codec:"avc",type:"video"}),b.audio!==null&&L.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.audio,codec:"adts",type:"audio"}),h.trigger("data",L)}g=!1,this.flushStreams_(),this.trigger("done")}},fo.prototype=new t;var Hh={PAT_PID:0,MP2T_PACKET_LENGTH:wi,TransportPacketStream:co,TransportParseStream:Ia,ElementaryStream:fo,TimestampRolloverStream:Ub,CaptionStream:so.CaptionStream,Cea608Stream:so.Cea608Stream,Cea708Stream:so.Cea708Stream,MetadataStream:Bb};for(var Dl in Ct)Ct.hasOwnProperty(Dl)&&(Hh[Dl]=Ct[Dl]);var tn=Hh,jb=ke.ONE_SECOND_IN_TS,ho,Vh=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ho=function(h){var g,m=0;ho.prototype.init.call(this),this.skipWarn_=function(v,_){this.trigger("log",{level:"warn",message:"adts skiping bytes "+v+" to "+_+" in frame "+m+" outside syncword"})},this.push=function(v){var _=0,b,w,P,L,D;if(h||(m=0),v.type==="audio"){g&&g.length?(P=g,g=new Uint8Array(P.byteLength+v.data.byteLength),g.set(P),g.set(v.data,P.byteLength)):g=v.data;for(var F;_+7<g.length;){if(g[_]!==255||(g[_+1]&246)!==240){typeof F!="number"&&(F=_),_++;continue}if(typeof F=="number"&&(this.skipWarn_(F,_),F=null),w=(~g[_+1]&1)*2,b=(g[_+3]&3)<<11|g[_+4]<<3|(g[_+5]&224)>>5,L=((g[_+6]&3)+1)*1024,D=L*jb/Vh[(g[_+2]&60)>>>2],g.byteLength-_<b)break;this.trigger("data",{pts:v.pts+m*D,dts:v.dts+m*D,sampleCount:L,audioobjecttype:(g[_+2]>>>6&3)+1,channelcount:(g[_+2]&1)<<2|(g[_+3]&192)>>>6,samplerate:Vh[(g[_+2]&60)>>>2],samplingfrequencyindex:(g[_+2]&60)>>>2,samplesize:16,data:g.subarray(_+7+w,_+b)}),m++,_+=b}typeof F=="number"&&(this.skipWarn_(F,_),F=null),g=g.subarray(_)}},this.flush=function(){m=0,this.trigger("done")},this.reset=function(){g=void 0,this.trigger("reset")},this.endTimeline=function(){g=void 0,this.trigger("endedtimeline")}},ho.prototype=new t;var $h=ho,qh;qh=function(h){var g=h.byteLength,m=0,v=0;this.length=function(){return 8*g},this.bitsAvailable=function(){return 8*g+v},this.loadWord=function(){var _=h.byteLength-g,b=new Uint8Array(4),w=Math.min(4,g);if(w===0)throw new Error("no bytes available");b.set(h.subarray(_,_+w)),m=new DataView(b.buffer).getUint32(0),v=w*8,g-=w},this.skipBits=function(_){var b;v>_?(m<<=_,v-=_):(_-=v,b=Math.floor(_/8),_-=b*8,g-=b,this.loadWord(),m<<=_,v-=_)},this.readBits=function(_){var b=Math.min(v,_),w=m>>>32-b;return v-=b,v>0?m<<=b:g>0&&this.loadWord(),b=_-b,b>0?w<<b|this.readBits(b):w},this.skipLeadingZeros=function(){var _;for(_=0;_<v;++_)if((m&2147483648>>>_)!==0)return m<<=_,v-=_,_;return this.loadWord(),_+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var _=this.skipLeadingZeros();return this.readBits(_+1)-1},this.readExpGolomb=function(){var _=this.readUnsignedExpGolomb();return 1&_?1+_>>>1:-1*(_>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Hb=qh,po,Oa,Wh;Oa=function(){var h=0,g,m;Oa.prototype.init.call(this),this.push=function(v){var _;m?(_=new Uint8Array(m.byteLength+v.data.byteLength),_.set(m),_.set(v.data,m.byteLength),m=_):m=v.data;for(var b=m.byteLength;h<b-3;h++)if(m[h+2]===1){g=h+5;break}for(;g<b;)switch(m[g]){case 0:if(m[g-1]!==0){g+=2;break}else if(m[g-2]!==0){g++;break}h+3!==g-2&&this.trigger("data",m.subarray(h+3,g-2));do g++;while(m[g]!==1&&g<b);h=g-2,g+=3;break;case 1:if(m[g-1]!==0||m[g-2]!==0){g+=3;break}this.trigger("data",m.subarray(h+3,g-2)),h=g-2,g+=3;break;default:g+=3;break}m=m.subarray(h),g-=h,h=0},this.reset=function(){m=null,h=0,this.trigger("reset")},this.flush=function(){m&&m.byteLength>3&&this.trigger("data",m.subarray(h+3)),m=null,h=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Oa.prototype=new t,Wh={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},po=function(){var h=new Oa,g,m,v,_,b,w,P;po.prototype.init.call(this),g=this,this.push=function(L){L.type==="video"&&(m=L.trackId,v=L.pts,_=L.dts,h.push(L))},h.on("data",function(L){var D={trackId:m,pts:v,dts:_,data:L,nalUnitTypeCode:L[0]&31};switch(D.nalUnitTypeCode){case 5:D.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:D.nalUnitType="sei_rbsp",D.escapedRBSP=b(L.subarray(1));break;case 7:D.nalUnitType="seq_parameter_set_rbsp",D.escapedRBSP=b(L.subarray(1)),D.config=w(D.escapedRBSP);break;case 8:D.nalUnitType="pic_parameter_set_rbsp";break;case 9:D.nalUnitType="access_unit_delimiter_rbsp";break}g.trigger("data",D)}),h.on("done",function(){g.trigger("done")}),h.on("partialdone",function(){g.trigger("partialdone")}),h.on("reset",function(){g.trigger("reset")}),h.on("endedtimeline",function(){g.trigger("endedtimeline")}),this.flush=function(){h.flush()},this.partialFlush=function(){h.partialFlush()},this.reset=function(){h.reset()},this.endTimeline=function(){h.endTimeline()},P=function(D,F){var G=8,ue=8,me,ie;for(me=0;me<D;me++)ue!==0&&(ie=F.readExpGolomb(),ue=(G+ie+256)%256),G=ue===0?G:ue},b=function(D){for(var F=D.byteLength,G=[],ue=1,me,ie;ue<F-2;)D[ue]===0&&D[ue+1]===0&&D[ue+2]===3?(G.push(ue+2),ue+=2):ue++;if(G.length===0)return D;me=F-G.length,ie=new Uint8Array(me);var Se=0;for(ue=0;ue<me;Se++,ue++)Se===G[0]&&(Se++,G.shift()),ie[ue]=D[Se];return ie},w=function(D){var F=0,G=0,ue=0,me=0,ie,Se,ht,Vt,Qn,Bl,cp,dp,fp,Ul,hp,ut=[1,1],pp,Jn;if(ie=new Hb(D),Se=ie.readUnsignedByte(),Vt=ie.readUnsignedByte(),ht=ie.readUnsignedByte(),ie.skipUnsignedExpGolomb(),Wh[Se]&&(Qn=ie.readUnsignedExpGolomb(),Qn===3&&ie.skipBits(1),ie.skipUnsignedExpGolomb(),ie.skipUnsignedExpGolomb(),ie.skipBits(1),ie.readBoolean()))for(hp=Qn!==3?8:12,Jn=0;Jn<hp;Jn++)ie.readBoolean()&&(Jn<6?P(16,ie):P(64,ie));if(ie.skipUnsignedExpGolomb(),Bl=ie.readUnsignedExpGolomb(),Bl===0)ie.readUnsignedExpGolomb();else if(Bl===1)for(ie.skipBits(1),ie.skipExpGolomb(),ie.skipExpGolomb(),cp=ie.readUnsignedExpGolomb(),Jn=0;Jn<cp;Jn++)ie.skipExpGolomb();if(ie.skipUnsignedExpGolomb(),ie.skipBits(1),dp=ie.readUnsignedExpGolomb(),fp=ie.readUnsignedExpGolomb(),Ul=ie.readBits(1),Ul===0&&ie.skipBits(1),ie.skipBits(1),ie.readBoolean()&&(F=ie.readUnsignedExpGolomb(),G=ie.readUnsignedExpGolomb(),ue=ie.readUnsignedExpGolomb(),me=ie.readUnsignedExpGolomb()),ie.readBoolean()&&ie.readBoolean()){switch(pp=ie.readUnsignedByte(),pp){case 1:ut=[1,1];break;case 2:ut=[12,11];break;case 3:ut=[10,11];break;case 4:ut=[16,11];break;case 5:ut=[40,33];break;case 6:ut=[24,11];break;case 7:ut=[20,11];break;case 8:ut=[32,11];break;case 9:ut=[80,33];break;case 10:ut=[18,11];break;case 11:ut=[15,11];break;case 12:ut=[64,33];break;case 13:ut=[160,99];break;case 14:ut=[4,3];break;case 15:ut=[3,2];break;case 16:ut=[2,1];break;case 255:{ut=[ie.readUnsignedByte()<<8|ie.readUnsignedByte(),ie.readUnsignedByte()<<8|ie.readUnsignedByte()];break}}ut&&ut[0]/ut[1]}return{profileIdc:Se,levelIdc:ht,profileCompatibility:Vt,width:(dp+1)*16-F*2-G*2,height:(2-Ul)*(fp+1)*16-ue*2-me*2,sarRatio:ut}}},po.prototype=new t;var Vb={H264Stream:po,NalByteStream:Oa},$b=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],zh=function(h,g){var m=h[g+6]<<21|h[g+7]<<14|h[g+8]<<7|h[g+9],v=h[g+5],_=(v&16)>>4;return m=m>=0?m:0,_?m+20:m+10},qb=function E(h,g){return h.length-g<10||h[g]!=="I".charCodeAt(0)||h[g+1]!=="D".charCodeAt(0)||h[g+2]!=="3".charCodeAt(0)?g:(g+=zh(h,g),E(h,g))},Wb=function(h){var g=qb(h,0);return h.length>=g+2&&(h[g]&255)===255&&(h[g+1]&240)===240&&(h[g+1]&22)===16},Gh=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},zb=function(h,g,m){var v,_="";for(v=g;v<m;v++)_+="%"+("00"+h[v].toString(16)).slice(-2);return _},Gb=function(h,g,m){return unescape(zb(h,g,m))},Kb=function(h,g){var m=(h[g+5]&224)>>5,v=h[g+4]<<3,_=h[g+3]&3<<11;return _|v|m},Xb=function(h,g){return h[g]==="I".charCodeAt(0)&&h[g+1]==="D".charCodeAt(0)&&h[g+2]==="3".charCodeAt(0)?"timed-metadata":h[g]&!0&&(h[g+1]&240)===240?"audio":null},Yb=function(h){for(var g=0;g+5<h.length;){if(h[g]!==255||(h[g+1]&246)!==240){g++;continue}return $b[(h[g+2]&60)>>>2]}return null},Qb=function(h){var g,m,v,_;g=10,h[5]&64&&(g+=4,g+=Gh(h.subarray(10,14)));do{if(m=Gh(h.subarray(g+4,g+8)),m<1)return null;if(_=String.fromCharCode(h[g],h[g+1],h[g+2],h[g+3]),_==="PRIV"){v=h.subarray(g+10,g+m+10);for(var b=0;b<v.byteLength;b++)if(v[b]===0){var w=Gb(v,0,b);if(w==="com.apple.streaming.transportStreamTimestamp"){var P=v.subarray(b+1),L=(P[3]&1)<<30|P[4]<<22|P[5]<<14|P[6]<<6|P[7]>>>2;return L*=4,L+=P[7]&3,L}break}}g+=10,g+=m}while(g<h.byteLength);return null},mo={isLikelyAacData:Wb,parseId3TagSize:zh,parseAdtsSize:Kb,parseType:Xb,parseSampleRate:Yb,parseAacTimestamp:Qb},go;go=function(){var h=new Uint8Array,g=0;go.prototype.init.call(this),this.setTimestamp=function(m){g=m},this.push=function(m){var v=0,_=0,b,w,P,L;for(h.length?(L=h.length,h=new Uint8Array(m.byteLength+L),h.set(h.subarray(0,L)),h.set(m,L)):h=m;h.length-_>=3;){if(h[_]==="I".charCodeAt(0)&&h[_+1]==="D".charCodeAt(0)&&h[_+2]==="3".charCodeAt(0)){if(h.length-_<10||(v=mo.parseId3TagSize(h,_),_+v>h.length))break;w={type:"timed-metadata",data:h.subarray(_,_+v)},this.trigger("data",w),_+=v;continue}else if((h[_]&255)===255&&(h[_+1]&240)===240){if(h.length-_<7||(v=mo.parseAdtsSize(h,_),_+v>h.length))break;P={type:"audio",data:h.subarray(_,_+v),pts:g,dts:g},this.trigger("data",P),_+=v;continue}_++}b=h.length-_,b>0?h=h.subarray(_):h=new Uint8Array},this.reset=function(){h=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){h=new Uint8Array,this.trigger("endedtimeline")}},go.prototype=new t;var Jb=go,Zb=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Ll=Zb,ex=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Rl=ex,tx=Vb.H264Stream,rx=mo.isLikelyAacData,nx=ke.ONE_SECOND_IN_TS,Da,Pi,vo,Kn,ix=function(h,g){g.stream=h,this.trigger("log",g)},Kh=function(h,g){for(var m=Object.keys(g),v=0;v<m.length;v++){var _=m[v];_==="headOfPipeline"||!g[_].on||g[_].on("log",ix.bind(h,_))}},Xh=function(h,g){var m;if(h.length!==g.length)return!1;for(m=0;m<h.length;m++)if(h[m]!==g[m])return!1;return!0},Ml=function(h,g,m,v,_,b){var w=m-g,P=v-g,L=_-m;return{start:{dts:h,pts:h+w},end:{dts:h+P,pts:h+L},prependedContentDuration:b,baseMediaDecodeTime:h}};Pi=function(h,g){var m=[],v,_=0,b=0,w=1/0;g=g||{},v=g.firstSequenceNumber||0,Pi.prototype.init.call(this),this.push=function(P){xr.collectDtsInfo(h,P),h&&Ll.forEach(function(L){h[L]=P[L]}),m.push(P)},this.setEarliestDts=function(P){_=P},this.setVideoBaseMediaDecodeTime=function(P){w=P},this.setAudioAppendStart=function(P){b=P},this.flush=function(){var P,L,D,F,G,ue,me;if(m.length===0){this.trigger("done","AudioSegmentStream");return}P=jt.trimAdtsFramesByEarliestDts(m,h,_),h.baseMediaDecodeTime=xr.calculateTrackBaseMediaDecodeTime(h,g.keepOriginalTimestamps),me=jt.prefixWithSilence(h,P,b,w),h.samples=jt.generateSampleTable(P),D=re.mdat(jt.concatenateFrameData(P)),m=[],L=re.moof(v,[h]),F=new Uint8Array(L.byteLength+D.byteLength),v++,F.set(L),F.set(D,L.byteLength),xr.clearDtsInfo(h),G=Math.ceil(nx*1024/h.samplerate),P.length&&(ue=P.length*G,this.trigger("segmentTimingInfo",Ml(ke.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),P[0].dts,P[0].pts,P[0].dts+ue,P[0].pts+ue,me||0)),this.trigger("timingInfo",{start:P[0].pts,end:P[0].pts+ue})),this.trigger("data",{track:h,boxes:F}),this.trigger("done","AudioSegmentStream")},this.reset=function(){xr.clearDtsInfo(h),m=[],this.trigger("reset")}},Pi.prototype=new t,Da=function(h,g){var m,v=[],_=[],b,w;g=g||{},m=g.firstSequenceNumber||0,Da.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(P){xr.collectDtsInfo(h,P),P.nalUnitType==="seq_parameter_set_rbsp"&&!b&&(b=P.config,h.sps=[P.data],Rl.forEach(function(L){h[L]=b[L]},this)),P.nalUnitType==="pic_parameter_set_rbsp"&&!w&&(w=P.data,h.pps=[P.data]),v.push(P)},this.flush=function(){for(var P,L,D,F,G,ue,me=0,ie,Se;v.length&&v[0].nalUnitType!=="access_unit_delimiter_rbsp";)v.shift();if(v.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(P=J.groupNalsIntoFrames(v),D=J.groupFramesIntoGops(P),D[0][0].keyFrame||(L=this.getGopForFusion_(v[0],h),L?(me=L.duration,D.unshift(L),D.byteLength+=L.byteLength,D.nalCount+=L.nalCount,D.pts=L.pts,D.dts=L.dts,D.duration+=L.duration):D=J.extendFirstKeyFrame(D)),_.length){var ht;if(g.alignGopsAtEnd?ht=this.alignGopsAtEnd_(D):ht=this.alignGopsAtStart_(D),!ht){this.gopCache_.unshift({gop:D.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}xr.clearDtsInfo(h),D=ht}xr.collectDtsInfo(h,D),h.samples=J.generateSampleTable(D),G=re.mdat(J.concatenateNalData(D)),h.baseMediaDecodeTime=xr.calculateTrackBaseMediaDecodeTime(h,g.keepOriginalTimestamps),this.trigger("processedGopsInfo",D.map(function(Vt){return{pts:Vt.pts,dts:Vt.dts,byteLength:Vt.byteLength}})),ie=D[0],Se=D[D.length-1],this.trigger("segmentTimingInfo",Ml(h.baseMediaDecodeTime,ie.dts,ie.pts,Se.dts+Se.duration,Se.pts+Se.duration,me)),this.trigger("timingInfo",{start:D[0].pts,end:D[D.length-1].pts+D[D.length-1].duration}),this.gopCache_.unshift({gop:D.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),F=re.moof(m,[h]),ue=new Uint8Array(F.byteLength+G.byteLength),m++,ue.set(F),ue.set(G,F.byteLength),this.trigger("data",{track:h,boxes:ue}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),v=[],this.gopCache_.length=0,_.length=0,this.trigger("reset")},this.resetStream_=function(){xr.clearDtsInfo(h),b=void 0,w=void 0},this.getGopForFusion_=function(P){var L=45e3,D=1e4,F=1/0,G,ue,me,ie,Se;for(Se=0;Se<this.gopCache_.length;Se++)ie=this.gopCache_[Se],me=ie.gop,!(!(h.pps&&Xh(h.pps[0],ie.pps[0]))||!(h.sps&&Xh(h.sps[0],ie.sps[0])))&&(me.dts<h.timelineStartInfo.dts||(G=P.dts-me.dts-me.duration,G>=-D&&G<=L&&(!ue||F>G)&&(ue=ie,F=G)));return ue?ue.gop:null},this.alignGopsAtStart_=function(P){var L,D,F,G,ue,me,ie,Se;for(ue=P.byteLength,me=P.nalCount,ie=P.duration,L=D=0;L<_.length&&D<P.length&&(F=_[L],G=P[D],F.pts!==G.pts);){if(G.pts>F.pts){L++;continue}D++,ue-=G.byteLength,me-=G.nalCount,ie-=G.duration}return D===0?P:D===P.length?null:(Se=P.slice(D),Se.byteLength=ue,Se.duration=ie,Se.nalCount=me,Se.pts=Se[0].pts,Se.dts=Se[0].dts,Se)},this.alignGopsAtEnd_=function(P){var L,D,F,G,ue,me;for(L=_.length-1,D=P.length-1,ue=null,me=!1;L>=0&&D>=0;){if(F=_[L],G=P[D],F.pts===G.pts){me=!0;break}if(F.pts>G.pts){L--;continue}L===_.length-1&&(ue=D),D--}if(!me&&ue===null)return null;var ie;if(me?ie=D:ie=ue,ie===0)return P;var Se=P.slice(ie),ht=Se.reduce(function(Vt,Qn){return Vt.byteLength+=Qn.byteLength,Vt.duration+=Qn.duration,Vt.nalCount+=Qn.nalCount,Vt},{byteLength:0,duration:0,nalCount:0});return Se.byteLength=ht.byteLength,Se.duration=ht.duration,Se.nalCount=ht.nalCount,Se.pts=Se[0].pts,Se.dts=Se[0].dts,Se},this.alignGopsWith=function(P){_=P}},Da.prototype=new t,Kn=function(h,g){this.numberOfTracks=0,this.metadataStream=g,h=h||{},typeof h.remux<"u"?this.remuxTracks=!!h.remux:this.remuxTracks=!0,typeof h.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=h.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Kn.prototype.init.call(this),this.push=function(m){if(m.text)return this.pendingCaptions.push(m);if(m.frames)return this.pendingMetadata.push(m);this.pendingTracks.push(m.track),this.pendingBytes+=m.boxes.byteLength,m.track.type==="video"&&(this.videoTrack=m.track,this.pendingBoxes.push(m.boxes)),m.track.type==="audio"&&(this.audioTrack=m.track,this.pendingBoxes.unshift(m.boxes))}},Kn.prototype=new t,Kn.prototype.flush=function(E){var h=0,g={captions:[],captionStreams:{},metadata:[],info:{}},m,v,_,b=0,w;if(this.pendingTracks.length<this.numberOfTracks){if(E!=="VideoSegmentStream"&&E!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(b=this.videoTrack.timelineStartInfo.pts,Rl.forEach(function(P){g.info[P]=this.videoTrack[P]},this)):this.audioTrack&&(b=this.audioTrack.timelineStartInfo.pts,Ll.forEach(function(P){g.info[P]=this.audioTrack[P]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?g.type=this.pendingTracks[0].type:g.type="combined",this.emittedTracks+=this.pendingTracks.length,_=re.initSegment(this.pendingTracks),g.initSegment=new Uint8Array(_.byteLength),g.initSegment.set(_),g.data=new Uint8Array(this.pendingBytes),w=0;w<this.pendingBoxes.length;w++)g.data.set(this.pendingBoxes[w],h),h+=this.pendingBoxes[w].byteLength;for(w=0;w<this.pendingCaptions.length;w++)m=this.pendingCaptions[w],m.startTime=ke.metadataTsToSeconds(m.startPts,b,this.keepOriginalTimestamps),m.endTime=ke.metadataTsToSeconds(m.endPts,b,this.keepOriginalTimestamps),g.captionStreams[m.stream]=!0,g.captions.push(m);for(w=0;w<this.pendingMetadata.length;w++)v=this.pendingMetadata[w],v.cueTime=ke.metadataTsToSeconds(v.pts,b,this.keepOriginalTimestamps),g.metadata.push(v);for(g.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",g),w=0;w<g.captions.length;w++)m=g.captions[w],this.trigger("caption",m);for(w=0;w<g.metadata.length;w++)v=g.metadata[w],this.trigger("id3Frame",v)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Kn.prototype.setRemux=function(E){this.remuxTracks=E},vo=function(h){var g=this,m=!0,v,_;vo.prototype.init.call(this),h=h||{},this.baseMediaDecodeTime=h.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var b={};this.transmuxPipeline_=b,b.type="aac",b.metadataStream=new tn.MetadataStream,b.aacStream=new Jb,b.audioTimestampRolloverStream=new tn.TimestampRolloverStream("audio"),b.timedMetadataTimestampRolloverStream=new tn.TimestampRolloverStream("timed-metadata"),b.adtsStream=new $h,b.coalesceStream=new Kn(h,b.metadataStream),b.headOfPipeline=b.aacStream,b.aacStream.pipe(b.audioTimestampRolloverStream).pipe(b.adtsStream),b.aacStream.pipe(b.timedMetadataTimestampRolloverStream).pipe(b.metadataStream).pipe(b.coalesceStream),b.metadataStream.on("timestamp",function(w){b.aacStream.setTimestamp(w.timeStamp)}),b.aacStream.on("data",function(w){w.type!=="timed-metadata"&&w.type!=="audio"||b.audioSegmentStream||(_=_||{timelineStartInfo:{baseMediaDecodeTime:g.baseMediaDecodeTime},codec:"adts",type:"audio"},b.coalesceStream.numberOfTracks++,b.audioSegmentStream=new Pi(_,h),b.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),b.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),b.adtsStream.pipe(b.audioSegmentStream).pipe(b.coalesceStream),g.trigger("trackinfo",{hasAudio:!!_,hasVideo:!!v}))}),b.coalesceStream.on("data",this.trigger.bind(this,"data")),b.coalesceStream.on("done",this.trigger.bind(this,"done")),Kh(this,b)},this.setupTsPipeline=function(){var b={};this.transmuxPipeline_=b,b.type="ts",b.metadataStream=new tn.MetadataStream,b.packetStream=new tn.TransportPacketStream,b.parseStream=new tn.TransportParseStream,b.elementaryStream=new tn.ElementaryStream,b.timestampRolloverStream=new tn.TimestampRolloverStream,b.adtsStream=new $h,b.h264Stream=new tx,b.captionStream=new tn.CaptionStream(h),b.coalesceStream=new Kn(h,b.metadataStream),b.headOfPipeline=b.packetStream,b.packetStream.pipe(b.parseStream).pipe(b.elementaryStream).pipe(b.timestampRolloverStream),b.timestampRolloverStream.pipe(b.h264Stream),b.timestampRolloverStream.pipe(b.adtsStream),b.timestampRolloverStream.pipe(b.metadataStream).pipe(b.coalesceStream),b.h264Stream.pipe(b.captionStream).pipe(b.coalesceStream),b.elementaryStream.on("data",function(w){var P;if(w.type==="metadata"){for(P=w.tracks.length;P--;)!v&&w.tracks[P].type==="video"?(v=w.tracks[P],v.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime):!_&&w.tracks[P].type==="audio"&&(_=w.tracks[P],_.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime);v&&!b.videoSegmentStream&&(b.coalesceStream.numberOfTracks++,b.videoSegmentStream=new Da(v,h),b.videoSegmentStream.on("log",g.getLogTrigger_("videoSegmentStream")),b.videoSegmentStream.on("timelineStartInfo",function(L){_&&!h.keepOriginalTimestamps&&(_.timelineStartInfo=L,b.audioSegmentStream.setEarliestDts(L.dts-g.baseMediaDecodeTime))}),b.videoSegmentStream.on("processedGopsInfo",g.trigger.bind(g,"gopInfo")),b.videoSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"videoSegmentTimingInfo")),b.videoSegmentStream.on("baseMediaDecodeTime",function(L){_&&b.audioSegmentStream.setVideoBaseMediaDecodeTime(L)}),b.videoSegmentStream.on("timingInfo",g.trigger.bind(g,"videoTimingInfo")),b.h264Stream.pipe(b.videoSegmentStream).pipe(b.coalesceStream)),_&&!b.audioSegmentStream&&(b.coalesceStream.numberOfTracks++,b.audioSegmentStream=new Pi(_,h),b.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),b.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),b.audioSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"audioSegmentTimingInfo")),b.adtsStream.pipe(b.audioSegmentStream).pipe(b.coalesceStream)),g.trigger("trackinfo",{hasAudio:!!_,hasVideo:!!v})}}),b.coalesceStream.on("data",this.trigger.bind(this,"data")),b.coalesceStream.on("id3Frame",function(w){w.dispatchType=b.metadataStream.dispatchType,g.trigger("id3Frame",w)}),b.coalesceStream.on("caption",this.trigger.bind(this,"caption")),b.coalesceStream.on("done",this.trigger.bind(this,"done")),Kh(this,b)},this.setBaseMediaDecodeTime=function(b){var w=this.transmuxPipeline_;h.keepOriginalTimestamps||(this.baseMediaDecodeTime=b),_&&(_.timelineStartInfo.dts=void 0,_.timelineStartInfo.pts=void 0,xr.clearDtsInfo(_),w.audioTimestampRolloverStream&&w.audioTimestampRolloverStream.discontinuity()),v&&(w.videoSegmentStream&&(w.videoSegmentStream.gopCache_=[]),v.timelineStartInfo.dts=void 0,v.timelineStartInfo.pts=void 0,xr.clearDtsInfo(v),w.captionStream.reset()),w.timestampRolloverStream&&w.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(b){_&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(b)},this.setRemux=function(b){var w=this.transmuxPipeline_;h.remux=b,w&&w.coalesceStream&&w.coalesceStream.setRemux(b)},this.alignGopsWith=function(b){v&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(b)},this.getLogTrigger_=function(b){var w=this;return function(P){P.stream=b,w.trigger("log",P)}},this.push=function(b){if(m){var w=rx(b);w&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!w&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),m=!1}this.transmuxPipeline_.headOfPipeline.push(b)},this.flush=function(){m=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},vo.prototype=new t;var ax={Transmuxer:vo,VideoSegmentStream:Da,AudioSegmentStream:Pi,AUDIO_PROPERTIES:Ll,VIDEO_PROPERTIES:Rl,generateSegmentTimingInfo:Ml},sx=function(h){return h>>>0},ox=function(h){return("00"+h.toString(16)).slice(-2)},yo={toUnsigned:sx,toHexString:ox},ux=function(h){var g="";return g+=String.fromCharCode(h[0]),g+=String.fromCharCode(h[1]),g+=String.fromCharCode(h[2]),g+=String.fromCharCode(h[3]),g},Xn=ux,lx=yo.toUnsigned,cx=function E(h,g){var m=[],v,_,b,w,P;if(!g.length)return null;for(v=0;v<h.byteLength;)_=lx(h[v]<<24|h[v+1]<<16|h[v+2]<<8|h[v+3]),b=Xn(h.subarray(v+4,v+8)),w=_>1?v+_:h.byteLength,b===g[0]&&(g.length===1?m.push(h.subarray(v+8,w)):(P=E(h.subarray(v+8,w),g.slice(1)),P.length&&(m=m.concat(P)))),v=w;return m},Je=cx,dx=yo.toUnsigned,fx=r.getUint64,hx=function(h){var g={version:h[0],flags:new Uint8Array(h.subarray(1,4))};return g.version===1?g.baseMediaDecodeTime=fx(h.subarray(4)):g.baseMediaDecodeTime=dx(h[4]<<24|h[5]<<16|h[6]<<8|h[7]),g},Yh=hx,px=function(h){return{isLeading:(h[0]&12)>>>2,dependsOn:h[0]&3,isDependedOn:(h[1]&192)>>>6,hasRedundancy:(h[1]&48)>>>4,paddingValue:(h[1]&14)>>>1,isNonSyncSample:h[1]&1,degradationPriority:h[2]<<8|h[3]}},Qh=px,mx=function(h){var g={version:h[0],flags:new Uint8Array(h.subarray(1,4)),samples:[]},m=new DataView(h.buffer,h.byteOffset,h.byteLength),v=g.flags[2]&1,_=g.flags[2]&4,b=g.flags[1]&1,w=g.flags[1]&2,P=g.flags[1]&4,L=g.flags[1]&8,D=m.getUint32(4),F=8,G;for(v&&(g.dataOffset=m.getInt32(F),F+=4),_&&D&&(G={flags:Qh(h.subarray(F,F+4))},F+=4,b&&(G.duration=m.getUint32(F),F+=4),w&&(G.size=m.getUint32(F),F+=4),L&&(g.version===1?G.compositionTimeOffset=m.getInt32(F):G.compositionTimeOffset=m.getUint32(F),F+=4),g.samples.push(G),D--);D--;)G={},b&&(G.duration=m.getUint32(F),F+=4),w&&(G.size=m.getUint32(F),F+=4),P&&(G.flags=Qh(h.subarray(F,F+4)),F+=4),L&&(g.version===1?G.compositionTimeOffset=m.getInt32(F):G.compositionTimeOffset=m.getUint32(F),F+=4),g.samples.push(G);return g},Jh=mx,gx=function(h){var g=new DataView(h.buffer,h.byteOffset,h.byteLength),m={version:h[0],flags:new Uint8Array(h.subarray(1,4)),trackId:g.getUint32(4)},v=m.flags[2]&1,_=m.flags[2]&2,b=m.flags[2]&8,w=m.flags[2]&16,P=m.flags[2]&32,L=m.flags[0]&65536,D=m.flags[0]&131072,F;return F=8,v&&(F+=4,m.baseDataOffset=g.getUint32(12),F+=4),_&&(m.sampleDescriptionIndex=g.getUint32(F),F+=4),b&&(m.defaultSampleDuration=g.getUint32(F),F+=4),w&&(m.defaultSampleSize=g.getUint32(F),F+=4),P&&(m.defaultSampleFlags=g.getUint32(F)),L&&(m.durationIsEmpty=!0),!v&&D&&(m.baseDataOffsetIsMoof=!0),m},Zh=gx,ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},La;typeof window<"u"?La=window:typeof ep<"u"?La=ep:typeof self<"u"?La=self:La={};var Ra=La,vx=ka.discardEmulationPreventionBytes,yx=so.CaptionStream,_x=function(h,g){for(var m=h,v=0;v<g.length;v++){var _=g[v];if(m<_.size)return _;m-=_.size}return null},Tx=function(h,g,m){var v=new DataView(h.buffer,h.byteOffset,h.byteLength),_={logs:[],seiNals:[]},b,w,P,L;for(w=0;w+4<h.length;w+=P)if(P=v.getUint32(w),w+=4,!(P<=0))switch(h[w]&31){case 6:var D=h.subarray(w+1,w+1+P),F=_x(w,g);if(b={nalUnitType:"sei_rbsp",size:P,data:D,escapedRBSP:vx(D),trackId:m},F)b.pts=F.pts,b.dts=F.dts,L=F;else if(L)b.pts=L.pts,b.dts=L.dts;else{_.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+w+" for trackId "+m+". See mux.js#223."});break}_.seiNals.push(b);break}return _},bx=function(h,g,m){var v=g,_=m.defaultSampleDuration||0,b=m.defaultSampleSize||0,w=m.trackId,P=[];return h.forEach(function(L){var D=Jh(L),F=D.samples;F.forEach(function(G){G.duration===void 0&&(G.duration=_),G.size===void 0&&(G.size=b),G.trackId=w,G.dts=v,G.compositionTimeOffset===void 0&&(G.compositionTimeOffset=0),typeof v=="bigint"?(G.pts=v+Ra.BigInt(G.compositionTimeOffset),v+=Ra.BigInt(G.duration)):(G.pts=v+G.compositionTimeOffset,v+=G.duration)}),P=P.concat(F)}),P},xx=function(h,g){var m=Je(h,["moof","traf"]),v=Je(h,["mdat"]),_={},b=[];return v.forEach(function(w,P){var L=m[P];b.push({mdat:w,traf:L})}),b.forEach(function(w){var P=w.mdat,L=w.traf,D=Je(L,["tfhd"]),F=Zh(D[0]),G=F.trackId,ue=Je(L,["tfdt"]),me=ue.length>0?Yh(ue[0]).baseMediaDecodeTime:0,ie=Je(L,["trun"]),Se,ht;g===G&&ie.length>0&&(Se=bx(ie,me,F),ht=Tx(P,Se,G),_[G]||(_[G]={seiNals:[],logs:[]}),_[G].seiNals=_[G].seiNals.concat(ht.seiNals),_[G].logs=_[G].logs.concat(ht.logs))}),_},Sx=function(h,g,m){var v;if(g===null)return null;v=xx(h,g);var _=v[g]||{};return{seiNals:_.seiNals,logs:_.logs,timescale:m}},Ex=function(){var h=!1,g,m,v,_,b,w;this.isInitialized=function(){return h},this.init=function(P){g=new yx,h=!0,w=P?P.isPartial:!1,g.on("data",function(L){L.startTime=L.startPts/_,L.endTime=L.endPts/_,b.captions.push(L),b.captionStreams[L.stream]=!0}),g.on("log",function(L){b.logs.push(L)})},this.isNewInit=function(P,L){return P&&P.length===0||L&&typeof L=="object"&&Object.keys(L).length===0?!1:v!==P[0]||_!==L[v]},this.parse=function(P,L,D){var F;if(this.isInitialized()){if(!L||!D)return null;if(this.isNewInit(L,D))v=L[0],_=D[v];else if(v===null||!_)return m.push(P),null}else return null;for(;m.length>0;){var G=m.shift();this.parse(G,L,D)}return F=Sx(P,v,_),F&&F.logs&&(b.logs=b.logs.concat(F.logs)),F===null||!F.seiNals?b.logs.length?{logs:b.logs,captions:[],captionStreams:[]}:null:(this.pushNals(F.seiNals),this.flushStream(),b)},this.pushNals=function(P){if(!this.isInitialized()||!P||P.length===0)return null;P.forEach(function(L){g.push(L)})},this.flushStream=function(){if(!this.isInitialized())return null;w?g.partialFlush():g.flush()},this.clearParsedCaptions=function(){b.captions=[],b.captionStreams={},b.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;g.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){m=[],v=null,_=null,b?this.clearParsedCaptions():b={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Cx=Ex,_o=yo.toUnsigned,Ma=yo.toHexString,wx=r.getUint64,tp,rp,np,ip,ap,Fl;tp=function(h){var g={},m=Je(h,["moov","trak"]);return m.reduce(function(v,_){var b,w,P,L,D;return b=Je(_,["tkhd"])[0],!b||(w=b[0],P=w===0?12:20,L=_o(b[P]<<24|b[P+1]<<16|b[P+2]<<8|b[P+3]),D=Je(_,["mdia","mdhd"])[0],!D)?null:(w=D[0],P=w===0?12:20,v[L]=_o(D[P]<<24|D[P+1]<<16|D[P+2]<<8|D[P+3]),v)},g)},rp=function(h,g){var m;m=Je(g,["moof","traf"]);var v=m.reduce(function(_,b){var w=Je(b,["tfhd"])[0],P=_o(w[4]<<24|w[5]<<16|w[6]<<8|w[7]),L=h[P]||9e4,D=Je(b,["tfdt"])[0],F=new DataView(D.buffer,D.byteOffset,D.byteLength),G;D[0]===1?G=wx(D.subarray(4,12)):G=F.getUint32(4);var ue;return typeof G=="bigint"?ue=G/Ra.BigInt(L):typeof G=="number"&&!isNaN(G)&&(ue=G/L),ue<Number.MAX_SAFE_INTEGER&&(ue=Number(ue)),ue<_&&(_=ue),_},1/0);return typeof v=="bigint"||isFinite(v)?v:0},np=function(h,g){var m=Je(g,["moof","traf"]),v=0,_=0,b;if(m&&m.length){var w=Je(m[0],["tfhd"])[0],P=Je(m[0],["trun"])[0],L=Je(m[0],["tfdt"])[0];if(w){var D=Zh(w);b=D.trackId}if(L){var F=Yh(L);v=F.baseMediaDecodeTime}if(P){var G=Jh(P);G.samples&&G.samples.length&&(_=G.samples[0].compositionTimeOffset||0)}}var ue=h[b]||9e4;typeof v=="bigint"&&(_=Ra.BigInt(_),ue=Ra.BigInt(ue));var me=(v+_)/ue;return typeof me=="bigint"&&me<Number.MAX_SAFE_INTEGER&&(me=Number(me)),me},ip=function(h){var g=Je(h,["moov","trak"]),m=[];return g.forEach(function(v){var _=Je(v,["mdia","hdlr"]),b=Je(v,["tkhd"]);_.forEach(function(w,P){var L=Xn(w.subarray(8,12)),D=b[P],F,G,ue;L==="vide"&&(F=new DataView(D.buffer,D.byteOffset,D.byteLength),G=F.getUint8(0),ue=G===0?F.getUint32(12):F.getUint32(20),m.push(ue))})}),m},Fl=function(h){var g=h[0],m=g===0?12:20;return _o(h[m]<<24|h[m+1]<<16|h[m+2]<<8|h[m+3])},ap=function(h){var g=Je(h,["moov","trak"]),m=[];return g.forEach(function(v){var _={},b=Je(v,["tkhd"])[0],w,P;b&&(w=new DataView(b.buffer,b.byteOffset,b.byteLength),P=w.getUint8(0),_.id=P===0?w.getUint32(12):w.getUint32(20));var L=Je(v,["mdia","hdlr"])[0];if(L){var D=Xn(L.subarray(8,12));D==="vide"?_.type="video":D==="soun"?_.type="audio":_.type=D}var F=Je(v,["mdia","minf","stbl","stsd"])[0];if(F){var G=F.subarray(8);_.codec=Xn(G.subarray(4,8));var ue=Je(G,[_.codec])[0],me,ie;ue&&(/^[asm]vc[1-9]$/i.test(_.codec)?(me=ue.subarray(78),ie=Xn(me.subarray(4,8)),ie==="avcC"&&me.length>11?(_.codec+=".",_.codec+=Ma(me[9]),_.codec+=Ma(me[10]),_.codec+=Ma(me[11])):_.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(_.codec)?(me=ue.subarray(28),ie=Xn(me.subarray(4,8)),ie==="esds"&&me.length>20&&me[19]!==0?(_.codec+="."+Ma(me[19]),_.codec+="."+Ma(me[20]>>>2&63).replace(/^0/,"")):_.codec="mp4a.40.2"):_.codec=_.codec.toLowerCase())}var Se=Je(v,["mdia","mdhd"])[0];Se&&(_.timescale=Fl(Se)),m.push(_)}),m};var sp={findBox:Je,parseType:Xn,timescale:tp,startTime:rp,compositionStartTime:np,videoTrackIds:ip,tracks:ap,getTimescaleFromMediaHeader:Fl},op=function(h){var g=h[1]&31;return g<<=8,g|=h[2],g},To=function(h){return!!(h[1]&64)},bo=function(h){var g=0;return(h[3]&48)>>>4>1&&(g+=h[4]+1),g},Px=function(h,g){var m=op(h);return m===0?"pat":m===g?"pmt":g?"pes":null},Ax=function(h){var g=To(h),m=4+bo(h);return g&&(m+=h[m]+1),(h[m+10]&31)<<8|h[m+11]},kx=function(h){var g={},m=To(h),v=4+bo(h);if(m&&(v+=h[v]+1),!!(h[v+5]&1)){var _,b,w;_=(h[v+1]&15)<<8|h[v+2],b=3+_-4,w=(h[v+10]&15)<<8|h[v+11];for(var P=12+w;P<b;){var L=v+P;g[(h[L+1]&31)<<8|h[L+2]]=h[L],P+=((h[L+3]&15)<<8|h[L+4])+5}return g}},Ix=function(h,g){var m=op(h),v=g[m];switch(v){case Ct.H264_STREAM_TYPE:return"video";case Ct.ADTS_STREAM_TYPE:return"audio";case Ct.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Ox=function(h){var g=To(h);if(!g)return null;var m=4+bo(h);if(m>=h.byteLength)return null;var v=null,_;return _=h[m+7],_&192&&(v={},v.pts=(h[m+9]&14)<<27|(h[m+10]&255)<<20|(h[m+11]&254)<<12|(h[m+12]&255)<<5|(h[m+13]&254)>>>3,v.pts*=4,v.pts+=(h[m+13]&6)>>>1,v.dts=v.pts,_&64&&(v.dts=(h[m+14]&14)<<27|(h[m+15]&255)<<20|(h[m+16]&254)<<12|(h[m+17]&255)<<5|(h[m+18]&254)>>>3,v.dts*=4,v.dts+=(h[m+18]&6)>>>1)),v},Nl=function(h){switch(h){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Dx=function(h){for(var g=4+bo(h),m=h.subarray(g),v=0,_=0,b=!1,w;_<m.byteLength-3;_++)if(m[_+2]===1){v=_+5;break}for(;v<m.byteLength;)switch(m[v]){case 0:if(m[v-1]!==0){v+=2;break}else if(m[v-2]!==0){v++;break}_+3!==v-2&&(w=Nl(m[_+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0));do v++;while(m[v]!==1&&v<m.length);_=v-2,v+=3;break;case 1:if(m[v-1]!==0||m[v-2]!==0){v+=3;break}w=Nl(m[_+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0),_=v-2,v+=3;break;default:v+=3;break}return m=m.subarray(_),v-=_,_=0,m&&m.byteLength>3&&(w=Nl(m[_+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0)),b},Lx={parseType:Px,parsePat:Ax,parsePmt:kx,parsePayloadUnitStartIndicator:To,parsePesType:Ix,parsePesTime:Ox,videoPacketContainsKeyFrame:Dx},Ai=Bh.handleRollover,Ve={};Ve.ts=Lx,Ve.aac=mo;var Yn=ke.ONE_SECOND_IN_TS,Ht=188,Hr=71,Rx=function(h,g){for(var m=0,v=Ht,_,b;v<h.byteLength;){if(h[m]===Hr&&h[v]===Hr){switch(_=h.subarray(m,v),b=Ve.ts.parseType(_,g.pid),b){case"pat":g.pid=Ve.ts.parsePat(_);break;case"pmt":var w=Ve.ts.parsePmt(_);g.table=g.table||{},Object.keys(w).forEach(function(P){g.table[P]=w[P]});break}m+=Ht,v+=Ht;continue}m++,v++}},up=function(h,g,m){for(var v=0,_=Ht,b,w,P,L,D,F=!1;_<=h.byteLength;){if(h[v]===Hr&&(h[_]===Hr||_===h.byteLength)){switch(b=h.subarray(v,_),w=Ve.ts.parseType(b,g.pid),w){case"pes":P=Ve.ts.parsePesType(b,g.table),L=Ve.ts.parsePayloadUnitStartIndicator(b),P==="audio"&&L&&(D=Ve.ts.parsePesTime(b),D&&(D.type="audio",m.audio.push(D),F=!0));break}if(F)break;v+=Ht,_+=Ht;continue}v++,_++}for(_=h.byteLength,v=_-Ht,F=!1;v>=0;){if(h[v]===Hr&&(h[_]===Hr||_===h.byteLength)){switch(b=h.subarray(v,_),w=Ve.ts.parseType(b,g.pid),w){case"pes":P=Ve.ts.parsePesType(b,g.table),L=Ve.ts.parsePayloadUnitStartIndicator(b),P==="audio"&&L&&(D=Ve.ts.parsePesTime(b),D&&(D.type="audio",m.audio.push(D),F=!0));break}if(F)break;v-=Ht,_-=Ht;continue}v--,_--}},Mx=function(h,g,m){for(var v=0,_=Ht,b,w,P,L,D,F,G,ue,me=!1,ie={data:[],size:0};_<h.byteLength;){if(h[v]===Hr&&h[_]===Hr){switch(b=h.subarray(v,_),w=Ve.ts.parseType(b,g.pid),w){case"pes":if(P=Ve.ts.parsePesType(b,g.table),L=Ve.ts.parsePayloadUnitStartIndicator(b),P==="video"&&(L&&!me&&(D=Ve.ts.parsePesTime(b),D&&(D.type="video",m.video.push(D),me=!0)),!m.firstKeyFrame)){if(L&&ie.size!==0){for(F=new Uint8Array(ie.size),G=0;ie.data.length;)ue=ie.data.shift(),F.set(ue,G),G+=ue.byteLength;if(Ve.ts.videoPacketContainsKeyFrame(F)){var Se=Ve.ts.parsePesTime(F);Se?(m.firstKeyFrame=Se,m.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}ie.size=0}ie.data.push(b),ie.size+=b.byteLength}break}if(me&&m.firstKeyFrame)break;v+=Ht,_+=Ht;continue}v++,_++}for(_=h.byteLength,v=_-Ht,me=!1;v>=0;){if(h[v]===Hr&&h[_]===Hr){switch(b=h.subarray(v,_),w=Ve.ts.parseType(b,g.pid),w){case"pes":P=Ve.ts.parsePesType(b,g.table),L=Ve.ts.parsePayloadUnitStartIndicator(b),P==="video"&&L&&(D=Ve.ts.parsePesTime(b),D&&(D.type="video",m.video.push(D),me=!0));break}if(me)break;v-=Ht,_-=Ht;continue}v--,_--}},Fx=function(h,g){if(h.audio&&h.audio.length){var m=g;(typeof m>"u"||isNaN(m))&&(m=h.audio[0].dts),h.audio.forEach(function(b){b.dts=Ai(b.dts,m),b.pts=Ai(b.pts,m),b.dtsTime=b.dts/Yn,b.ptsTime=b.pts/Yn})}if(h.video&&h.video.length){var v=g;if((typeof v>"u"||isNaN(v))&&(v=h.video[0].dts),h.video.forEach(function(b){b.dts=Ai(b.dts,v),b.pts=Ai(b.pts,v),b.dtsTime=b.dts/Yn,b.ptsTime=b.pts/Yn}),h.firstKeyFrame){var _=h.firstKeyFrame;_.dts=Ai(_.dts,v),_.pts=Ai(_.pts,v),_.dtsTime=_.dts/Yn,_.ptsTime=_.pts/Yn}}},Nx=function(h){for(var g=!1,m=0,v=null,_=null,b=0,w=0,P;h.length-w>=3;){var L=Ve.aac.parseType(h,w);switch(L){case"timed-metadata":if(h.length-w<10){g=!0;break}if(b=Ve.aac.parseId3TagSize(h,w),b>h.length){g=!0;break}_===null&&(P=h.subarray(w,w+b),_=Ve.aac.parseAacTimestamp(P)),w+=b;break;case"audio":if(h.length-w<7){g=!0;break}if(b=Ve.aac.parseAdtsSize(h,w),b>h.length){g=!0;break}v===null&&(P=h.subarray(w,w+b),v=Ve.aac.parseSampleRate(P)),m++,w+=b;break;default:w++;break}if(g)return null}if(v===null||_===null)return null;var D=Yn/v,F={audio:[{type:"audio",dts:_,pts:_},{type:"audio",dts:_+m*1024*D,pts:_+m*1024*D}]};return F},Bx=function(h){var g={pid:null,table:null},m={};Rx(h,g);for(var v in g.table)if(g.table.hasOwnProperty(v)){var _=g.table[v];switch(_){case Ct.H264_STREAM_TYPE:m.video=[],Mx(h,g,m),m.video.length===0&&delete m.video;break;case Ct.ADTS_STREAM_TYPE:m.audio=[],up(h,g,m),m.audio.length===0&&delete m.audio;break}}return m},Ux=function(h,g){var m=Ve.aac.isLikelyAacData(h),v;return m?v=Nx(h):v=Bx(h),!v||!v.audio&&!v.video?null:(Fx(v,g),v)},jx={inspect:Ux,parseAudioPes_:up},Hx=function(h,g){g.on("data",function(m){var v=m.initSegment;m.initSegment={data:v.buffer,byteOffset:v.byteOffset,byteLength:v.byteLength};var _=m.data;m.data=_.buffer,h.postMessage({action:"data",segment:m,byteOffset:_.byteOffset,byteLength:_.byteLength},[m.data])}),g.on("done",function(m){h.postMessage({action:"done"})}),g.on("gopInfo",function(m){h.postMessage({action:"gopInfo",gopInfo:m})}),g.on("videoSegmentTimingInfo",function(m){var v={start:{decode:ke.videoTsToSeconds(m.start.dts),presentation:ke.videoTsToSeconds(m.start.pts)},end:{decode:ke.videoTsToSeconds(m.end.dts),presentation:ke.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:ke.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(v.prependedContentDuration=ke.videoTsToSeconds(m.prependedContentDuration)),h.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:v})}),g.on("audioSegmentTimingInfo",function(m){var v={start:{decode:ke.videoTsToSeconds(m.start.dts),presentation:ke.videoTsToSeconds(m.start.pts)},end:{decode:ke.videoTsToSeconds(m.end.dts),presentation:ke.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:ke.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(v.prependedContentDuration=ke.videoTsToSeconds(m.prependedContentDuration)),h.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:v})}),g.on("id3Frame",function(m){h.postMessage({action:"id3Frame",id3Frame:m})}),g.on("caption",function(m){h.postMessage({action:"caption",caption:m})}),g.on("trackinfo",function(m){h.postMessage({action:"trackinfo",trackInfo:m})}),g.on("audioTimingInfo",function(m){h.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ke.videoTsToSeconds(m.start),end:ke.videoTsToSeconds(m.end)}})}),g.on("videoTimingInfo",function(m){h.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ke.videoTsToSeconds(m.start),end:ke.videoTsToSeconds(m.end)}})}),g.on("log",function(m){h.postMessage({action:"log",log:m})})},lp=function(){function E(g,m){this.options=m||{},this.self=g,this.init()}var h=E.prototype;return h.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new ax.Transmuxer(this.options),Hx(this.self,this.transmuxer)},h.pushMp4Captions=function(m){this.captionParser||(this.captionParser=new Cx,this.captionParser.init());var v=new Uint8Array(m.data,m.byteOffset,m.byteLength),_=this.captionParser.parse(v,m.trackIds,m.timescales);this.self.postMessage({action:"mp4Captions",captions:_&&_.captions||[],logs:_&&_.logs||[],data:v.buffer},[v.buffer])},h.probeMp4StartTime=function(m){var v=m.timescales,_=m.data,b=sp.startTime(v,_);this.self.postMessage({action:"probeMp4StartTime",startTime:b,data:_},[_.buffer])},h.probeMp4Tracks=function(m){var v=m.data,_=sp.tracks(v);this.self.postMessage({action:"probeMp4Tracks",tracks:_,data:v},[v.buffer])},h.probeTs=function(m){var v=m.data,_=m.baseStartTime,b=typeof _=="number"&&!isNaN(_)?_*ke.ONE_SECOND_IN_TS:void 0,w=jx.inspect(v,b),P=null;w&&(P={hasVideo:w.video&&w.video.length===2||!1,hasAudio:w.audio&&w.audio.length===2||!1},P.hasVideo&&(P.videoStart=w.video[0].ptsTime),P.hasAudio&&(P.audioStart=w.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:P,data:v},[v.buffer])},h.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},h.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},h.push=function(m){var v=new Uint8Array(m.data,m.byteOffset,m.byteLength);this.transmuxer.push(v)},h.reset=function(){this.transmuxer.reset()},h.setTimestampOffset=function(m){var v=m.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ke.secondsToVideoTs(v)))},h.setAudioAppendStart=function(m){this.transmuxer.setAudioAppendStart(Math.ceil(ke.secondsToVideoTs(m.appendStart)))},h.setRemux=function(m){this.transmuxer.setRemux(m.remux)},h.flush=function(m){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},h.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},h.alignGopsWith=function(m){this.transmuxer.alignGopsWith(m.gopsToAlignWith.slice())},E}();self.onmessage=function(E){if(E.data.action==="init"&&E.data.options){this.messageHandlers=new lp(self,E.data.options);return}this.messageHandlers||(this.messageHandlers=new lp(self)),E.data&&E.data.action&&E.data.action!=="init"&&this.messageHandlers[E.data.action]&&this.messageHandlers[E.data.action](E.data)}})),ER=ZT(SR),CR=function(t,i,a){var r=t.data.segment,s=r.type,o=r.initSegment,u=r.captions,l=r.captionStreams,c=r.metadata,d=r.videoFrameDtsTime,p=r.videoFramePtsTime;i.buffer.push({captions:u,captionStreams:l,metadata:c});var f=t.data.segment.boxes||{data:t.data.segment.data},y={type:s,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};typeof d<"u"&&(y.videoFrameDtsTime=d),typeof p<"u"&&(y.videoFramePtsTime=p),a(y)},wR=function(t){var i=t.transmuxedData,a=t.callback;i.buffer=[],a(i)},PR=function(t,i){i.gopInfo=t.data.gopInfo},rb=function(t){var i=t.transmuxer,a=t.bytes,r=t.audioAppendStart,s=t.gopsToAlignWith,o=t.remux,u=t.onData,l=t.onTrackInfo,c=t.onAudioTimingInfo,d=t.onVideoTimingInfo,p=t.onVideoSegmentTimingInfo,f=t.onAudioSegmentTimingInfo,y=t.onId3,T=t.onCaptions,x=t.onDone,S=t.onEndedTimeline,C=t.onTransmuxerLog,A=t.isEndOfTimeline,j={buffer:[]},R=A,O=function(H){i.currentTransmux===t&&(H.data.action==="data"&&CR(H,j,u),H.data.action==="trackinfo"&&l(H.data.trackInfo),H.data.action==="gopInfo"&&PR(H,j),H.data.action==="audioTimingInfo"&&c(H.data.audioTimingInfo),H.data.action==="videoTimingInfo"&&d(H.data.videoTimingInfo),H.data.action==="videoSegmentTimingInfo"&&p(H.data.videoSegmentTimingInfo),H.data.action==="audioSegmentTimingInfo"&&f(H.data.audioSegmentTimingInfo),H.data.action==="id3Frame"&&y([H.data.id3Frame],H.data.id3Frame.dispatchType),H.data.action==="caption"&&T(H.data.caption),H.data.action==="endedtimeline"&&(R=!1,S()),H.data.action==="log"&&C(H.data.log),H.data.type==="transmuxed"&&(R||(i.onmessage=null,wR({transmuxedData:j,callback:x}),nb(i))))};if(i.onmessage=O,r&&i.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(s)&&i.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof o<"u"&&i.postMessage({action:"setRemux",remux:o}),a.byteLength){var W=a instanceof ArrayBuffer?a:a.buffer,q=a instanceof ArrayBuffer?0:a.byteOffset;i.postMessage({action:"push",data:W,byteOffset:q,byteLength:a.byteLength},[W])}A&&i.postMessage({action:"endTimeline"}),i.postMessage({action:"flush"})},nb=function(t){t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():rb(t.currentTransmux))},lv=function(t,i){t.postMessage({action:i}),nb(t)},ib=function(t,i){if(!i.currentTransmux){i.currentTransmux=t,lv(i,t);return}i.transmuxQueue.push(lv.bind(null,i,t))},AR=function(t){ib("reset",t)},kR=function(t){ib("endTimeline",t)},ab=function(t){if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,rb(t);return}t.transmuxer.transmuxQueue.push(t)},IR=function(t){var i=new ER;i.currentTransmux=null,i.transmuxQueue=[];var a=i.terminate;return i.terminate=function(){return i.currentTransmux=null,i.transmuxQueue.length=0,a.call(i)},i.postMessage({action:"init",options:t}),i},Mc={reset:AR,endTimeline:kR,transmux:ab,createTransmuxer:IR},Ru=function(t){var i=t.transmuxer,a=t.endAction||t.action,r=t.callback,s=br({},t,{endAction:null,transmuxer:null,callback:null}),o=function c(d){d.data.action===a&&(i.removeEventListener("message",c),d.data.data&&(d.data.data=new Uint8Array(d.data.data,t.byteOffset||0,t.byteLength||d.data.data.byteLength),t.data&&(t.data=d.data.data)),r(d.data))};if(i.addEventListener("message",o),t.data){var u=t.data instanceof ArrayBuffer;s.byteOffset=u?0:t.data.byteOffset,s.byteLength=t.data.byteLength;var l=[u?t.data:t.data.buffer];i.postMessage(s,l)}else i.postMessage(s)},Xr={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Rd=function(t){t.forEach(function(i){i.abort()})},OR=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},DR=function(t){var i=t.target,a=Date.now()-i.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:a||0};return r.bytesReceived=t.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},kh=function(t,i){return i.timedout?{status:i.status,message:"HLS request timed-out at URL: "+i.uri,code:Xr.TIMEOUT,xhr:i}:i.aborted?{status:i.status,message:"HLS request aborted at URL: "+i.uri,code:Xr.ABORTED,xhr:i}:t?{status:i.status,message:"HLS request errored at URL: "+i.uri,code:Xr.FAILURE,xhr:i}:i.responseType==="arraybuffer"&&i.response.byteLength===0?{status:i.status,message:"Empty HLS response at URL: "+i.uri,code:Xr.FAILURE,xhr:i}:null},cv=function(t,i,a){return function(r,s){var o=s.response,u=kh(r,s);if(u)return a(u,t);if(o.byteLength!==16)return a({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Xr.FAILURE,xhr:s},t);for(var l=new DataView(o),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),d=0;d<i.length;d++)i[d].bytes=c;return a(null,t)}},sb=function(t,i){var a=qf(t.map.bytes);if(a!=="mp4"){var r=t.map.resolvedUri||t.map.uri;return i({internal:!0,message:"Found unsupported "+(a||"unknown")+" container for initialization segment at URL: "+r,code:Xr.FAILURE})}Ru({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:function(o){var u=o.tracks,l=o.data;return t.map.bytes=l,u.forEach(function(c){t.map.tracks=t.map.tracks||{},!t.map.tracks[c.type]&&(t.map.tracks[c.type]=c,typeof c.id=="number"&&c.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[c.id]=c.timescale))}),i(null)}})},LR=function(t){var i=t.segment,a=t.finishProcessingFn;return function(r,s){var o=kh(r,s);if(o)return a(o,i);var u=new Uint8Array(s.response);if(i.map.key)return i.map.encryptedBytes=u,a(null,i);i.map.bytes=u,sb(i,function(l){if(l)return l.xhr=s,l.status=s.status,a(l,i);a(null,i)})}},RR=function(t){var i=t.segment,a=t.finishProcessingFn,r=t.responseType;return function(s,o){var u=kh(s,o);if(u)return a(u,i);var l=r==="arraybuffer"||!o.responseText?o.response:bR(o.responseText.substring(i.lastReachedChar||0));return i.stats=OR(o),i.key?i.encryptedBytes=new Uint8Array(l):i.bytes=new Uint8Array(l),a(null,i)}},MR=function(t){var i=t.segment,a=t.bytes,r=t.trackInfoFn,s=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,u=t.audioSegmentTimingInfoFn,l=t.id3Fn,c=t.captionsFn,d=t.isEndOfTimeline,p=t.endedTimelineFn,f=t.dataFn,y=t.doneFn,T=t.onTransmuxerLog,x=i.map&&i.map.tracks||{},S=Boolean(x.audio&&x.video),C=s.bind(null,i,"audio","start"),A=s.bind(null,i,"audio","end"),j=s.bind(null,i,"video","start"),R=s.bind(null,i,"video","end"),O=function(){return ab({bytes:a,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:S,onData:function(U){U.type=U.type==="combined"?"video":U.type,f(i,U)},onTrackInfo:function(U){r&&(S&&(U.isMuxed=!0),r(i,U))},onAudioTimingInfo:function(U){C&&typeof U.start<"u"&&(C(U.start),C=null),A&&typeof U.end<"u"&&A(U.end)},onVideoTimingInfo:function(U){j&&typeof U.start<"u"&&(j(U.start),j=null),R&&typeof U.end<"u"&&R(U.end)},onVideoSegmentTimingInfo:function(U){o(U)},onAudioSegmentTimingInfo:function(U){u(U)},onId3:function(U,H){l(i,U,H)},onCaptions:function(U){c(i,[U])},isEndOfTimeline:d,onEndedTimeline:function(){p()},onTransmuxerLog:T,onDone:function(U){!y||(U.type=U.type==="combined"?"video":U.type,y(null,i,U))}})};Ru({action:"probeTs",transmuxer:i.transmuxer,data:a,baseStartTime:i.baseStartTime,callback:function(q){i.bytes=a=q.data;var U=q.result;U&&(r(i,{hasAudio:U.hasAudio,hasVideo:U.hasVideo,isMuxed:S}),r=null,U.hasAudio&&!S&&C(U.audioStart),U.hasVideo&&j(U.videoStart),C=null,j=null),O()}})},ob=function(t){var i=t.segment,a=t.bytes,r=t.trackInfoFn,s=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,u=t.audioSegmentTimingInfoFn,l=t.id3Fn,c=t.captionsFn,d=t.isEndOfTimeline,p=t.endedTimelineFn,f=t.dataFn,y=t.doneFn,T=t.onTransmuxerLog,x=new Uint8Array(a);if(iD(x)){i.isFmp4=!0;var S=i.map.tracks,C={isFmp4:!0,hasVideo:!!S.video,hasAudio:!!S.audio};S.audio&&S.audio.codec&&S.audio.codec!=="enca"&&(C.audioCodec=S.audio.codec),S.video&&S.video.codec&&S.video.codec!=="encv"&&(C.videoCodec=S.video.codec),S.video&&S.audio&&(C.isMuxed=!0),r(i,C);var A=function(R){f(i,{data:x,type:C.hasAudio&&!C.isMuxed?"audio":"video"}),R&&R.length&&c(i,R),y(null,i,{})};Ru({action:"probeMp4StartTime",timescales:i.map.timescales,data:x,transmuxer:i.transmuxer,callback:function(R){var O=R.data,W=R.startTime;if(a=O.buffer,i.bytes=x=O,C.hasAudio&&!C.isMuxed&&s(i,"audio","start",W),C.hasVideo&&s(i,"video","start",W),!S.video||!O.byteLength||!i.transmuxer){A();return}Ru({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:x,timescales:i.map.timescales,trackIds:[S.video.id],callback:function(U){a=U.data.buffer,i.bytes=x=U.data,U.logs.forEach(function(H){T(B.mergeOptions(H,{stream:"mp4CaptionParser"}))}),A(U.captions)}})}});return}if(!i.transmuxer){y(null,i,{});return}if(typeof i.container>"u"&&(i.container=qf(x)),i.container!=="ts"&&i.container!=="aac"){r(i,{hasAudio:!1,hasVideo:!1}),y(null,i,{});return}MR({segment:i,bytes:a,trackInfoFn:r,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:u,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:p,dataFn:f,doneFn:y,onTransmuxerLog:T})},ub=function(t,i){var a=t.id,r=t.key,s=t.encryptedBytes,o=t.decryptionWorker,u=function c(d){if(d.data.source===a){o.removeEventListener("message",c);var p=d.data.decrypted;i(new Uint8Array(p.bytes,p.byteOffset,p.byteLength))}};o.addEventListener("message",u);var l;r.bytes.slice?l=r.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(r.bytes)),o.postMessage(GT({source:a,encrypted:s,key:l,iv:r.iv}),[s.buffer,l.buffer])},FR=function(t){var i=t.decryptionWorker,a=t.segment,r=t.trackInfoFn,s=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,u=t.audioSegmentTimingInfoFn,l=t.id3Fn,c=t.captionsFn,d=t.isEndOfTimeline,p=t.endedTimelineFn,f=t.dataFn,y=t.doneFn,T=t.onTransmuxerLog;ub({id:a.requestId,key:a.key,encryptedBytes:a.encryptedBytes,decryptionWorker:i},function(x){a.bytes=x,ob({segment:a,bytes:a.bytes,trackInfoFn:r,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:u,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:p,dataFn:f,doneFn:y,onTransmuxerLog:T})})},NR=function(t){var i=t.activeXhrs,a=t.decryptionWorker,r=t.trackInfoFn,s=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,u=t.audioSegmentTimingInfoFn,l=t.id3Fn,c=t.captionsFn,d=t.isEndOfTimeline,p=t.endedTimelineFn,f=t.dataFn,y=t.doneFn,T=t.onTransmuxerLog,x=0,S=!1;return function(C,A){if(!S){if(C)return S=!0,Rd(i),y(C,A);if(x+=1,x===i.length){var j=function(){if(A.encryptedBytes)return FR({decryptionWorker:a,segment:A,trackInfoFn:r,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:u,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:p,dataFn:f,doneFn:y,onTransmuxerLog:T});ob({segment:A,bytes:A.bytes,trackInfoFn:r,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:u,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:p,dataFn:f,doneFn:y,onTransmuxerLog:T})};if(A.endOfAllRequests=Date.now(),A.map&&A.map.encryptedBytes&&!A.map.bytes)return ub({decryptionWorker:a,id:A.requestId+"-init",encryptedBytes:A.map.encryptedBytes,key:A.map.key},function(R){A.map.bytes=R,sb(A,function(O){if(O)return Rd(i),y(O,A);j()})});j()}}}},BR=function(t){var i=t.loadendState,a=t.abortFn;return function(r){var s=r.target;s.aborted&&a&&!i.calledAbortFn&&(a(),i.calledAbortFn=!0)}},UR=function(t){var i=t.segment,a=t.progressFn;return t.trackInfoFn,t.timingInfoFn,t.videoSegmentTimingInfoFn,t.audioSegmentTimingInfoFn,t.id3Fn,t.captionsFn,t.isEndOfTimeline,t.endedTimelineFn,t.dataFn,function(r){var s=r.target;if(!s.aborted)return i.stats=B.mergeOptions(i.stats,DR(r)),!i.stats.firstBytesReceivedAt&&i.stats.bytesReceived&&(i.stats.firstBytesReceivedAt=Date.now()),a(r,i)}},jR=function(t){var i=t.xhr,a=t.xhrOptions,r=t.decryptionWorker,s=t.segment,o=t.abortFn,u=t.progressFn,l=t.trackInfoFn,c=t.timingInfoFn,d=t.videoSegmentTimingInfoFn,p=t.audioSegmentTimingInfoFn,f=t.id3Fn,y=t.captionsFn,T=t.isEndOfTimeline,x=t.endedTimelineFn,S=t.dataFn,C=t.doneFn,A=t.onTransmuxerLog,j=[],R=NR({activeXhrs:j,decryptionWorker:r,trackInfoFn:l,timingInfoFn:c,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:p,id3Fn:f,captionsFn:y,isEndOfTimeline:T,endedTimelineFn:x,dataFn:S,doneFn:C,onTransmuxerLog:A});if(s.key&&!s.key.bytes){var O=[s.key];s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri&&O.push(s.map.key);var W=B.mergeOptions(a,{uri:s.key.resolvedUri,responseType:"arraybuffer"}),q=cv(s,O,R),U=i(W,q);j.push(U)}if(s.map&&!s.map.bytes){var H=s.map.key&&(!s.key||s.key.resolvedUri!==s.map.key.resolvedUri);if(H){var V=B.mergeOptions(a,{uri:s.map.key.resolvedUri,responseType:"arraybuffer"}),X=cv(s,[s.map.key],R),$=i(V,X);j.push($)}var ee=B.mergeOptions(a,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:Dd(s.map)}),pe=LR({segment:s,finishProcessingFn:R}),xe=i(ee,pe);j.push(xe)}var de=B.mergeOptions(a,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:Dd(s)}),ge=RR({segment:s,finishProcessingFn:R,responseType:de.responseType}),Te=i(de,ge);Te.addEventListener("progress",UR({segment:s,progressFn:u,trackInfoFn:l,timingInfoFn:c,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:p,id3Fn:f,captionsFn:y,isEndOfTimeline:T,endedTimelineFn:x,dataFn:S})),j.push(Te);var Be={};return j.forEach(function(Re){Re.addEventListener("loadend",BR({loadendState:Be,abortFn:o}))}),function(){return Rd(j)}},HR=jr("CodecUtils"),VR=function(t){var i=t.attributes||{};if(i.CODECS)return qr(i.CODECS)},lb=function(t,i){var a=i.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&a.AUDIO&&t.mediaGroups.AUDIO[a.AUDIO]},$R=function(t,i){if(!lb(t,i))return!0;var a=i.attributes||{},r=t.mediaGroups.AUDIO[a.AUDIO];for(var s in r)if(!r[s].uri&&!r[s].playlists)return!0;return!1},Mu=function(t){var i={};return t.forEach(function(a){var r=a.mediaType,s=a.type,o=a.details;i[r]=i[r]||[],i[r].push(Dy(""+s+o))}),Object.keys(i).forEach(function(a){if(i[a].length>1){HR("multiple "+a+" codecs found as attributes: "+i[a].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),i[a]=null;return}i[a]=i[a][0]}),i},dv=function(t){var i=0;return t.audio&&i++,t.video&&i++,i},ms=function(t,i){var a=i.attributes||{},r=Mu(VR(i)||[]);if(lb(t,i)&&!r.audio&&!$R(t,i)){var s=Mu(p1(t,a.AUDIO)||[]);s.audio&&(r.audio=s.audio)}return r},Ho=jr("PlaylistSelector"),fv=function(t){if(!(!t||!t.playlist)){var i=t.playlist;return JSON.stringify({id:i.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:i.attributes&&i.attributes.CODECS||""})}},Fu=function(t,i){if(!t)return"";var a=k.getComputedStyle(t);return a?a[i]:""},ea=function(t,i){var a=t.slice();t.sort(function(r,s){var o=i(r,s);return o===0?a.indexOf(r)-a.indexOf(s):o})},Ih=function(t,i){var a,r;return t.attributes.BANDWIDTH&&(a=t.attributes.BANDWIDTH),a=a||k.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(r=i.attributes.BANDWIDTH),r=r||k.Number.MAX_VALUE,a-r},qR=function(t,i){var a,r;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(a=t.attributes.RESOLUTION.width),a=a||k.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(r=i.attributes.RESOLUTION.width),r=r||k.Number.MAX_VALUE,a===r&&t.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?t.attributes.BANDWIDTH-i.attributes.BANDWIDTH:a-r},cb=function(t,i,a,r,s,o){if(!!t){var u={bandwidth:i,width:a,height:r,limitRenditionByPlayerDimensions:s},l=t.playlists;tr.isAudioOnly(t)&&(l=o.getAudioTrackPlaylists_(),u.audioOnly=!0);var c=l.map(function(V){var X,$=V.attributes&&V.attributes.RESOLUTION&&V.attributes.RESOLUTION.width,ee=V.attributes&&V.attributes.RESOLUTION&&V.attributes.RESOLUTION.height;return X=V.attributes&&V.attributes.BANDWIDTH,X=X||k.Number.MAX_VALUE,{bandwidth:X,width:$,height:ee,playlist:V}});ea(c,function(V,X){return V.bandwidth-X.bandwidth}),c=c.filter(function(V){return!tr.isIncompatible(V.playlist)});var d=c.filter(function(V){return tr.isEnabled(V.playlist)});d.length||(d=c.filter(function(V){return!tr.isDisabled(V.playlist)}));var p=d.filter(function(V){return V.bandwidth*vt.BANDWIDTH_VARIANCE<i}),f=p[p.length-1],y=p.filter(function(V){return V.bandwidth===f.bandwidth})[0];if(s===!1){var T=y||d[0]||c[0];if(T&&T.playlist){var x="sortedPlaylistReps";return y&&(x="bandwidthBestRep"),d[0]&&(x="enabledPlaylistReps"),Ho("choosing "+fv(T)+" using "+x+" with options",u),T.playlist}return Ho("could not choose a playlist with options",u),null}var S=p.filter(function(V){return V.width&&V.height});ea(S,function(V,X){return V.width-X.width});var C=S.filter(function(V){return V.width===a&&V.height===r});f=C[C.length-1];var A=C.filter(function(V){return V.bandwidth===f.bandwidth})[0],j,R,O;A||(j=S.filter(function(V){return V.width>a||V.height>r}),R=j.filter(function(V){return V.width===j[0].width&&V.height===j[0].height}),f=R[R.length-1],O=R.filter(function(V){return V.bandwidth===f.bandwidth})[0]);var W;if(o.experimentalLeastPixelDiffSelector){var q=S.map(function(V){return V.pixelDiff=Math.abs(V.width-a)+Math.abs(V.height-r),V});ea(q,function(V,X){return V.pixelDiff===X.pixelDiff?X.bandwidth-V.bandwidth:V.pixelDiff-X.pixelDiff}),W=q[0]}var U=W||O||A||y||d[0]||c[0];if(U&&U.playlist){var H="sortedPlaylistReps";return W?H="leastPixelDiffRep":O?H="resolutionPlusOneRep":A?H="resolutionBestRep":y?H="bandwidthBestRep":d[0]&&(H="enabledPlaylistReps"),Ho("choosing "+fv(U)+" using "+H+" with options",u),U.playlist}return Ho("could not choose a playlist with options",u),null}},hv=function(){var t=this.useDevicePixelRatio&&k.devicePixelRatio||1;return cb(this.playlists.master,this.systemBandwidth,parseInt(Fu(this.tech_.el(),"width"),10)*t,parseInt(Fu(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},WR=function(t){var i=-1,a=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&k.devicePixelRatio||1;return i<0&&(i=this.systemBandwidth,a=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==a&&(i=t*this.systemBandwidth+(1-t)*i,a=this.systemBandwidth),cb(this.playlists.master,i,parseInt(Fu(this.tech_.el(),"width"),10)*r,parseInt(Fu(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},zR=function(t){var i=t.master,a=t.currentTime,r=t.bandwidth,s=t.duration,o=t.segmentDuration,u=t.timeUntilRebuffer,l=t.currentTimeline,c=t.syncController,d=i.playlists.filter(function(x){return!tr.isIncompatible(x)}),p=d.filter(tr.isEnabled);p.length||(p=d.filter(function(x){return!tr.isDisabled(x)}));var f=p.filter(tr.hasAttribute.bind(null,"BANDWIDTH")),y=f.map(function(x){var S=c.getSyncPoint(x,s,l,a),C=S?1:2,A=tr.estimateSegmentRequestTime(o,r,x),j=A*C-u;return{playlist:x,rebufferingImpact:j}}),T=y.filter(function(x){return x.rebufferingImpact<=0});return ea(T,function(x,S){return Ih(S.playlist,x.playlist)}),T.length?T[0]:(ea(y,function(x,S){return x.rebufferingImpact-S.rebufferingImpact}),y[0]||null)},GR=function(){var t=this,i=this.playlists.master.playlists.filter(tr.isEnabled);ea(i,function(r,s){return Ih(r,s)});var a=i.filter(function(r){return!!ms(t.playlists.master,r).video});return a[0]||null},KR=function(t){var i=0,a;return t.bytes&&(a=new Uint8Array(t.bytes),t.segments.forEach(function(r){a.set(r,i),i+=r.byteLength})),a},XR=function(t,i,a){if(!t[a]){i.trigger({type:"usage",name:"vhs-608"}),i.trigger({type:"usage",name:"hls-608"});var r=a;/^cc708_/.test(a)&&(r="SERVICE"+a.split("_")[1]);var s=i.textTracks().getTrackById(r);if(s)t[a]=s;else{var o=i.options_.vhs&&i.options_.vhs.captionServices||{},u=a,l=a,c=!1,d=o[r];d&&(u=d.label,l=d.language,c=d.default),t[a]=i.addRemoteTextTrack({kind:"captions",id:r,default:c,label:u,language:l},!1).track}}},YR=function(t){var i=t.inbandTextTracks,a=t.captionArray,r=t.timestampOffset;if(!!a){var s=k.WebKitDataCue||k.VTTCue;a.forEach(function(o){var u=o.stream;i[u].addCue(new s(o.startTime+r,o.endTime+r,o.text))})}},QR=function(t){Object.defineProperties(t.frame,{id:{get:function(){return B.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return B.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return B.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},JR=function(t){var i=t.inbandTextTracks,a=t.metadataArray,r=t.timestampOffset,s=t.videoDuration;if(!!a){var o=k.WebKitDataCue||k.VTTCue,u=i.metadataTrack_;if(!!u&&(a.forEach(function(y){var T=y.cueTime+r;typeof T!="number"||k.isNaN(T)||T<0||!(T<1/0)||y.frames.forEach(function(x){var S=new o(T,T,x.value||x.url||x.data||"");S.frame=x,S.value=x,QR(S),u.addCue(S)})}),!(!u.cues||!u.cues.length))){for(var l=u.cues,c=[],d=0;d<l.length;d++)l[d]&&c.push(l[d]);var p=c.reduce(function(y,T){var x=y[T.startTime]||[];return x.push(T),y[T.startTime]=x,y},{}),f=Object.keys(p).sort(function(y,T){return Number(y)-Number(T)});f.forEach(function(y,T){var x=p[y],S=Number(f[T+1])||s;x.forEach(function(C){C.endTime=S})})}}},ZR=function(t,i,a){t.metadataTrack_||(t.metadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=i)},rs=function(t,i,a){var r,s;if(!!a&&!!a.cues)for(r=a.cues.length;r--;)s=a.cues[r],s.startTime>=t&&s.endTime<=i&&a.removeCue(s)},eM=function(t){var i=t.cues;if(!!i)for(var a=0;a<i.length;a++){for(var r=[],s=0,o=0;o<i.length;o++)i[a].startTime===i[o].startTime&&i[a].endTime===i[o].endTime&&i[a].text===i[o].text&&(s++,s>1&&r.push(i[o]));r.length&&r.forEach(function(u){return t.removeCue(u)})}},tM=function(t,i,a){if(typeof i>"u"||i===null||!t.length)return[];var r=Math.ceil((i-a+3)*bu.ONE_SECOND_IN_TS),s;for(s=0;s<t.length&&!(t[s].pts>r);s++);return t.slice(s)},rM=function(t,i,a){if(!i.length)return t;if(a)return i.slice();var r=i[0].pts,s=0;for(s;s<t.length&&!(t[s].pts>=r);s++);return t.slice(0,s).concat(i)},nM=function(t,i,a,r){for(var s=Math.ceil((i-r)*bu.ONE_SECOND_IN_TS),o=Math.ceil((a-r)*bu.ONE_SECOND_IN_TS),u=t.slice(),l=t.length;l--&&!(t[l].pts<=o););if(l===-1)return u;for(var c=l+1;c--&&!(t[c].pts<=s););return c=Math.max(c,0),u.splice(c,l-c+1),u},iM=function(t,i){if(!t&&!i||!t&&i||t&&!i)return!1;if(t===i)return!0;var a=Object.keys(t).sort(),r=Object.keys(i).sort();if(a.length!==r.length)return!1;for(var s=0;s<a.length;s++){var o=a[s];if(o!==r[s]||t[o]!==i[o])return!1}return!0},db=22,aM=function(t,i,a){i=i||[];for(var r=[],s=0,o=0;o<i.length;o++){var u=i[o];if(t===u.timeline&&(r.push(o),s+=u.duration,s>a))return o}return r.length===0?0:r[r.length-1]},Ka=1,sM=500,pv=function(t){return typeof t=="number"&&isFinite(t)},Vo=1/60,oM=function(t,i,a){return t!=="main"||!i||!a?null:!a.hasAudio&&!a.hasVideo?"Neither audio nor video found in segment.":i.hasVideo&&!a.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.hasVideo&&a.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},uM=function(t,i,a){var r=i-vt.BACK_BUFFER_LENGTH;t.length&&(r=Math.max(r,t.start(0)));var s=i-a;return Math.min(s,r)},Hi=function(t){var i=t.startOfSegment,a=t.duration,r=t.segment,s=t.part,o=t.playlist,u=o.mediaSequence,l=o.id,c=o.segments,d=c===void 0?[]:c,p=t.mediaIndex,f=t.partIndex,y=t.timeline,T=d.length-1,x="mediaIndex/partIndex increment";t.getMediaInfoForTime?x="getMediaInfoForTime ("+t.getMediaInfoForTime+")":t.isSyncRequest&&(x="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(x+=" with independent "+t.independent);var S=typeof f=="number",C=t.segment.uri?"segment":"pre-segment",A=S?LT({preloadSegment:r})-1:0;return C+" ["+(u+p)+"/"+(u+T)+"]"+(S?" part ["+f+"/"+A+"]":"")+(" segment start/end ["+r.start+" => "+r.end+"]")+(S?" part start/end ["+s.start+" => "+s.end+"]":"")+(" startOfSegment ["+i+"]")+(" duration ["+a+"]")+(" timeline ["+y+"]")+(" selected by ["+x+"]")+(" playlist ["+l+"]")},mv=function(t){return t+"TimingInfo"},lM=function(t){var i=t.segmentTimeline,a=t.currentTimeline,r=t.startOfSegment,s=t.buffered,o=t.overrideCheck;return!o&&i===a?null:i<a?r:s.length?s.end(s.length-1):r},gv=function(t){var i=t.timelineChangeController,a=t.currentTimeline,r=t.segmentTimeline,s=t.loaderType,o=t.audioDisabled;if(a===r)return!1;if(s==="audio"){var u=i.lastTimelineChange({type:"main"});return!u||u.to!==r}if(s==="main"&&o){var l=i.pendingTimelineChange({type:"audio"});return!(l&&l.to===r)}return!1},cM=function(t){var i=0;return["video","audio"].forEach(function(a){var r=t[a+"TimingInfo"];if(!!r){var s=r.start,o=r.end,u;typeof s=="bigint"||typeof o=="bigint"?u=k.BigInt(o)-k.BigInt(s):typeof s=="number"&&typeof o=="number"&&(u=o-s),typeof u<"u"&&u>i&&(i=u)}}),typeof i=="bigint"&&i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i},vv=function(t){var i=t.segmentDuration,a=t.maxDuration;return i?Math.round(i)>a+Vn:!1},dM=function(t,i){if(i!=="hls")return null;var a=cM({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!a)return null;var r=t.playlist.targetDuration,s=vv({segmentDuration:a,maxDuration:r*2}),o=vv({segmentDuration:a,maxDuration:r}),u="Segment with index "+t.mediaIndex+" "+("from playlist "+t.playlist.id+" ")+("has a duration of "+a+" ")+("when the reported duration is "+t.duration+" ")+("and the target duration is "+r+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return s||o?{severity:s?"warn":"info",message:u}:null},Md=function(n){le(t,n);function t(a,r){var s;if(s=n.call(this)||this,!a)throw new TypeError("Initialization settings are required");if(typeof a.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!a.mediaSource)throw new TypeError("No MediaSource specified");return s.bandwidth=a.bandwidth,s.throughput={rate:0,count:0},s.roundTrip=NaN,s.resetStats_(),s.mediaIndex=null,s.partIndex=null,s.hasPlayed_=a.hasPlayed,s.currentTime_=a.currentTime,s.seekable_=a.seekable,s.seeking_=a.seeking,s.duration_=a.duration,s.mediaSource_=a.mediaSource,s.vhs_=a.vhs,s.loaderType_=a.loaderType,s.currentMediaInfo_=void 0,s.startingMediaInfo_=void 0,s.segmentMetadataTrack_=a.segmentMetadataTrack,s.goalBufferLength_=a.goalBufferLength,s.sourceType_=a.sourceType,s.sourceUpdater_=a.sourceUpdater,s.inbandTextTracks_=a.inbandTextTracks,s.state_="INIT",s.timelineChangeController_=a.timelineChangeController,s.shouldSaveSegmentTimingInfo_=!0,s.parse708captions_=a.parse708captions,s.useDtsForTimestampOffset_=a.useDtsForTimestampOffset,s.captionServices_=a.captionServices,s.experimentalExactManifestTimings=a.experimentalExactManifestTimings,s.checkBufferTimeout_=null,s.error_=void 0,s.currentTimeline_=-1,s.pendingSegment_=null,s.xhrOptions_=null,s.pendingSegments_=[],s.audioDisabled_=!1,s.isPendingTimestampOffset_=!1,s.gopBuffer_=[],s.timeMapping_=0,s.safeAppend_=B.browser.IE_VERSION>=11,s.appendInitSegment_={audio:!0,video:!0},s.playlistOfLastInitSegment_={audio:null,video:null},s.callQueue_=[],s.loadQueue_=[],s.metadataQueue_={id3:[],caption:[]},s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=null,s.activeInitSegmentId_=null,s.initSegments_={},s.cacheEncryptionKeys_=a.cacheEncryptionKeys,s.keyCache_={},s.decrypter_=a.decrypter,s.syncController_=a.syncController,s.syncPoint_={segmentIndex:0,time:0},s.transmuxer_=s.createTransmuxer_(),s.triggerSyncInfoUpdate_=function(){return s.trigger("syncinfoupdate")},s.syncController_.on("syncinfoupdate",s.triggerSyncInfoUpdate_),s.mediaSource_.addEventListener("sourceopen",function(){s.isEndOfStream_()||(s.ended_=!1)}),s.fetchAtBuffer_=!1,s.logger_=jr("SegmentLoader["+s.loaderType_+"]"),Object.defineProperty(Ce(s),"state",{get:function(){return this.state_},set:function(u){u!==this.state_&&(this.logger_(this.state_+" -> "+u),this.state_=u,this.trigger("statechange"))}}),s.sourceUpdater_.on("ready",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="main"&&s.timelineChangeController_.on("pendingtimelinechange",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="audio"&&s.timelineChangeController_.on("timelinechange",function(){s.hasEnoughInfoToLoad_()&&s.processLoadQueue_(),s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s}var i=t.prototype;return i.createTransmuxer_=function(){return Mc.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&k.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(r){this.audioDisabled_=!r,r?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,k.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},i.checkForAbort_=function(r){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==r},i.error=function(r){return typeof r<"u"&&(this.logger_("error occurred:",r),this.error_=r),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Mc.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){var r=this.getMediaInfo_();if(!this.sourceUpdater_||!r)return B.createTimeRanges();if(this.loaderType_==="main"){var s=r.hasAudio,o=r.hasVideo,u=r.isMuxed;if(o&&s&&!this.audioDisabled_&&!u)return this.sourceUpdater_.buffered();if(o)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(r,s){if(s===void 0&&(s=!1),!r)return null;var o=Lu(r),u=this.initSegments_[o];return s&&!u&&r.bytes&&(this.initSegments_[o]=u={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:r.bytes,tracks:r.tracks,timescales:r.timescales}),u||r},i.segmentKey=function(r,s){if(s===void 0&&(s=!1),!r)return null;var o=KT(r),u=this.keyCache_[o];this.cacheEncryptionKeys_&&s&&!u&&r.bytes&&(this.keyCache_[o]=u={resolvedUri:r.resolvedUri,bytes:r.bytes});var l={resolvedUri:(u||r).resolvedUri};return u&&(l.bytes=u.bytes),l},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(r,s){if(s===void 0&&(s={}),!!r){var o=this.playlist_,u=this.pendingSegment_;this.playlist_=r,this.xhrOptions_=s,this.state==="INIT"&&(r.syncInfo={mediaSequence:r.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(r));var l=null;if(o&&(o.id?l=o.id:o.uri&&(l=o.uri)),this.logger_("playlist update ["+l+" => "+(r.id||r.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!o||o.uri!==r.uri){this.mediaIndex!==null&&(r.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var c=r.mediaSequence-o.mediaSequence;if(this.logger_("live window shift ["+c+"]"),this.mediaIndex!==null)if(this.mediaIndex-=c,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var d=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!d.parts||!d.parts.length||!d.parts[this.partIndex])){var p=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=p}}u&&(u.mediaIndex-=c,u.mediaIndex<0?(u.mediaIndex=null,u.partIndex=null):(u.mediaIndex>=0&&(u.segment=r.segments[u.mediaIndex]),u.partIndex>=0&&u.segment.parts&&(u.part=u.segment.parts[u.partIndex]))),this.syncController_.saveExpiredSegmentInfo(o,r)}},i.pause=function(){this.checkBufferTimeout_&&(k.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return this.checkBufferTimeout_===null},i.resetEverything=function(r){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,r),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&Mc.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(r,s,o,u){if(o===void 0&&(o=function(){}),u===void 0&&(u=!1),s===1/0&&(s=this.duration_()),s<=r){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,c=function(){l--,l===0&&o()};(u||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(r,s,c)),(u||this.loaderType_==="main")&&(this.gopBuffer_=nM(this.gopBuffer_,r,s,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(r,s,c));for(var d in this.inbandTextTracks_)rs(r,s,this.inbandTextTracks_[d]);rs(r,s,this.segmentMetadataTrack_),c()},i.monitorBuffer_=function(){this.checkBufferTimeout_&&k.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=k.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&k.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=k.setTimeout(this.monitorBufferTick_.bind(this),sM)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var r=this.chooseNextRequest_();!r||(typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline})),this.loadSegment_(r))}},i.isEndOfStream_=function(r,s,o){if(r===void 0&&(r=this.mediaIndex),s===void 0&&(s=this.playlist_),o===void 0&&(o=this.partIndex),!s||!this.mediaSource_)return!1;var u=typeof r=="number"&&s.segments[r],l=r+1===s.segments.length,c=!u||!u.parts||o+1===u.parts.length;return s.endList&&this.mediaSource_.readyState==="open"&&l&&c},i.chooseNextRequest_=function(){var r=this.buffered_(),s=iv(r)||0,o=Eh(r,this.currentTime_()),u=!this.hasPlayed_()&&o>=1,l=o>=this.goalBufferLength_(),c=this.playlist_.segments;if(!c.length||u||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var d={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(d.isSyncRequest)d.mediaIndex=aM(this.currentTimeline_,c,s);else if(this.mediaIndex!==null){var p=c[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;d.startOfSegment=p.end?p.end:s,p.parts&&p.parts[f+1]?(d.mediaIndex=this.mediaIndex,d.partIndex=f+1):d.mediaIndex=this.mediaIndex+1}else{var y=tr.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?s:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),T=y.segmentIndex,x=y.startTime,S=y.partIndex;d.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+s:"currentTime "+this.currentTime_(),d.mediaIndex=T,d.startOfSegment=x,d.partIndex=S}var C=c[d.mediaIndex],A=C&&typeof d.partIndex=="number"&&C.parts&&C.parts[d.partIndex];if(!C||typeof d.partIndex=="number"&&!A)return null;if(typeof d.partIndex!="number"&&C.parts&&(d.partIndex=0,A=C.parts[0]),!o&&A&&!A.independent)if(d.partIndex===0){var j=c[d.mediaIndex-1],R=j.parts&&j.parts.length&&j.parts[j.parts.length-1];R&&R.independent&&(d.mediaIndex-=1,d.partIndex=j.parts.length-1,d.independent="previous segment")}else C.parts[d.partIndex-1].independent&&(d.partIndex-=1,d.independent="previous part");var O=this.mediaSource_&&this.mediaSource_.readyState==="ended";return d.mediaIndex>=c.length-1&&O&&!this.seeking_()?null:this.generateSegmentInfo_(d)},i.generateSegmentInfo_=function(r){var s=r.independent,o=r.playlist,u=r.mediaIndex,l=r.startOfSegment,c=r.isSyncRequest,d=r.partIndex,p=r.forceTimestampOffset,f=r.getMediaInfoForTime,y=o.segments[u],T=typeof d=="number"&&y.parts[d],x={requestId:"segment-loader-"+Math.random(),uri:T&&T.resolvedUri||y.resolvedUri,mediaIndex:u,partIndex:T?d:null,isSyncRequest:c,startOfSegment:l,playlist:o,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:y.timeline,duration:T&&T.duration||y.duration,segment:y,part:T,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:f,independent:s},S=typeof p<"u"?p:this.isPendingTimestampOffset_;x.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:y.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:S});var C=iv(this.sourceUpdater_.audioBuffered());return typeof C=="number"&&(x.audioAppendStart=C-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(x.gopsToAlignWith=tM(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),x},i.timestampOffsetForSegment_=function(r){return lM(r)},i.earlyAbortWhenNeeded_=function(r){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(r.firstBytesReceivedAt||Date.now())<1e3)){var s=this.currentTime_(),o=r.bandwidth,u=this.pendingSegment_.duration,l=tr.estimateSegmentRequestTime(u,o,this.playlist_,r.bytesReceived),c=ML(this.buffered_(),s,this.vhs_.tech_.playbackRate())-1;if(!(l<=c)){var d=zR({master:this.vhs_.playlists.master,currentTime:s,bandwidth:o,duration:this.duration_(),segmentDuration:u,timeUntilRebuffer:c,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!d){var p=l-c,f=p-d.rebufferingImpact,y=.5;c<=Vn&&(y=1),!(!d.playlist||d.playlist.uri===this.playlist_.uri||f<y)&&(this.bandwidth=d.playlist.attributes.BANDWIDTH*vt.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},i.handleAbort_=function(r){this.logger_("Aborting "+Hi(r)),this.mediaRequestsAborted+=1},i.handleProgress_=function(r,s){this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)&&this.trigger("progress")},i.handleTrackInfo_=function(r,s){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&(this.checkForIllegalMediaSwitch(s)||(s=s||{},iM(this.currentMediaInfo_,s)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=s,this.currentMediaInfo_=s,this.logger_("trackinfo update",s),this.trigger("trackinfo")),!this.checkForAbort_(r.requestId)&&(this.pendingSegment_.trackInfo=s,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},i.handleTimingInfo_=function(r,s,o,u){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var l=this.pendingSegment_,c=mv(s);l[c]=l[c]||{},l[c][o]=u,this.logger_("timinginfo: "+s+" - "+o+" - "+u),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(r,s){var o=this;if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(s.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var u=this.pendingSegment_;if(!u.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,r,s));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),c={};s.forEach(function(d){c[d.stream]=c[d.stream]||{startTime:1/0,captions:[],endTime:0};var p=c[d.stream];p.startTime=Math.min(p.startTime,d.startTime+l),p.endTime=Math.max(p.endTime,d.endTime+l),p.captions.push(d)}),Object.keys(c).forEach(function(d){var p=c[d],f=p.startTime,y=p.endTime,T=p.captions,x=o.inbandTextTracks_;o.logger_("adding cues from "+f+" -> "+y+" for "+d),XR(x,o.vhs_.tech_,d),rs(f,y,x[d]),YR({captionArray:T,inbandTextTracks:x,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},i.handleId3_=function(r,s,o){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var u=this.pendingSegment_;if(!u.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,r,s,o));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();ZR(this.inbandTextTracks_,o,this.vhs_.tech_),JR({inbandTextTracks:this.inbandTextTracks_,metadataArray:s,timestampOffset:l,videoDuration:this.duration_()})}},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(r){return r()}),this.metadataQueue_.caption.forEach(function(r){return r()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var r=this.callQueue_;this.callQueue_=[],r.forEach(function(s){return s()})},i.processLoadQueue_=function(){var r=this.loadQueue_;this.loadQueue_=[],r.forEach(function(s){return s()})},i.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var r=this.pendingSegment_;return r?this.getCurrentMediaInfo_()?!gv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},i.getCurrentMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),r&&r.trackInfo||this.currentMediaInfo_},i.getMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),this.getCurrentMediaInfo_(r)||this.startingMediaInfo_},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var r=this.pendingSegment_,s=this.getCurrentMediaInfo_();if(!r||!s)return!1;var o=s.hasAudio,u=s.hasVideo,l=s.isMuxed;return!(u&&!r.videoTimingInfo||o&&!this.audioDisabled_&&!l&&!r.audioTimingInfo||gv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.handleData_=function(r,s){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,r,s));return}var o=this.pendingSegment_;if(this.setTimeMapping_(o.timeline),this.updateMediaSecondsLoaded_(o.part||o.segment),this.mediaSource_.readyState!=="closed"){if(r.map&&(r.map=this.initSegmentForMap(r.map,!0),o.segment.map=r.map),r.key&&this.segmentKey(r.key,!0),o.isFmp4=r.isFmp4,o.timingInfo=o.timingInfo||{},o.isFmp4)this.trigger("fmp4"),o.timingInfo.start=o[mv(s.type)].start;else{var u=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&u&&u.hasVideo,c;l&&(c=o.videoTimingInfo.start),o.timingInfo.start=this.trueSegmentStart_({currentStart:o.timingInfo.start,playlist:o.playlist,mediaIndex:o.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:c,videoTimingInfo:o.videoTimingInfo,audioTimingInfo:o.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(o,s.type),this.updateSourceBufferTimestampOffset_(o),o.isSyncRequest){this.updateTimingInfoEnd_(o),this.syncController_.saveSegmentTimingInfo({segmentInfo:o,shouldSaveTimelineMapping:this.loaderType_==="main"});var d=this.chooseNextRequest_();if(d.mediaIndex!==o.mediaIndex||d.partIndex!==o.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}o.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(o,s)}}},i.updateAppendInitSegmentStatus=function(r,s){this.loaderType_==="main"&&typeof r.timestampOffset=="number"&&!r.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[s]!==r.playlist&&(this.appendInitSegment_[s]=!0)},i.getInitSegmentAndUpdateState_=function(r){var s=r.type,o=r.initSegment,u=r.map,l=r.playlist;if(u){var c=Lu(u);if(this.activeInitSegmentId_===c)return null;o=this.initSegmentForMap(u,!0).bytes,this.activeInitSegmentId_=c}return o&&this.appendInitSegment_[s]?(this.playlistOfLastInitSegment_[s]=l,this.appendInitSegment_[s]=!1,this.activeInitSegmentId_=null,o):null},i.handleQuotaExceededError_=function(r,s){var o=this,u=r.segmentInfo,l=r.type,c=r.bytes,d=this.sourceUpdater_.audioBuffered(),p=this.sourceUpdater_.videoBuffered();d.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+di(d).join(", ")),p.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+di(p).join(", "));var f=d.length?d.start(0):0,y=d.length?d.end(d.length-1):0,T=p.length?p.start(0):0,x=p.length?p.end(p.length-1):0;if(y-f<=Ka&&x-T<=Ka){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+c.byteLength+", ")+("audio buffer: "+di(d).join(", ")+", ")+("video buffer: "+di(p).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:u,type:l,bytes:c}));var S=this.currentTime_(),C=S-Ka;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+C),this.remove(0,C,function(){o.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Ka+"s"),o.waitingOnRemove_=!1,o.quotaExceededErrorRetryTimeout_=k.setTimeout(function(){o.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),o.quotaExceededErrorRetryTimeout_=null,o.processCallQueue_()},Ka*1e3)},!0)},i.handleAppendError_=function(r,s){var o=r.segmentInfo,u=r.type,l=r.bytes;if(!!s){if(s.code===db){this.handleQuotaExceededError_({segmentInfo:o,type:u,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error(u+" append of "+l.length+"b failed for segment "+("#"+o.mediaIndex+" in playlist "+o.playlist.id)),this.trigger("appenderror")}},i.appendToSourceBuffer_=function(r){var s=r.segmentInfo,o=r.type,u=r.initSegment,l=r.data,c=r.bytes;if(!c){var d=[l],p=l.byteLength;u&&(d.unshift(u),p+=u.byteLength),c=KR({bytes:p,segments:d})}this.sourceUpdater_.appendBuffer({segmentInfo:s,type:o,bytes:c},this.handleAppendError_.bind(this,{segmentInfo:s,type:o,bytes:c}))},i.handleSegmentTimingInfo_=function(r,s,o){if(!(!this.pendingSegment_||s!==this.pendingSegment_.requestId)){var u=this.pendingSegment_.segment,l=r+"TimingInfo";u[l]||(u[l]={}),u[l].transmuxerPrependedSeconds=o.prependedContentDuration||0,u[l].transmuxedPresentationStart=o.start.presentation,u[l].transmuxedDecodeStart=o.start.decode,u[l].transmuxedPresentationEnd=o.end.presentation,u[l].transmuxedDecodeEnd=o.end.decode,u[l].baseMediaDecodeTime=o.baseMediaDecodeTime}},i.appendData_=function(r,s){var o=s.type,u=s.data;if(!(!u||!u.byteLength)&&!(o==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:o,initSegment:s.initSegment,playlist:r.playlist,map:r.isFmp4?r.segment.map:null});this.appendToSourceBuffer_({segmentInfo:r,type:o,initSegment:l,data:u})}},i.loadSegment_=function(r){var s=this;if(this.state="WAITING",this.pendingSegment_=r,this.trimBackBuffer_(r),typeof r.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var o=br({},r,{forceTimestampOffset:!0});br(r,s.generateSegmentInfo_(o)),s.isPendingTimestampOffset_=!1,s.updateTransmuxerAndRequestSegment_(r)});return}this.updateTransmuxerAndRequestSegment_(r)},i.updateTransmuxerAndRequestSegment_=function(r){var s=this;this.shouldUpdateTransmuxerTimestampOffset_(r.timestampOffset)&&(this.gopBuffer_.length=0,r.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:r.timestampOffset}));var o=this.createSimplifiedSegmentObj_(r),u=this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex),l=this.mediaIndex!==null,c=r.timeline!==this.currentTimeline_&&r.timeline>0,d=u||l&&c;this.logger_("Requesting "+Hi(r)),o.map&&!o.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),r.abortRequests=jR({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:o,abortFn:this.handleAbort_.bind(this,r),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",r.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",r.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:d,endedTimelineFn:function(){s.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(f){var y=f.message,T=f.level,x=f.stream;s.logger_(Hi(r)+" logged from transmuxer stream "+x+" as a "+T+": "+y)}})},i.trimBackBuffer_=function(r){var s=uM(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);s>0&&this.remove(0,s)},i.createSimplifiedSegmentObj_=function(r){var s=r.segment,o=r.part,u={resolvedUri:o?o.resolvedUri:s.resolvedUri,byterange:o?o.byterange:s.byterange,requestId:r.requestId,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,part:r.part},l=r.playlist.segments[r.mediaIndex-1];if(l&&l.timeline===s.timeline&&(l.videoTimingInfo?u.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(u.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),s.key){var c=s.key.iv||new Uint32Array([0,0,0,r.mediaIndex+r.playlist.mediaSequence]);u.key=this.segmentKey(s.key),u.key.iv=c}return s.map&&(u.map=this.initSegmentForMap(s.map)),u},i.saveTransferStats_=function(r){this.mediaRequests+=1,r&&(this.mediaBytesTransferred+=r.bytesReceived,this.mediaTransferDuration+=r.roundTripTime)},i.saveBandwidthRelatedStats_=function(r,s){if(this.pendingSegment_.byteLength=s.bytesReceived,r<Vo){this.logger_("Ignoring segment's bandwidth because its duration of "+r+(" is less than the min to record "+Vo));return}this.bandwidth=s.bandwidth,this.roundTrip=s.roundTripTime},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},i.segmentRequestFinished_=function(r,s,o){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,r,s,o));return}if(this.saveTransferStats_(s.stats),!!this.pendingSegment_&&s.requestId===this.pendingSegment_.requestId){if(r){if(this.pendingSegment_=null,this.state="READY",r.code===Xr.ABORTED)return;if(this.pause(),r.code===Xr.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(r),this.trigger("error");return}var u=this.pendingSegment_;this.saveBandwidthRelatedStats_(u.duration,s.stats),u.endOfAllRequests=s.endOfAllRequests,o.gopInfo&&(this.gopBuffer_=rM(this.gopBuffer_,o.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(u)}},i.setTimeMapping_=function(r){var s=this.syncController_.mappingForTimeline(r);s!==null&&(this.timeMapping_=s)},i.updateMediaSecondsLoaded_=function(r){typeof r.start=="number"&&typeof r.end=="number"?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(r){return r===null?!1:this.loaderType_==="main"&&r!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&r!==this.sourceUpdater_.audioTimestampOffset()},i.trueSegmentStart_=function(r){var s=r.currentStart,o=r.playlist,u=r.mediaIndex,l=r.firstVideoFrameTimeForData,c=r.currentVideoTimestampOffset,d=r.useVideoTimingInfo,p=r.videoTimingInfo,f=r.audioTimingInfo;if(typeof s<"u")return s;if(!d)return f.start;var y=o.segments[u-1];return u===0||!y||typeof y.start>"u"||y.end!==l+c?l:p.start},i.waitForAppendsToComplete_=function(r){var s=this.getCurrentMediaInfo_(r);if(!s){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var o=s.hasAudio,u=s.hasVideo,l=s.isMuxed,c=this.loaderType_==="main"&&u,d=!this.audioDisabled_&&o&&!l;if(r.waitingOnAppends=0,!r.hasAppendedData_){!r.timingInfo&&typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),r.timingInfo={start:0},r.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(r),this.processMetadataQueue_()),this.checkAppendsDone_(r);return}c&&r.waitingOnAppends++,d&&r.waitingOnAppends++,c&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,r)),d&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,r))},i.checkAppendsDone_=function(r){this.checkForAbort_(r.requestId)||(r.waitingOnAppends--,r.waitingOnAppends===0&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(r){var s=oM(this.loaderType_,this.getCurrentMediaInfo_(),r);return s?(this.error({message:s,blacklistDuration:1/0}),this.trigger("error"),!0):!1},i.updateSourceBufferTimestampOffset_=function(r){if(!(r.timestampOffset===null||typeof r.timingInfo.start!="number"||r.changedTimestampOffset||this.loaderType_!=="main")){var s=!1;r.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:r.segment.videoTimingInfo,audioTimingInfo:r.segment.audioTimingInfo,timingInfo:r.timingInfo}),r.changedTimestampOffset=!0,r.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(r.timestampOffset),s=!0),r.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(r.timestampOffset),s=!0),s&&this.trigger("timestampoffset")}},i.getSegmentStartTimeForTimestampOffsetCalculation_=function(r){var s=r.videoTimingInfo,o=r.audioTimingInfo,u=r.timingInfo;return this.useDtsForTimestampOffset_?s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:o&&typeof o.transmuxedDecodeStart=="number"?o.transmuxedDecodeStart:u.start:u.start},i.updateTimingInfoEnd_=function(r){r.timingInfo=r.timingInfo||{};var s=this.getMediaInfo_(),o=this.loaderType_==="main"&&s&&s.hasVideo,u=o&&r.videoTimingInfo?r.videoTimingInfo:r.audioTimingInfo;!u||(r.timingInfo.end=typeof u.end=="number"?u.end:u.start+r.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var r=this.pendingSegment_;this.updateTimingInfoEnd_(r),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});var s=dM(r,this.sourceType_);if(s&&(s.severity==="warn"?B.log.warn(s.message):this.logger_(s.message)),this.recordThroughput_(r),this.pendingSegment_=null,this.state="READY",r.isSyncRequest&&(this.trigger("syncinfoupdate"),!r.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Hi(r));return}this.logger_("Appended "+Hi(r)),this.addSegmentMetadataCue_(r),this.fetchAtBuffer_=!0,this.currentTimeline_!==r.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:r.timeline})),this.currentTimeline_=r.timeline,this.trigger("syncinfoupdate");var o=r.segment,u=r.part,l=o.end&&this.currentTime_()-o.end>r.playlist.targetDuration*3,c=u&&u.end&&this.currentTime_()-u.end>r.playlist.partTargetDuration*3;if(l||c){this.logger_("bad "+(l?"segment":"part")+" "+Hi(r)),this.resetEverything();return}var d=this.mediaIndex!==null;d&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=r.mediaIndex,this.partIndex=r.partIndex,this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex)&&this.endOfStream(),this.trigger("appended"),r.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},i.recordThroughput_=function(r){if(r.duration<Vo){this.logger_("Ignoring segment's throughput because its duration of "+r.duration+(" is less than the min to record "+Vo));return}var s=this.throughput.rate,o=Date.now()-r.endOfAllRequests+1,u=Math.floor(r.byteLength/o*8*1e3);this.throughput.rate+=(u-s)/++this.throughput.count},i.addSegmentMetadataCue_=function(r){if(!!this.segmentMetadataTrack_){var s=r.segment,o=s.start,u=s.end;if(!(!pv(o)||!pv(u))){rs(o,u,this.segmentMetadataTrack_);var l=k.WebKitDataCue||k.VTTCue,c={custom:s.custom,dateTimeObject:s.dateTimeObject,dateTimeString:s.dateTimeString,bandwidth:r.playlist.attributes.BANDWIDTH,resolution:r.playlist.attributes.RESOLUTION,codecs:r.playlist.attributes.CODECS,byteLength:r.byteLength,uri:r.uri,timeline:r.timeline,playlist:r.playlist.id,start:o,end:u},d=JSON.stringify(c),p=new l(o,u,d);p.value=c,this.segmentMetadataTrack_.addCue(p)}}},t}(B.EventTarget);function ln(){}var fb=function(t){return typeof t!="string"?t:t.replace(/./,function(i){return i.toUpperCase()})},fM=["video","audio"],Fd=function(t,i){var a=i[t+"Buffer"];return a&&a.updating||i.queuePending[t]},hM=function(t,i){for(var a=0;a<i.length;a++){var r=i[a];if(r.type==="mediaSource")return null;if(r.type===t)return a}return null},Oh=function n(t,i){if(i.queue.length!==0){var a=0,r=i.queue[a];if(r.type==="mediaSource"){!i.updating()&&i.mediaSource.readyState!=="closed"&&(i.queue.shift(),r.action(i),r.doneFn&&r.doneFn(),n("audio",i),n("video",i));return}if(t!=="mediaSource"&&!(!i.ready()||i.mediaSource.readyState==="closed"||Fd(t,i))){if(r.type!==t){if(a=hM(t,i.queue),a===null)return;r=i.queue[a]}if(i.queue.splice(a,1),i.queuePending[t]=r,r.action(t,i),!r.doneFn){i.queuePending[t]=null,n(t,i);return}}}},hb=function(t,i){var a=i[t+"Buffer"],r=fb(t);!a||(a.removeEventListener("updateend",i["on"+r+"UpdateEnd_"]),a.removeEventListener("error",i["on"+r+"Error_"]),i.codecs[t]=null,i[t+"Buffer"]=null)},zr=function(t,i){return t&&i&&Array.prototype.indexOf.call(t.sourceBuffers,i)!==-1},ur={appendBuffer:function(t,i,a){return function(r,s){var o=s[r+"Buffer"];if(!!zr(s.mediaSource,o)){s.logger_("Appending segment "+i.mediaIndex+"'s "+t.length+" bytes to "+r+"Buffer");try{o.appendBuffer(t)}catch(u){s.logger_("Error with code "+u.code+" "+(u.code===db?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+i.mediaIndex+" to "+r+"Buffer")),s.queuePending[r]=null,a(u)}}}},remove:function(t,i){return function(a,r){var s=r[a+"Buffer"];if(!!zr(r.mediaSource,s)){r.logger_("Removing "+t+" to "+i+" from "+a+"Buffer");try{s.remove(t,i)}catch{r.logger_("Remove "+t+" to "+i+" from "+a+"Buffer failed")}}}},timestampOffset:function(t){return function(i,a){var r=a[i+"Buffer"];!zr(a.mediaSource,r)||(a.logger_("Setting "+i+"timestampOffset to "+t),r.timestampOffset=t)}},callback:function(t){return function(i,a){t()}},endOfStream:function(t){return function(i){if(i.mediaSource.readyState==="open"){i.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{i.mediaSource.endOfStream(t)}catch(a){B.log.warn("Failed to call media source endOfStream",a)}}}},duration:function(t){return function(i){i.logger_("Setting mediaSource duration to "+t);try{i.mediaSource.duration=t}catch(a){B.log.warn("Failed to set media source duration",a)}}},abort:function(){return function(t,i){if(i.mediaSource.readyState==="open"){var a=i[t+"Buffer"];if(!!zr(i.mediaSource,a)){i.logger_("calling abort on "+t+"Buffer");try{a.abort()}catch(r){B.log.warn("Failed to abort on "+t+"Buffer",r)}}}}},addSourceBuffer:function(t,i){return function(a){var r=fb(t),s=As(i);a.logger_("Adding "+t+"Buffer with codec "+i+" to mediaSource");var o=a.mediaSource.addSourceBuffer(s);o.addEventListener("updateend",a["on"+r+"UpdateEnd_"]),o.addEventListener("error",a["on"+r+"Error_"]),a.codecs[t]=i,a[t+"Buffer"]=o}},removeSourceBuffer:function(t){return function(i){var a=i[t+"Buffer"];if(hb(t,i),!!zr(i.mediaSource,a)){i.logger_("Removing "+t+"Buffer with codec "+i.codecs[t]+" from mediaSource");try{i.mediaSource.removeSourceBuffer(a)}catch(r){B.log.warn("Failed to removeSourceBuffer "+t+"Buffer",r)}}}},changeType:function(t){return function(i,a){var r=a[i+"Buffer"],s=As(t);!zr(a.mediaSource,r)||a.codecs[i]!==t&&(a.logger_("changing "+i+"Buffer codec from "+a.codecs[i]+" to "+t),r.changeType(s),a.codecs[i]=t)}}},lr=function(t){var i=t.type,a=t.sourceUpdater,r=t.action,s=t.doneFn,o=t.name;a.queue.push({type:i,action:r,doneFn:s,name:o}),Oh(i,a)},yv=function(t,i){return function(a){if(i.queuePending[t]){var r=i.queuePending[t].doneFn;i.queuePending[t]=null,r&&r(i[t+"Error_"])}Oh(t,i)}},pb=function(n){le(t,n);function t(a){var r;return r=n.call(this)||this,r.mediaSource=a,r.sourceopenListener_=function(){return Oh("mediaSource",Ce(r))},r.mediaSource.addEventListener("sourceopen",r.sourceopenListener_),r.logger_=jr("SourceUpdater"),r.audioTimestampOffset_=0,r.videoTimestampOffset_=0,r.queue=[],r.queuePending={audio:null,video:null},r.delayedAudioAppendQueue_=[],r.videoAppendQueued_=!1,r.codecs={},r.onVideoUpdateEnd_=yv("video",Ce(r)),r.onAudioUpdateEnd_=yv("audio",Ce(r)),r.onVideoError_=function(s){r.videoError_=s},r.onAudioError_=function(s){r.audioError_=s},r.createdSourceBuffers_=!1,r.initializedEme_=!1,r.triggeredReady_=!1,r}var i=t.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(r){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(r),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},i.addSourceBuffer=function(r,s){lr({type:"mediaSource",sourceUpdater:this,action:ur.addSourceBuffer(r,s),name:"addSourceBuffer"})},i.abort=function(r){lr({type:r,sourceUpdater:this,action:ur.abort(r),name:"abort"})},i.removeSourceBuffer=function(r){if(!this.canRemoveSourceBuffer()){B.log.error("removeSourceBuffer is not supported!");return}lr({type:"mediaSource",sourceUpdater:this,action:ur.removeSourceBuffer(r),name:"removeSourceBuffer"})},i.canRemoveSourceBuffer=function(){return!B.browser.IE_VERSION&&!B.browser.IS_FIREFOX&&k.MediaSource&&k.MediaSource.prototype&&typeof k.MediaSource.prototype.removeSourceBuffer=="function"},t.canChangeType=function(){return k.SourceBuffer&&k.SourceBuffer.prototype&&typeof k.SourceBuffer.prototype.changeType=="function"},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(r,s){if(!this.canChangeType()){B.log.error("changeType is not supported!");return}lr({type:r,sourceUpdater:this,action:ur.changeType(s),name:"changeType"})},i.addOrChangeSourceBuffers=function(r){var s=this;if(!r||typeof r!="object"||Object.keys(r).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(r).forEach(function(o){var u=r[o];if(!s.hasCreatedSourceBuffers())return s.addSourceBuffer(o,u);s.canChangeType()&&s.changeType(o,u)})},i.appendBuffer=function(r,s){var o=this,u=r.segmentInfo,l=r.type,c=r.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([r,s]),this.logger_("delayed audio append of "+c.length+" until video append");return}var d=s;if(lr({type:l,sourceUpdater:this,action:ur.appendBuffer(c,u||{mediaIndex:-1},d),doneFn:s,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var p=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+p.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,p.forEach(function(f){o.appendBuffer.apply(o,f)})}},i.audioBuffered=function(){return zr(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:B.createTimeRange()},i.videoBuffered=function(){return zr(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:B.createTimeRange()},i.buffered=function(){var r=zr(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,s=zr(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return s&&!r?this.audioBuffered():r&&!s?this.videoBuffered():RL(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(r,s){s===void 0&&(s=ln),lr({type:"mediaSource",sourceUpdater:this,action:ur.duration(r),name:"duration",doneFn:s})},i.endOfStream=function(r,s){r===void 0&&(r=null),s===void 0&&(s=ln),typeof r!="string"&&(r=void 0),lr({type:"mediaSource",sourceUpdater:this,action:ur.endOfStream(r),name:"endOfStream",doneFn:s})},i.removeAudio=function(r,s,o){if(o===void 0&&(o=ln),!this.audioBuffered().length||this.audioBuffered().end(0)===0){o();return}lr({type:"audio",sourceUpdater:this,action:ur.remove(r,s),doneFn:o,name:"remove"})},i.removeVideo=function(r,s,o){if(o===void 0&&(o=ln),!this.videoBuffered().length||this.videoBuffered().end(0)===0){o();return}lr({type:"video",sourceUpdater:this,action:ur.remove(r,s),doneFn:o,name:"remove"})},i.updating=function(){return!!(Fd("audio",this)||Fd("video",this))},i.audioTimestampOffset=function(r){return typeof r<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==r&&(lr({type:"audio",sourceUpdater:this,action:ur.timestampOffset(r),name:"timestampOffset"}),this.audioTimestampOffset_=r),this.audioTimestampOffset_},i.videoTimestampOffset=function(r){return typeof r<"u"&&this.videoBuffer&&this.videoTimestampOffset!==r&&(lr({type:"video",sourceUpdater:this,action:ur.timestampOffset(r),name:"timestampOffset"}),this.videoTimestampOffset_=r),this.videoTimestampOffset_},i.audioQueueCallback=function(r){!this.audioBuffer||lr({type:"audio",sourceUpdater:this,action:ur.callback(r),name:"callback"})},i.videoQueueCallback=function(r){!this.videoBuffer||lr({type:"video",sourceUpdater:this,action:ur.callback(r),name:"callback"})},i.dispose=function(){var r=this;this.trigger("dispose"),fM.forEach(function(s){r.abort(s),r.canRemoveSourceBuffer()?r.removeSourceBuffer(s):r[s+"QueueCallback"](function(){return hb(s,r)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(B.EventTarget),_v=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},Tv=new Uint8Array(`

`.split("").map(function(n){return n.charCodeAt(0)})),pM=function(n){le(t,n);function t(a,r){var s;return r===void 0&&(r={}),s=n.call(this,a,r)||this,s.mediaSource_=null,s.subtitlesTrack_=null,s.loaderType_="subtitle",s.featuresNativeTextTracks_=a.featuresNativeTextTracks,s.shouldSaveSegmentTimingInfo_=!1,s}var i=t.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return B.createTimeRanges();var r=this.subtitlesTrack_.cues,s=r[0].startTime,o=r[r.length-1].startTime;return B.createTimeRanges([[s,o]])},i.initSegmentForMap=function(r,s){if(s===void 0&&(s=!1),!r)return null;var o=Lu(r),u=this.initSegments_[o];if(s&&!u&&r.bytes){var l=Tv.byteLength+r.bytes.byteLength,c=new Uint8Array(l);c.set(r.bytes),c.set(Tv,r.bytes.byteLength),this.initSegments_[o]=u={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:c}}return u||r},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(r){return typeof r>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=r,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},i.remove=function(r,s){rs(r,s,this.subtitlesTrack_)},i.fillBuffer_=function(){var r=this,s=this.chooseNextRequest_();if(!!s){if(this.syncController_.timestampOffsetForTimeline(s.timeline)===null){var o=function(){r.state="READY",r.paused()||r.monitorBuffer_()};this.syncController_.one("timestampoffset",o),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(s)}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextRequest_=function(){return this.skipEmptySegments_(n.prototype.chooseNextRequest_.call(this))},i.skipEmptySegments_=function(r){for(;r&&r.segment.empty;){if(r.mediaIndex+1>=r.playlist.segments.length){r=null;break}r=this.generateSegmentInfo_({playlist:r.playlist,mediaIndex:r.mediaIndex+1,startOfSegment:r.startOfSegment+r.duration,isSyncRequest:r.isSyncRequest})}return r},i.stopForError=function(r){this.error(r),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(r,s,o){var u=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(s.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(r){r.code===Xr.TIMEOUT&&this.handleTimeout_(),r.code===Xr.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(r);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,s.stats),this.state="APPENDING",this.trigger("appending");var c=l.segment;if(c.map&&(c.map.bytes=s.map.bytes),l.bytes=s.bytes,typeof k.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var d,p=function(){u.subtitlesTrack_.tech_.off("vttjsloaded",d),u.stopForError({message:"Error loading vtt.js"})};d=function(){u.subtitlesTrack_.tech_.off("vttjserror",p),u.segmentRequestFinished_(r,s,o)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",d),this.subtitlesTrack_.tech_.one("vttjserror",p);return}c.requested=!0;try{this.parseVTTCues_(l)}catch(f){this.stopForError({message:f.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=c.duration,l.cues.forEach(function(f){u.subtitlesTrack_.addCue(u.featuresNativeTextTracks_?new k.VTTCue(f.startTime,f.endTime,f.text):f)}),eM(this.subtitlesTrack_),this.handleAppendsDone_()},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(r){var s,o=!1;typeof k.TextDecoder=="function"?s=new k.TextDecoder("utf8"):(s=k.WebVTT.StringDecoder(),o=!0);var u=new k.WebVTT.Parser(k,k.vttjs,s);if(r.cues=[],r.timestampmap={MPEGTS:0,LOCAL:0},u.oncue=r.cues.push.bind(r.cues),u.ontimestampmap=function(d){r.timestampmap=d},u.onparsingerror=function(d){B.log.warn("Error encountered when parsing cues: "+d.message)},r.segment.map){var l=r.segment.map.bytes;o&&(l=_v(l)),u.parse(l)}var c=r.bytes;o&&(c=_v(c)),u.parse(c),u.flush()},i.updateTimeMapping_=function(r,s,o){var u=r.segment;if(!!s){if(!r.cues.length){u.empty=!0;return}var l=r.timestampmap,c=l.MPEGTS/bu.ONE_SECOND_IN_TS-l.LOCAL+s.mapping;if(r.cues.forEach(function(f){f.startTime+=c,f.endTime+=c}),!o.syncInfo){var d=r.cues[0].startTime,p=r.cues[r.cues.length-1].startTime;o.syncInfo={mediaSequence:o.mediaSequence+r.mediaIndex,time:Math.min(d,p-u.duration)}}}},t}(Md),mM=function(t,i){for(var a=t.cues,r=0;r<a.length;r++){var s=a[r];if(i>=s.adStartTime&&i<=s.adEndTime)return s}return null},gM=function(t,i,a){if(a===void 0&&(a=0),!!t.segments)for(var r=a,s,o=0;o<t.segments.length;o++){var u=t.segments[o];if(s||(s=mM(i,r+u.duration/2)),s){if("cueIn"in u){s.endTime=r,s.adEndTime=r,r+=u.duration,s=null;continue}if(r<s.endTime){r+=u.duration;continue}s.endTime+=u.duration}else if("cueOut"in u&&(s=new k.VTTCue(r,r+u.duration,u.cueOut),s.adStartTime=r,s.adEndTime=r+parseFloat(u.cueOut),i.addCue(s)),"cueOutCont"in u){var l=u.cueOutCont.split("/").map(parseFloat),c=l[0],d=l[1];s=new k.VTTCue(r,r+u.duration,""),s.adStartTime=r-c,s.adEndTime=s.adStartTime+d,i.addCue(s)}r+=u.duration}},vM=86400,bv=[{name:"VOD",run:function(t,i,a,r,s){if(a!==1/0){var o={time:0,segmentIndex:0,partIndex:null};return o}return null}},{name:"ProgramDateTime",run:function(t,i,a,r,s){if(!Object.keys(t.timelineToDatetimeMappings).length)return null;var o=null,u=null,l=Pd(i);s=s||0;for(var c=0;c<l.length;c++){var d=i.endList||s===0?c:l.length-(c+1),p=l[d],f=p.segment,y=t.timelineToDatetimeMappings[f.timeline];if(!(!y||!f.dateTimeObject)){var T=f.dateTimeObject.getTime()/1e3,x=T+y;if(f.parts&&typeof p.partIndex=="number")for(var S=0;S<p.partIndex;S++)x+=f.parts[S].duration;var C=Math.abs(s-x);if(u!==null&&(C===0||u<C))break;u=C,o={time:x,segmentIndex:p.segmentIndex,partIndex:p.partIndex}}}return o}},{name:"Segment",run:function(t,i,a,r,s){var o=null,u=null;s=s||0;for(var l=Pd(i),c=0;c<l.length;c++){var d=i.endList||s===0?c:l.length-(c+1),p=l[d],f=p.segment,y=p.part&&p.part.start||f&&f.start;if(f.timeline===r&&typeof y<"u"){var T=Math.abs(s-y);if(u!==null&&u<T)break;(!o||u===null||u>=T)&&(u=T,o={time:y,segmentIndex:p.segmentIndex,partIndex:p.partIndex})}}return o}},{name:"Discontinuity",run:function(t,i,a,r,s){var o=null;if(s=s||0,i.discontinuityStarts&&i.discontinuityStarts.length)for(var u=null,l=0;l<i.discontinuityStarts.length;l++){var c=i.discontinuityStarts[l],d=i.discontinuitySequence+l+1,p=t.discontinuities[d];if(p){var f=Math.abs(s-p.time);if(u!==null&&u<f)break;(!o||u===null||u>=f)&&(u=f,o={time:p.time,segmentIndex:c,partIndex:null})}}return o}},{name:"Playlist",run:function(t,i,a,r,s){if(i.syncInfo){var o={time:i.syncInfo.time,segmentIndex:i.syncInfo.mediaSequence-i.mediaSequence,partIndex:null};return o}return null}}],yM=function(n){le(t,n);function t(a){var r;return r=n.call(this)||this,r.timelines=[],r.discontinuities=[],r.timelineToDatetimeMappings={},r.logger_=jr("SyncController"),r}var i=t.prototype;return i.getSyncPoint=function(r,s,o,u){var l=this.runStrategies_(r,s,o,u);return l.length?this.selectSyncPoint_(l,{key:"time",value:u}):null},i.getExpiredTime=function(r,s){if(!r||!r.segments)return null;var o=this.runStrategies_(r,s,r.discontinuitySequence,0);if(!o.length)return null;var u=this.selectSyncPoint_(o,{key:"segmentIndex",value:0});return u.segmentIndex>0&&(u.time*=-1),Math.abs(u.time+ps({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:u.segmentIndex,endIndex:0}))},i.runStrategies_=function(r,s,o,u){for(var l=[],c=0;c<bv.length;c++){var d=bv[c],p=d.run(this,r,s,o,u);p&&(p.strategy=d.name,l.push({strategy:d.name,syncPoint:p}))}return l},i.selectSyncPoint_=function(r,s){for(var o=r[0].syncPoint,u=Math.abs(r[0].syncPoint[s.key]-s.value),l=r[0].strategy,c=1;c<r.length;c++){var d=Math.abs(r[c].syncPoint[s.key]-s.value);d<u&&(u=d,o=r[c].syncPoint,l=r[c].strategy)}return this.logger_("syncPoint for ["+s.key+": "+s.value+"] chosen with strategy"+(" ["+l+"]: [time:"+o.time+",")+(" segmentIndex:"+o.segmentIndex)+(typeof o.partIndex=="number"?",partIndex:"+o.partIndex:"")+"]"),o},i.saveExpiredSegmentInfo=function(r,s){var o=s.mediaSequence-r.mediaSequence;if(o>vM){B.log.warn("Not saving expired segment info. Media sequence gap "+o+" is too large.");return}for(var u=o-1;u>=0;u--){var l=r.segments[u];if(l&&typeof l.start<"u"){s.syncInfo={mediaSequence:r.mediaSequence+u,time:l.start},this.logger_("playlist refresh sync: [time:"+s.syncInfo.time+","+(" mediaSequence: "+s.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForStart=function(r){if(this.timelineToDatetimeMappings={},r.segments&&r.segments.length&&r.segments[0].dateTimeObject){var s=r.segments[0],o=s.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[s.timeline]=-o}},i.saveSegmentTimingInfo=function(r){var s=r.segmentInfo,o=r.shouldSaveTimelineMapping,u=this.calculateSegmentTimeMapping_(s,s.timingInfo,o),l=s.segment;u&&(this.saveDiscontinuitySyncInfo_(s),s.playlist.syncInfo||(s.playlist.syncInfo={mediaSequence:s.playlist.mediaSequence+s.mediaIndex,time:l.start}));var c=l.dateTimeObject;l.discontinuity&&o&&c&&(this.timelineToDatetimeMappings[l.timeline]=-(c.getTime()/1e3))},i.timestampOffsetForTimeline=function(r){return typeof this.timelines[r]>"u"?null:this.timelines[r].time},i.mappingForTimeline=function(r){return typeof this.timelines[r]>"u"?null:this.timelines[r].mapping},i.calculateSegmentTimeMapping_=function(r,s,o){var u=r.segment,l=r.part,c=this.timelines[r.timeline],d,p;if(typeof r.timestampOffset=="number")c={time:r.startOfSegment,mapping:r.startOfSegment-s.start},o&&(this.timelines[r.timeline]=c,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+r.timeline+": "+("[time: "+c.time+"] [mapping: "+c.mapping+"]"))),d=r.startOfSegment,p=s.end+c.mapping;else if(c)d=s.start+c.mapping,p=s.end+c.mapping;else return!1;return l&&(l.start=d,l.end=p),(!u.start||d<u.start)&&(u.start=d),u.end=p,!0},i.saveDiscontinuitySyncInfo_=function(r){var s=r.playlist,o=r.segment;if(o.discontinuity)this.discontinuities[o.timeline]={time:o.start,accuracy:0};else if(s.discontinuityStarts&&s.discontinuityStarts.length)for(var u=0;u<s.discontinuityStarts.length;u++){var l=s.discontinuityStarts[u],c=s.discontinuitySequence+u+1,d=l-r.mediaIndex,p=Math.abs(d);if(!this.discontinuities[c]||this.discontinuities[c].accuracy>p){var f=void 0;d<0?f=o.start-ps({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:r.mediaIndex,endIndex:l}):f=o.end+ps({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:r.mediaIndex+1,endIndex:l}),this.discontinuities[c]={time:f,accuracy:p}}}},i.dispose=function(){this.trigger("dispose"),this.off()},t}(B.EventTarget),_M=function(n){le(t,n);function t(){var a;return a=n.call(this)||this,a.pendingTimelineChanges_={},a.lastTimelineChanges_={},a}var i=t.prototype;return i.clearPendingTimelineChange=function(r){this.pendingTimelineChanges_[r]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(r){var s=r.type,o=r.from,u=r.to;return typeof o=="number"&&typeof u=="number"&&(this.pendingTimelineChanges_[s]={type:s,from:o,to:u},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[s]},i.lastTimelineChange=function(r){var s=r.type,o=r.from,u=r.to;return typeof o=="number"&&typeof u=="number"&&(this.lastTimelineChanges_[s]={type:s,from:o,to:u},delete this.pendingTimelineChanges_[s],this.trigger("timelinechange")),this.lastTimelineChanges_[s]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(B.EventTarget),TM=eb(tb(function(){var n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t(R,O,W){return W={path:O,exports:{},require:function(U,H){return i(U,H==null?W.path:H)}},R(W,W.exports),W.exports}function i(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var a=t(function(R){function O(q,U){for(var H=0;H<U.length;H++){var V=U[H];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(q,V.key,V)}}function W(q,U,H){return U&&O(q.prototype,U),H&&O(q,H),q}R.exports=W,R.exports.default=R.exports,R.exports.__esModule=!0}),r=t(function(R){function O(W,q){return R.exports=O=Object.setPrototypeOf||function(H,V){return H.__proto__=V,H},R.exports.default=R.exports,R.exports.__esModule=!0,O(W,q)}R.exports=O,R.exports.default=R.exports,R.exports.__esModule=!0}),s=t(function(R){function O(W,q){W.prototype=Object.create(q.prototype),W.prototype.constructor=W,r(W,q)}R.exports=O,R.exports.default=R.exports,R.exports.__esModule=!0}),o=function(){function R(){this.listeners={}}var O=R.prototype;return O.on=function(q,U){this.listeners[q]||(this.listeners[q]=[]),this.listeners[q].push(U)},O.off=function(q,U){if(!this.listeners[q])return!1;var H=this.listeners[q].indexOf(U);return this.listeners[q]=this.listeners[q].slice(0),this.listeners[q].splice(H,1),H>-1},O.trigger=function(q){var U=this.listeners[q];if(!!U)if(arguments.length===2)for(var H=U.length,V=0;V<H;++V)U[V].call(this,arguments[1]);else for(var X=Array.prototype.slice.call(arguments,1),$=U.length,ee=0;ee<$;++ee)U[ee].apply(this,X)},O.dispose=function(){this.listeners={}},O.pipe=function(q){this.on("data",function(U){q.push(U)})},R}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function u(R){return R.subarray(0,R.byteLength-R[R.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var l=function(){var O=[[[],[],[],[],[]],[[],[],[],[],[]]],W=O[0],q=O[1],U=W[4],H=q[4],V,X,$,ee=[],pe=[],xe,de,ge,Te,Be,Re;for(V=0;V<256;V++)pe[(ee[V]=V<<1^(V>>7)*283)^V]=V;for(X=$=0;!U[X];X^=xe||1,$=pe[$]||1)for(Te=$^$<<1^$<<2^$<<3^$<<4,Te=Te>>8^Te&255^99,U[X]=Te,H[Te]=X,ge=ee[de=ee[xe=ee[X]]],Re=ge*16843009^de*65537^xe*257^X*16843008,Be=ee[Te]*257^Te*16843008,V=0;V<4;V++)W[V][X]=Be=Be<<24^Be>>>8,q[V][Te]=Re=Re<<24^Re>>>8;for(V=0;V<5;V++)W[V]=W[V].slice(0),q[V]=q[V].slice(0);return O},c=null,d=function(){function R(W){c||(c=l()),this._tables=[[c[0][0].slice(),c[0][1].slice(),c[0][2].slice(),c[0][3].slice(),c[0][4].slice()],[c[1][0].slice(),c[1][1].slice(),c[1][2].slice(),c[1][3].slice(),c[1][4].slice()]];var q,U,H,V=this._tables[0][4],X=this._tables[1],$=W.length,ee=1;if($!==4&&$!==6&&$!==8)throw new Error("Invalid aes key size");var pe=W.slice(0),xe=[];for(this._key=[pe,xe],q=$;q<4*$+28;q++)H=pe[q-1],(q%$===0||$===8&&q%$===4)&&(H=V[H>>>24]<<24^V[H>>16&255]<<16^V[H>>8&255]<<8^V[H&255],q%$===0&&(H=H<<8^H>>>24^ee<<24,ee=ee<<1^(ee>>7)*283)),pe[q]=pe[q-$]^H;for(U=0;q;U++,q--)H=pe[U&3?q:q-4],q<=4||U<4?xe[U]=H:xe[U]=X[0][V[H>>>24]]^X[1][V[H>>16&255]]^X[2][V[H>>8&255]]^X[3][V[H&255]]}var O=R.prototype;return O.decrypt=function(q,U,H,V,X,$){var ee=this._key[1],pe=q^ee[0],xe=V^ee[1],de=H^ee[2],ge=U^ee[3],Te,Be,Re,Lt=ee.length/4-2,Qe,tt=4,Rt=this._tables[1],M=Rt[0],re=Rt[1],Y=Rt[2],fe=Rt[3],we=Rt[4];for(Qe=0;Qe<Lt;Qe++)Te=M[pe>>>24]^re[xe>>16&255]^Y[de>>8&255]^fe[ge&255]^ee[tt],Be=M[xe>>>24]^re[de>>16&255]^Y[ge>>8&255]^fe[pe&255]^ee[tt+1],Re=M[de>>>24]^re[ge>>16&255]^Y[pe>>8&255]^fe[xe&255]^ee[tt+2],ge=M[ge>>>24]^re[pe>>16&255]^Y[xe>>8&255]^fe[de&255]^ee[tt+3],tt+=4,pe=Te,xe=Be,de=Re;for(Qe=0;Qe<4;Qe++)X[(3&-Qe)+$]=we[pe>>>24]<<24^we[xe>>16&255]<<16^we[de>>8&255]<<8^we[ge&255]^ee[tt++],Te=pe,pe=xe,xe=de,de=ge,ge=Te},R}(),p=function(R){s(O,R);function O(){var q;return q=R.call(this,o)||this,q.jobs=[],q.delay=1,q.timeout_=null,q}var W=O.prototype;return W.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},W.push=function(U){this.jobs.push(U),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},O}(o),f=function(O){return O<<24|(O&65280)<<8|(O&16711680)>>8|O>>>24},y=function(O,W,q){var U=new Int32Array(O.buffer,O.byteOffset,O.byteLength>>2),H=new d(Array.prototype.slice.call(W)),V=new Uint8Array(O.byteLength),X=new Int32Array(V.buffer),$,ee,pe,xe,de,ge,Te,Be,Re;for($=q[0],ee=q[1],pe=q[2],xe=q[3],Re=0;Re<U.length;Re+=4)de=f(U[Re]),ge=f(U[Re+1]),Te=f(U[Re+2]),Be=f(U[Re+3]),H.decrypt(de,ge,Te,Be,X,Re),X[Re]=f(X[Re]^$),X[Re+1]=f(X[Re+1]^ee),X[Re+2]=f(X[Re+2]^pe),X[Re+3]=f(X[Re+3]^xe),$=de,ee=ge,pe=Te,xe=Be;return V},T=function(){function R(W,q,U,H){var V=R.STEP,X=new Int32Array(W.buffer),$=new Uint8Array(W.byteLength),ee=0;for(this.asyncStream_=new p,this.asyncStream_.push(this.decryptChunk_(X.subarray(ee,ee+V),q,U,$)),ee=V;ee<X.length;ee+=V)U=new Uint32Array([f(X[ee-4]),f(X[ee-3]),f(X[ee-2]),f(X[ee-1])]),this.asyncStream_.push(this.decryptChunk_(X.subarray(ee,ee+V),q,U,$));this.asyncStream_.push(function(){H(null,u($))})}var O=R.prototype;return O.decryptChunk_=function(q,U,H,V){return function(){var X=y(q,U,H);V.set(X,q.byteOffset)}},a(R,null,[{key:"STEP",get:function(){return 32e3}}]),R}(),x;typeof window<"u"?x=window:typeof n<"u"?x=n:typeof self<"u"?x=self:x={};var S=x,C=function(O){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(O):O&&O.buffer instanceof ArrayBuffer},A=S.BigInt||Number;A("0x1"),A("0x100"),A("0x10000"),A("0x1000000"),A("0x100000000"),A("0x10000000000"),A("0x1000000000000"),A("0x100000000000000"),A("0x10000000000000000");var j=function(O){var W={};return Object.keys(O).forEach(function(q){var U=O[q];C(U)?W[q]={bytes:U.buffer,byteOffset:U.byteOffset,byteLength:U.byteLength}:W[q]=U}),W};self.onmessage=function(R){var O=R.data,W=new Uint8Array(O.encrypted.bytes,O.encrypted.byteOffset,O.encrypted.byteLength),q=new Uint32Array(O.key.bytes,O.key.byteOffset,O.key.byteLength/4),U=new Uint32Array(O.iv.bytes,O.iv.byteOffset,O.iv.byteLength/4);new T(W,q,U,function(H,V){self.postMessage(j({source:O.source,decrypted:V}),[V.buffer])})}})),bM=ZT(TM),xM=function(t){var i=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(i="main-desc"),i},Nu=function(t,i){t.abort(),t.pause(),i&&i.activePlaylistLoader&&(i.activePlaylistLoader.pause(),i.activePlaylistLoader=null)},Nd=function(t,i){i.activePlaylistLoader=t,t.load()},SM=function(t,i){return function(){var a=i.segmentLoaders,r=a[t],s=a.main,o=i.mediaTypes[t],u=o.activeTrack(),l=o.getActiveGroup(),c=o.activePlaylistLoader,d=o.lastGroup_;if(!(l&&d&&l.id===d.id)&&(o.lastGroup_=l,o.lastTrack_=u,Nu(r,o),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){c&&s.resetEverything();return}r.resyncLoader(),Nd(l.playlistLoader,o)}}},EM=function(t,i){return function(){var a=i.segmentLoaders[t],r=i.mediaTypes[t];r.lastGroup_=null,a.abort(),a.pause()}},CM=function(t,i){return function(){var a=i.masterPlaylistLoader,r=i.segmentLoaders,s=r[t],o=r.main,u=i.mediaTypes[t],l=u.activeTrack(),c=u.getActiveGroup(),d=u.activePlaylistLoader,p=u.lastTrack_;if(!(p&&l&&p.id===l.id)&&(u.lastGroup_=c,u.lastTrack_=l,Nu(s,u),!!c)){if(c.isMasterPlaylist){if(!l||!p||l.id===p.id)return;var f=i.vhs.masterPlaylistController_,y=f.selectPlaylist();if(f.media()===y)return;u.logger_("track change. Switching master audio from "+p.id+" to "+l.id),a.pause(),o.resetEverything(),f.fastQualityChange_(y);return}if(t==="AUDIO"){if(!c.playlistLoader){o.setAudio(!0),o.resetEverything();return}s.setAudio(!0),o.setAudio(!1)}if(d===c.playlistLoader){Nd(c.playlistLoader,u);return}s.track&&s.track(l),s.resetEverything(),Nd(c.playlistLoader,u)}}},Bu={AUDIO:function(t,i){return function(){var a=i.segmentLoaders[t],r=i.mediaTypes[t],s=i.blacklistCurrentPlaylist;Nu(a,r);var o=r.activeTrack(),u=r.activeGroup(),l=(u.filter(function(p){return p.default})[0]||u[0]).id,c=r.tracks[l];if(o===c){s({message:"Problem encountered loading the default audio track."});return}B.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var d in r.tracks)r.tracks[d].enabled=r.tracks[d]===c;r.onTrackChanged()}},SUBTITLES:function(t,i){return function(){var a=i.segmentLoaders[t],r=i.mediaTypes[t];B.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Nu(a,r);var s=r.activeTrack();s&&(s.mode="disabled"),r.onTrackChanged()}}},xv={AUDIO:function(t,i,a){if(!!i){var r=a.tech,s=a.requestOptions,o=a.segmentLoaders[t];i.on("loadedmetadata",function(){var u=i.media();o.playlist(u,s),(!r.paused()||u.endList&&r.preload()!=="none")&&o.load()}),i.on("loadedplaylist",function(){o.playlist(i.media(),s),r.paused()||o.load()}),i.on("error",Bu[t](t,a))}},SUBTITLES:function(t,i,a){var r=a.tech,s=a.requestOptions,o=a.segmentLoaders[t],u=a.mediaTypes[t];i.on("loadedmetadata",function(){var l=i.media();o.playlist(l,s),o.track(u.activeTrack()),(!r.paused()||l.endList&&r.preload()!=="none")&&o.load()}),i.on("loadedplaylist",function(){o.playlist(i.media(),s),r.paused()||o.load()}),i.on("error",Bu[t](t,a))}},wM={AUDIO:function(t,i){var a=i.vhs,r=i.sourceType,s=i.segmentLoaders[t],o=i.requestOptions,u=i.master.mediaGroups,l=i.mediaTypes[t],c=l.groups,d=l.tracks,p=l.logger_,f=i.masterPlaylistLoader,y=Qs(f.master);(!u[t]||Object.keys(u[t]).length===0)&&(u[t]={main:{default:{default:!0}}},y&&(u[t].main.default.playlists=f.master.playlists));for(var T in u[t]){c[T]||(c[T]=[]);for(var x in u[t][T]){var S=u[t][T][x],C=void 0;if(y?(p("AUDIO group '"+T+"' label '"+x+"' is a master playlist"),S.isMasterPlaylist=!0,C=null):r==="vhs-json"&&S.playlists?C=new Ki(S.playlists[0],a,o):S.resolvedUri?C=new Ki(S.resolvedUri,a,o):S.playlists&&r==="dash"?C=new Ld(S.playlists[0],a,o,f):C=null,S=B.mergeOptions({id:x,playlistLoader:C},S),xv[t](t,S.playlistLoader,i),c[T].push(S),typeof d[x]>"u"){var A=new B.AudioTrack({id:x,kind:xM(S),enabled:!1,language:S.language,default:S.default,label:x});d[x]=A}}}s.on("error",Bu[t](t,i))},SUBTITLES:function(t,i){var a=i.tech,r=i.vhs,s=i.sourceType,o=i.segmentLoaders[t],u=i.requestOptions,l=i.master.mediaGroups,c=i.mediaTypes[t],d=c.groups,p=c.tracks,f=i.masterPlaylistLoader;for(var y in l[t]){d[y]||(d[y]=[]);for(var T in l[t][y])if(!l[t][y][T].forced){var x=l[t][y][T],S=void 0;if(s==="hls")S=new Ki(x.resolvedUri,r,u);else if(s==="dash"){var C=x.playlists.filter(function(j){return j.excludeUntil!==1/0});if(!C.length)return;S=new Ld(x.playlists[0],r,u,f)}else s==="vhs-json"&&(S=new Ki(x.playlists?x.playlists[0]:x.resolvedUri,r,u));if(x=B.mergeOptions({id:T,playlistLoader:S},x),xv[t](t,x.playlistLoader,i),d[y].push(x),typeof p[T]>"u"){var A=a.addRemoteTextTrack({id:T,kind:"subtitles",default:x.default&&x.autoselect,language:x.language,label:T},!1).track;p[T]=A}}}o.on("error",Bu[t](t,i))},"CLOSED-CAPTIONS":function(t,i){var a=i.tech,r=i.master.mediaGroups,s=i.mediaTypes[t],o=s.groups,u=s.tracks;for(var l in r[t]){o[l]||(o[l]=[]);for(var c in r[t][l]){var d=r[t][l][c];if(!!/^(?:CC|SERVICE)/.test(d.instreamId)){var p=a.options_.vhs&&a.options_.vhs.captionServices||{},f={label:c,language:d.language,instreamId:d.instreamId,default:d.default&&d.autoselect};if(p[f.instreamId]&&(f=B.mergeOptions(f,p[f.instreamId])),f.default===void 0&&delete f.default,o[l].push(B.mergeOptions({id:c},d)),typeof u[c]>"u"){var y=a.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;u[c]=y}}}}}},PM=function n(t,i){for(var a=0;a<t.length;a++)if(Ph(i,t[a])||t[a].playlists&&n(t[a].playlists,i))return!0;return!1},AM=function(t,i){return function(a){var r=i.masterPlaylistLoader,s=i.mediaTypes[t].groups,o=r.media();if(!o)return null;var u=null;o.attributes[t]&&(u=s[o.attributes[t]]);var l=Object.keys(s);if(!u)if(t==="AUDIO"&&l.length>1&&Qs(i.master))for(var c=0;c<l.length;c++){var d=s[l[c]];if(PM(d,o)){u=d;break}}else s.main?u=s.main:l.length===1&&(u=s[l[0]]);return typeof a>"u"?u:a===null||!u?null:u.filter(function(p){return p.id===a.id})[0]||null}},kM={AUDIO:function(t,i){return function(){var a=i.mediaTypes[t].tracks;for(var r in a)if(a[r].enabled)return a[r];return null}},SUBTITLES:function(t,i){return function(){var a=i.mediaTypes[t].tracks;for(var r in a)if(a[r].mode==="showing"||a[r].mode==="hidden")return a[r];return null}}},IM=function(t,i){var a=i.mediaTypes;return function(){var r=a[t].activeTrack();return r?a[t].activeGroup(r):null}},OM=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(T){wM[T](T,t)});var i=t.mediaTypes,a=t.masterPlaylistLoader,r=t.tech,s=t.vhs,o=t.segmentLoaders,u=o.AUDIO,l=o.main;["AUDIO","SUBTITLES"].forEach(function(T){i[T].activeGroup=AM(T,t),i[T].activeTrack=kM[T](T,t),i[T].onGroupChanged=SM(T,t),i[T].onGroupChanging=EM(T,t),i[T].onTrackChanged=CM(T,t),i[T].getActiveGroup=IM(T,t)});var c=i.AUDIO.activeGroup();if(c){var d=(c.filter(function(T){return T.default})[0]||c[0]).id;i.AUDIO.tracks[d].enabled=!0,i.AUDIO.onGroupChanged(),i.AUDIO.onTrackChanged();var p=i.AUDIO.getActiveGroup();p.playlistLoader?(l.setAudio(!1),u.setAudio(!0)):l.setAudio(!0)}a.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(T){return i[T].onGroupChanged()})}),a.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(T){return i[T].onGroupChanging()})});var f=function(){i.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",f),r.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),s.on("dispose",function(){r.audioTracks().removeEventListener("change",f),r.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var y in i.AUDIO.tracks)r.audioTracks().addTrack(i.AUDIO.tracks[y])},DM=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(i){t[i]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ln,activeTrack:ln,getActiveGroup:ln,onGroupChanged:ln,onTrackChanged:ln,lastTrack_:null,logger_:jr("MediaGroups["+i+"]")}}),t},LM=60*2,an,RM=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],MM=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},FM=function(t){var i=t.currentPlaylist,a=t.buffered,r=t.currentTime,s=t.nextPlaylist,o=t.bufferLowWaterLine,u=t.bufferHighWaterLine,l=t.duration,c=t.experimentalBufferBasedABR,d=t.log;if(!s)return B.log.warn("We received no playlist to switch to. Please check your stream."),!1;var p="allowing switch "+(i&&i.id||"null")+" -> "+s.id;if(!i)return d(p+" as current playlist is not set"),!0;if(s.id===i.id)return!1;var f=Boolean(Gi(a,r).length);if(!i.endList)return!f&&typeof i.partTargetDuration=="number"?(d("not "+p+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(d(p+" as current playlist is live"),!0);var y=Eh(a,r),T=c?vt.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:vt.MAX_BUFFER_LOW_WATER_LINE;if(l<T)return d(p+" as duration < max low water line ("+l+" < "+T+")"),!0;var x=s.attributes.BANDWIDTH,S=i.attributes.BANDWIDTH;if(x<S&&(!c||y<u)){var C=p+" as next bandwidth < current bandwidth ("+x+" < "+S+")";return c&&(C+=" and forwardBuffer < bufferHighWaterLine ("+y+" < "+u+")"),d(C),!0}if((!c||x>S)&&y>=o){var A=p+" as forwardBuffer >= bufferLowWaterLine ("+y+" >= "+o+")";return c&&(A+=" and next bandwidth > current bandwidth ("+x+" > "+S+")"),d(A),!0}return d("not "+p+" as no switching criteria met"),!1},NM=function(n){le(t,n);function t(a){var r;r=n.call(this)||this;var s=a.src,o=a.handleManifestRedirects,u=a.withCredentials,l=a.tech,c=a.bandwidth,d=a.externVhs,p=a.useCueTags,f=a.blacklistDuration,y=a.enableLowInitialPlaylist,T=a.sourceType,x=a.cacheEncryptionKeys,S=a.experimentalBufferBasedABR,C=a.experimentalLeastPixelDiffSelector,A=a.captionServices;if(!s)throw new Error("A non-empty playlist URL or JSON manifest string is required");var j=a.maxPlaylistRetries;(j===null||typeof j>"u")&&(j=1/0),an=d,r.experimentalBufferBasedABR=Boolean(S),r.experimentalLeastPixelDiffSelector=Boolean(C),r.withCredentials=u,r.tech_=l,r.vhs_=l.vhs,r.sourceType_=T,r.useCueTags_=p,r.blacklistDuration=f,r.maxPlaylistRetries=j,r.enableLowInitialPlaylist=y,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:u,handleManifestRedirects:o,maxPlaylistRetries:j,timeout:null},r.on("error",r.pauseLoading),r.mediaTypes_=DM(),r.mediaSource=new k.MediaSource,r.handleDurationChange_=r.handleDurationChange_.bind(Ce(r)),r.handleSourceOpen_=r.handleSourceOpen_.bind(Ce(r)),r.handleSourceEnded_=r.handleSourceEnded_.bind(Ce(r)),r.mediaSource.addEventListener("durationchange",r.handleDurationChange_),r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_),r.mediaSource.addEventListener("sourceended",r.handleSourceEnded_),r.seekable_=B.createTimeRanges(),r.hasPlayed_=!1,r.syncController_=new yM(a),r.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new bM,r.sourceUpdater_=new pb(r.mediaSource),r.inbandTextTracks_={},r.timelineChangeController_=new _M;var R={vhs:r.vhs_,parse708captions:a.parse708captions,useDtsForTimestampOffset:a.useDtsForTimestampOffset,captionServices:A,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.duration()},hasPlayed:function(){return r.hasPlayed_},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:c,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:x,sourceUpdater:r.sourceUpdater_,timelineChangeController:r.timelineChangeController_,experimentalExactManifestTimings:a.experimentalExactManifestTimings};r.masterPlaylistLoader_=r.sourceType_==="dash"?new Ld(s,r.vhs_,r.requestOptions_):new Ki(s,r.vhs_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new Md(B.mergeOptions(R,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),a),r.audioSegmentLoader_=new Md(B.mergeOptions(R,{loaderType:"audio"}),a),r.subtitleSegmentLoader_=new pM(B.mergeOptions(R,{loaderType:"vtt",featuresNativeTextTracks:r.tech_.featuresNativeTextTracks}),a),r.setupSegmentLoaderListeners_(),r.experimentalBufferBasedABR&&(r.masterPlaylistLoader_.one("loadedplaylist",function(){return r.startABRTimer_()}),r.tech_.on("pause",function(){return r.stopABRTimer_()}),r.tech_.on("play",function(){return r.startABRTimer_()})),RM.forEach(function(W){r[W+"_"]=MM.bind(Ce(r),W)}),r.logger_=jr("MPC"),r.triggeredFmp4Usage=!1,r.tech_.preload()==="none"?(r.loadOnPlay_=function(){r.loadOnPlay_=null,r.masterPlaylistLoader_.load()},r.tech_.one("play",r.loadOnPlay_)):r.masterPlaylistLoader_.load(),r.timeToLoadedData__=-1,r.mainAppendsToLoadedData__=-1,r.audioAppendsToLoadedData__=-1;var O=r.tech_.preload()==="none"?"play":"loadstart";return r.tech_.one(O,function(){var W=Date.now();r.tech_.one("loadeddata",function(){r.timeToLoadedData__=Date.now()-W,r.mainAppendsToLoadedData__=r.mainSegmentLoader_.mediaAppends,r.audioAppendsToLoadedData__=r.audioSegmentLoader_.mediaAppends})}),r}var i=t.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedData_=function(){var r=this.mainAppendsToLoadedData_(),s=this.audioAppendsToLoadedData_();return r===-1||s===-1?-1:r+s},i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkABR_=function(){var r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,"abr")},i.switchMedia_=function(r,s,o){var u=this.media(),l=u&&(u.id||u.uri),c=r.id||r.uri;l&&l!==c&&(this.logger_("switch media "+l+" -> "+c+" from "+s),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+s})),this.masterPlaylistLoader_.media(r,o)},i.startABRTimer_=function(){var r=this;this.stopABRTimer_(),this.abrTimer_=k.setInterval(function(){return r.checkABR_()},250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(k.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.getAudioTrackPlaylists_=function(){var r=this.master(),s=r&&r.playlists||[];if(!r||!r.mediaGroups||!r.mediaGroups.AUDIO)return s;var o=r.mediaGroups.AUDIO,u=Object.keys(o),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var c=o.main||u.length&&o[u[0]];for(var d in c)if(c[d].default){l={label:d};break}}if(!l)return s;var p=[];for(var f in o)if(o[f][l.label]){var y=o[f][l.label];if(y.playlists&&y.playlists.length)p.push.apply(p,y.playlists);else if(y.uri)p.push(y);else if(r.playlists.length)for(var T=0;T<r.playlists.length;T++){var x=r.playlists[T];x.attributes&&x.attributes.AUDIO&&x.attributes.AUDIO===f&&p.push(x)}}return p.length?p:s},i.setupMasterPlaylistLoaderListeners_=function(){var r=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var s=r.masterPlaylistLoader_.media(),o=s.targetDuration*1.5*1e3;Ad(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=o,s.endList&&r.tech_.preload()!=="none"&&(r.mainSegmentLoader_.playlist(s,r.requestOptions_),r.mainSegmentLoader_.load()),OM({sourceType:r.sourceType_,segmentLoaders:{AUDIO:r.audioSegmentLoader_,SUBTITLES:r.subtitleSegmentLoader_,main:r.mainSegmentLoader_},tech:r.tech_,requestOptions:r.requestOptions_,masterPlaylistLoader:r.masterPlaylistLoader_,vhs:r.vhs_,master:r.master(),mediaTypes:r.mediaTypes_,blacklistCurrentPlaylist:r.blacklistCurrentPlaylist.bind(r)}),r.triggerPresenceUsage_(r.master(),s),r.setupFirstPlay(),!r.mediaTypes_.AUDIO.activePlaylistLoader||r.mediaTypes_.AUDIO.activePlaylistLoader.media()?r.trigger("selectedinitialmedia"):r.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){r.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){r.loadOnPlay_&&r.tech_.off("play",r.loadOnPlay_);var s=r.masterPlaylistLoader_.media();if(!s){r.excludeUnsupportedVariants_();var o;if(r.enableLowInitialPlaylist&&(o=r.selectInitialPlaylist()),o||(o=r.selectPlaylist()),!o||!r.shouldSwitchToMedia_(o))return;r.initialMedia_=o,r.switchMedia_(r.initialMedia_,"initial");var u=r.sourceType_==="vhs-json"&&r.initialMedia_.segments;if(!u)return;s=r.initialMedia_}r.handleUpdatedMediaPlaylist(s)}),this.masterPlaylistLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){r.mainSegmentLoader_.abort(),r.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var s=r.masterPlaylistLoader_.media(),o=s.targetDuration*1.5*1e3;Ad(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=o,r.mainSegmentLoader_.playlist(s,r.requestOptions_),r.mainSegmentLoader_.load(),r.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var s=r.masterPlaylistLoader_.media();if(s.lastExcludeReason_!=="playlist-unchanged"){var o=r.stuckAtPlaylistEnd_(s);o&&(r.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),r.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},i.handleUpdatedMediaPlaylist=function(r){this.useCueTags_&&this.updateAdCues_(r),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.updateDuration(!r.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(r,s){var o=r.mediaGroups||{},u=!0,l=Object.keys(o.AUDIO);for(var c in o.AUDIO)for(var d in o.AUDIO[c]){var p=o.AUDIO[c][d];p.uri||(u=!1)}u&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(o.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),an.Playlist.isAes(s)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(o.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.shouldSwitchToMedia_=function(r){var s=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,o=this.tech_.currentTime(),u=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),c=this.tech_.buffered();return FM({buffered:c,currentTime:o,currentPlaylist:s,nextPlaylist:r,bufferLowWaterLine:u,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var r=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var o=r.selectPlaylist();r.shouldSwitchToMedia_(o)&&r.switchMedia_(o,"bandwidthupdate"),r.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){r.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){r.error=r.mainSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){r.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),r.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){r.error=r.audioSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){r.logger_("main segment loader ended"),r.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(o){r.experimentalBufferBasedABR||(r.delegateLoaders_("all",["abort"]),r.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},LM))});var s=function(){if(!r.sourceUpdater_.hasCreatedSourceBuffers())return r.tryToCreateSourceBuffers_();var u=r.getCodecsOrExclude_();!u||r.sourceUpdater_.addOrChangeSourceBuffers(u)};this.mainSegmentLoader_.on("trackinfo",s),this.audioSegmentLoader_.on("trackinfo",s),this.mainSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){r.logger_("audioSegmentLoader ended"),r.onEndOfStream()})},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(r){r===void 0&&(r=this.selectPlaylist()),this.fastQualityChange_(r)},i.fastQualityChange_=function(r){var s=this;if(r===void 0&&(r=this.selectPlaylist()),r===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(r,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){B.browser.IE_VERSION||B.browser.IS_EDGE?s.tech_.setCurrentTime(s.tech_.currentTime()+.04):s.tech_.setCurrentTime(s.tech_.currentTime())})},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var r=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<r.start(0))return this.tech_.setCurrentTime(r.end(r.length-1))}},i.setupFirstPlay=function(){var r=this,s=this.masterPlaylistLoader_.media();if(!s||this.tech_.paused()||this.hasPlayed_)return!1;if(!s.endList){var o=this.seekable();if(!o.length)return!1;if(B.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){r.trigger("firstplay"),r.tech_.setCurrentTime(o.end(0)),r.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(o.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var r=this.tech_.play();typeof r<"u"&&typeof r.then=="function"&&r.then(null,function(s){})}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var r=this.inbandTextTracks_.metadataTrack_.cues;if(!(!r||!r.length)){var s=this.duration();r[r.length-1].endTime=isNaN(s)||Math.abs(s)===1/0?Number.MAX_VALUE:s}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var r=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var s=this.mainSegmentLoader_.getCurrentMediaInfo_();!s||s.hasVideo?r=r&&this.audioSegmentLoader_.ended_:r=this.audioSegmentLoader_.ended_}!r||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(r){var s=this.seekable();if(!s.length)return!1;var o=this.syncController_.getExpiredTime(r,this.duration());if(o===null)return!1;var u=an.Playlist.playlistEnd(r,o),l=this.tech_.currentTime(),c=this.tech_.buffered();if(!c.length)return u-l<=Kr;var d=c.end(c.length-1);return d-l<=Kr&&u-d<=Kr},i.blacklistCurrentPlaylist=function(r,s){r===void 0&&(r={});var o=r.playlist||this.masterPlaylistLoader_.media();if(s=s||r.blacklistDuration||this.blacklistDuration,!o){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}o.playlistErrors_++;var u=this.masterPlaylistLoader_.master.playlists,l=u.filter(Al),c=l.length===1&&l[0]===o;if(u.length===1&&s!==1/0)return B.log.warn("Problem encountered with playlist "+o.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(c);if(c){var d=!1;u.forEach(function(C){if(C!==o){var A=C.excludeUntil;typeof A<"u"&&A!==1/0&&(d=!0,delete C.excludeUntil)}}),d&&(B.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var p;o.playlistErrors_>this.maxPlaylistRetries?p=1/0:p=Date.now()+s*1e3,o.excludeUntil=p,r.reason&&(o.lastExcludeReason_=r.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var f=this.selectPlaylist();if(!f){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var y=r.internal?this.logger_:B.log.warn,T=r.message?" "+r.message:"";y((r.internal?"Internal problem":"Problem")+" encountered with playlist "+o.id+"."+(T+" Switching to playlist "+f.id+".")),f.attributes.AUDIO!==o.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),f.attributes.SUBTITLES!==o.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var x=f.targetDuration/2*1e3||5*1e3,S=typeof f.lastRequest=="number"&&Date.now()-f.lastRequest<=x;return this.switchMedia_(f,"exclude",c||S)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},i.delegateLoaders_=function(r,s){var o=this,u=[],l=r==="all";(l||r==="main")&&u.push(this.masterPlaylistLoader_);var c=[];(l||r==="audio")&&c.push("AUDIO"),(l||r==="subtitle")&&(c.push("CLOSED-CAPTIONS"),c.push("SUBTITLES")),c.forEach(function(d){var p=o.mediaTypes_[d]&&o.mediaTypes_[d].activePlaylistLoader;p&&u.push(p)}),["main","audio","subtitle"].forEach(function(d){var p=o[d+"SegmentLoader_"];p&&(r===d||r==="all")&&u.push(p)}),u.forEach(function(d){return s.forEach(function(p){typeof d[p]=="function"&&d[p]()})})},i.setCurrentTime=function(r){var s=Gi(this.tech_.buffered(),r);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(s&&s.length)return r;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var r=this.masterPlaylistLoader_.media();return r?r.endList?this.mediaSource?this.mediaSource.duration:an.Playlist.duration(r):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var r;if(!!this.masterPlaylistLoader_){var s=this.masterPlaylistLoader_.media();if(!!s){var o=this.syncController_.getExpiredTime(s,this.duration());if(o!==null){var u=this.masterPlaylistLoader_.master,l=an.Playlist.seekable(s,o,an.Playlist.liveEdgeDelay(u,s));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(s=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),o=this.syncController_.getExpiredTime(s,this.duration()),o===null||(r=an.Playlist.seekable(s,o,an.Playlist.liveEdgeDelay(u,s)),r.length===0)))){var c,d;this.seekable_&&this.seekable_.length&&(c=this.seekable_.end(0),d=this.seekable_.start(0)),r?r.start(0)>l.end(0)||l.start(0)>r.end(0)?this.seekable_=l:this.seekable_=B.createTimeRanges([[r.start(0)>l.start(0)?r.start(0):l.start(0),r.end(0)<l.end(0)?r.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===c&&this.seekable_.start(0)===d)&&(this.logger_("seekable updated ["+OT(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(r){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,r),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(r){var s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}var o=this.tech_.buffered(),u=an.Playlist.duration(this.masterPlaylistLoader_.media());o.length>0&&(u=Math.max(u,o.end(o.length-1))),this.mediaSource.duration!==u&&this.sourceUpdater_.setDuration(u)},i.dispose=function(){var r=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(s){var o=r.mediaTypes_[s].groups;for(var u in o)o[u].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var r=!!this.mediaTypes_.AUDIO.activePlaylistLoader,s=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),o=r?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!s||!o)},i.getCodecsOrExclude_=function(){var r=this,s={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};s.video=s.main;var o=ms(this.master(),this.media()),u={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(s.main.hasVideo&&(u.video=o.video||s.main.videoCodec||g1),s.main.isMuxed&&(u.video+=","+(o.audio||s.main.audioCodec||ug)),(s.main.hasAudio&&!s.main.isMuxed||s.audio.hasAudio||l)&&(u.audio=o.audio||s.main.audioCodec||s.audio.audioCodec||ug,s.audio.isFmp4=s.main.hasAudio&&!s.main.isMuxed?s.main.isFmp4:s.audio.isFmp4),!u.audio&&!u.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var c=function(S,C){return S?Yo(C):vc(C)},d={},p;if(["video","audio"].forEach(function(x){if(u.hasOwnProperty(x)&&!c(s[x].isFmp4,u[x])){var S=s[x].isFmp4?"browser":"muxer";d[S]=d[S]||[],d[S].push(u[x]),x==="audio"&&(p=S)}}),l&&p&&this.media().attributes.AUDIO){var f=this.media().attributes.AUDIO;this.master().playlists.forEach(function(x){var S=x.attributes&&x.attributes.AUDIO;S===f&&x!==r.media()&&(x.excludeUntil=1/0)}),this.logger_("excluding audio group "+f+" as "+p+' does not support codec(s): "'+u.audio+'"')}if(Object.keys(d).length){var y=Object.keys(d).reduce(function(x,S){return x&&(x+=", "),x+=S+' does not support codec(s): "'+d[S].join(",")+'"',x},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:y,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var T=[];if(["video","audio"].forEach(function(x){var S=(qr(r.sourceUpdater_.codecs[x]||"")[0]||{}).type,C=(qr(u[x]||"")[0]||{}).type;S&&C&&S.toLowerCase()!==C.toLowerCase()&&T.push('"'+r.sourceUpdater_.codecs[x]+'" -> "'+u[x]+'"')}),T.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+T.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return u},i.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var r=this.getCodecsOrExclude_();if(!!r){this.sourceUpdater_.createSourceBuffers(r);var s=[r.video,r.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(s)}}},i.excludeUnsupportedVariants_=function(){var r=this,s=this.master().playlists,o=[];Object.keys(s).forEach(function(u){var l=s[u];if(o.indexOf(l.id)===-1){o.push(l.id);var c=ms(r.master,l),d=[];c.audio&&!vc(c.audio)&&!Yo(c.audio)&&d.push("audio codec "+c.audio),c.video&&!vc(c.video)&&!Yo(c.video)&&d.push("video codec "+c.video),c.text&&c.text==="stpp.ttml.im1t"&&d.push("text codec "+c.text),d.length&&(l.excludeUntil=1/0,r.logger_("excluding "+l.id+" for unsupported: "+d.join(", ")))}})},i.excludeIncompatibleVariants_=function(r){var s=this,o=[],u=this.master().playlists,l=Mu(qr(r)),c=dv(l),d=l.video&&qr(l.video)[0]||null,p=l.audio&&qr(l.audio)[0]||null;Object.keys(u).forEach(function(f){var y=u[f];if(!(o.indexOf(y.id)!==-1||y.excludeUntil===1/0)){o.push(y.id);var T=[],x=ms(s.masterPlaylistLoader_.master,y),S=dv(x);if(!(!x.audio&&!x.video)){if(S!==c&&T.push('codec count "'+S+'" !== "'+c+'"'),!s.sourceUpdater_.canChangeType()){var C=x.video&&qr(x.video)[0]||null,A=x.audio&&qr(x.audio)[0]||null;C&&d&&C.type.toLowerCase()!==d.type.toLowerCase()&&T.push('video codec "'+C.type+'" !== "'+d.type+'"'),A&&p&&A.type.toLowerCase()!==p.type.toLowerCase()&&T.push('audio codec "'+A.type+'" !== "'+p.type+'"')}T.length&&(y.excludeUntil=1/0,s.logger_("blacklisting "+y.id+": "+T.join(" && ")))}}})},i.updateAdCues_=function(r){var s=0,o=this.seekable();o.length&&(s=o.start(0)),gM(r,this.cueTagsTrack_,s)},i.goalBufferLength=function(){var r=this.tech_.currentTime(),s=vt.GOAL_BUFFER_LENGTH,o=vt.GOAL_BUFFER_LENGTH_RATE,u=Math.max(s,vt.MAX_GOAL_BUFFER_LENGTH);return Math.min(s+r*o,u)},i.bufferLowWaterLine=function(){var r=this.tech_.currentTime(),s=vt.BUFFER_LOW_WATER_LINE,o=vt.BUFFER_LOW_WATER_LINE_RATE,u=Math.max(s,vt.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(s,vt.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(s+r*o,this.experimentalBufferBasedABR?l:u)},i.bufferHighWaterLine=function(){return vt.BUFFER_HIGH_WATER_LINE},t}(B.EventTarget),BM=function(t,i,a){return function(r){var s=t.master.playlists[i],o=wh(s),u=Al(s);return typeof r>"u"?u:(r?delete s.disabled:s.disabled=!0,r!==u&&!o&&(a(),r?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),r)}},UM=function(t,i,a){var r=t.masterPlaylistController_,s=t.options_.smoothQualityChange,o=s?"smooth":"fast",u=r[o+"QualityChange_"].bind(r);if(i.attributes){var l=i.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=i.attributes.BANDWIDTH}this.codecs=ms(r.master(),i),this.playlist=i,this.id=a,this.enabled=BM(t.playlists,i.id,u)},jM=function(t){t.representations=function(){var i=t.masterPlaylistController_.master(),a=Qs(i)?t.masterPlaylistController_.getAudioTrackPlaylists_():i.playlists;return a?a.filter(function(r){return!wh(r)}).map(function(r,s){return new UM(t,r,r.id)}):[]}},Sv=["seeking","seeked","pause","playing","error"],HM=function(){function n(i){var a=this;this.masterPlaylistController_=i.masterPlaylistController,this.tech_=i.tech,this.seekable=i.seekable,this.allowSeeksWithinUnsafeLiveWindow=i.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=i.liveRangeSafeTimeDelta,this.media=i.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=jr("PlaybackWatcher"),this.logger_("initialize");var r=function(){return a.monitorCurrentTime_()},s=function(){return a.monitorCurrentTime_()},o=function(){return a.techWaiting_()},u=function(){return a.cancelTimer_()},l=this.masterPlaylistController_,c=["main","subtitle","audio"],d={};c.forEach(function(f){d[f]={reset:function(){return a.resetSegmentDownloads_(f)},updateend:function(){return a.checkSegmentDownloads_(f)}},l[f+"SegmentLoader_"].on("appendsdone",d[f].updateend),l[f+"SegmentLoader_"].on("playlistupdate",d[f].reset),a.tech_.on(["seeked","seeking"],d[f].reset)});var p=function(y){["main","audio"].forEach(function(T){l[T+"SegmentLoader_"][y]("appended",a.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){a.fixesBadSeeks_()&&(a.consecutiveUpdates=0,a.lastRecordedTime=a.tech_.currentTime(),p("off"))},this.clearSeekingAppendCheck_=function(){return p("off")},this.watchForBadSeeking_=function(){a.clearSeekingAppendCheck_(),p("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",o),this.tech_.on(Sv,u),this.tech_.on("canplay",s),this.tech_.one("play",r),this.dispose=function(){a.clearSeekingAppendCheck_(),a.logger_("dispose"),a.tech_.off("waiting",o),a.tech_.off(Sv,u),a.tech_.off("canplay",s),a.tech_.off("play",r),a.tech_.off("seeking",a.watchForBadSeeking_),a.tech_.off("seeked",a.clearSeekingAppendCheck_),c.forEach(function(f){l[f+"SegmentLoader_"].off("appendsdone",d[f].updateend),l[f+"SegmentLoader_"].off("playlistupdate",d[f].reset),a.tech_.off(["seeked","seeking"],d[f].reset)}),a.checkCurrentTimeTimeout_&&k.clearTimeout(a.checkCurrentTimeTimeout_),a.cancelTimer_()}}var t=n.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&k.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=k.setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(a){var r=this.masterPlaylistController_[a+"SegmentLoader_"];this[a+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+a+" loader"),this[a+"StalledDownloads_"]=0,this[a+"Buffered_"]=r.buffered_()},t.checkSegmentDownloads_=function(a){var r=this.masterPlaylistController_,s=r[a+"SegmentLoader_"],o=s.buffered_(),u=FL(this[a+"Buffered_"],o);if(this[a+"Buffered_"]=o,u){this.resetSegmentDownloads_(a);return}this[a+"StalledDownloads_"]++,this.logger_("found #"+this[a+"StalledDownloads_"]+" "+a+" appends that did not increase buffer (possible stalled download)",{playlistId:s.playlist_&&s.playlist_.id,buffered:di(o)}),!(this[a+"StalledDownloads_"]<10)&&(this.logger_(a+" loader stalled download exclusion"),this.resetSegmentDownloads_(a),this.tech_.trigger({type:"usage",name:"vhs-"+a+"-download-exclusion"}),a!=="subtitle"&&r.blacklistCurrentPlaylist({message:"Excessive "+a+" segment downloading detected."},1/0))},t.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var a=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===a&&(!r.length||a+Kr>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&a===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):a===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=a)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){var a=this.tech_.seeking();if(!a)return!1;var r=this.seekable(),s=this.tech_.currentTime(),o=this.afterSeekableWindow_(r,s,this.media(),this.allowSeeksWithinUnsafeLiveWindow),u;if(o){var l=r.end(r.length-1);u=l}if(this.beforeSeekableWindow_(r,s)){var c=r.start(0);u=c+(c===r.end(0)?0:Kr)}if(typeof u<"u")return this.logger_("Trying to seek outside of seekable at time "+s+" with "+("seekable range "+OT(r)+". Seeking to ")+(u+".")),this.tech_.setCurrentTime(u),!0;for(var d=this.masterPlaylistController_.sourceUpdater_,p=this.tech_.buffered(),f=d.audioBuffer?d.audioBuffered():null,y=d.videoBuffer?d.videoBuffered():null,T=this.media(),x=T.partTargetDuration?T.partTargetDuration:(T.targetDuration-Vn)*2,S=[f,y],C=0;C<S.length;C++)if(!!S[C]){var A=Eh(S[C],s);if(A<x)return!1}var j=jo(p,s);return j.length===0?!1:(u=j.start(0)+Kr,this.logger_("Buffered region starts ("+j.start(0)+") "+(" just beyond seek point ("+s+"). Seeking to "+u+".")),this.tech_.setCurrentTime(u),!0)},t.waiting_=function(){if(!this.techWaiting_()){var a=this.tech_.currentTime(),r=this.tech_.buffered(),s=Gi(r,a);if(s.length&&a+3<=s.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(a),this.logger_("Stopped at "+a+" while inside a buffered region "+("["+s.start(0)+" -> "+s.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},t.techWaiting_=function(){var a=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(a,r)){var s=a.end(a.length-1);return this.logger_("Fell out of live window at time "+r+". Seeking to "+("live point (seekable end) "+s)),this.cancelTimer_(),this.tech_.setCurrentTime(s),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var o=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,u=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:o.audioBuffered(),videoBuffered:o.videoBuffered(),currentTime:r});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var c=jo(u,r);if(c.length>0){var d=c.start(0)-r;return this.logger_("Stopped at "+r+", setting timer for "+d+", seeking "+("to "+c.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),d*1e3,r),!0}return!1},t.afterSeekableWindow_=function(a,r,s,o){if(o===void 0&&(o=!1),!a.length)return!1;var u=a.end(a.length-1)+Kr,l=!s.endList;return l&&o&&(u=a.end(a.length-1)+s.targetDuration*3),r>u},t.beforeSeekableWindow_=function(a,r){return!!(a.length&&a.start(0)>0&&r<a.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(a){var r=a.videoBuffered,s=a.audioBuffered,o=a.currentTime;if(!!r){var u;if(r.length&&s.length){var l=Gi(r,o-3),c=Gi(r,o),d=Gi(s,o);d.length&&!c.length&&l.length&&(u={start:l.end(0),end:d.end(0)})}else{var p=jo(r,o);p.length||(u=this.gapFromVideoUnderflow_(r,o))}return u?(this.logger_("Encountered a gap in video from "+u.start+" to "+u.end+". "+("Seeking to current time "+o)),!0):!1}},t.skipTheGap_=function(a){var r=this.tech_.buffered(),s=this.tech_.currentTime(),o=jo(r,s);this.cancelTimer_(),!(o.length===0||s!==a)&&(this.logger_("skipTheGap_:","currentTime:",s,"scheduled currentTime:",a,"nextRange start:",o.start(0)),this.tech_.setCurrentTime(o.start(0)+Vn),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(a,r){for(var s=LL(a),o=0;o<s.length;o++){var u=s.start(o),l=s.end(o);if(r-u<4&&r-u>2)return{start:u,end:l}}return null},n}(),VM={errorInterval:30,getSource:function(t){var i=this.tech({IWillNotUseThisInPlugins:!0}),a=i.currentSource_||this.currentSource();return t(a)}},$M=function n(t,i){var a=0,r=0,s=B.mergeOptions(VM,i);t.ready(function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var o=function(){r&&t.currentTime(r)},u=function(f){f!=null&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",o),t.src(f),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){if(Date.now()-a<s.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),t.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){B.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return a=Date.now(),s.getSource.call(t,u)},c=function p(){t.off("loadedmetadata",o),t.off("error",l),t.off("dispose",p)},d=function(f){c(),n(t,f)};t.on("error",l),t.on("dispose",c),t.reloadSourceOnError=d},qM=function(t){$M(this,t)},mb="2.14.2",WM="6.0.1",zM="0.21.1",GM="4.7.1",KM="3.1.3",kt={PlaylistLoader:Ki,Playlist:tr,utils:sR,STANDARD_PLAYLIST_SELECTOR:hv,INITIAL_PLAYLIST_SELECTOR:GR,lastBandwidthSelector:hv,movingAverageBandwidthSelector:WR,comparePlaylistBandwidth:Ih,comparePlaylistResolution:qR,xhr:zT()};Object.keys(vt).forEach(function(n){Object.defineProperty(kt,n,{get:function(){return B.log.warn("using Vhs."+n+" is UNSAFE be sure you know what you are doing"),vt[n]},set:function(i){if(B.log.warn("using Vhs."+n+" is UNSAFE be sure you know what you are doing"),typeof i!="number"||i<0){B.log.warn("value of Vhs."+n+" must be greater than or equal to 0");return}vt[n]=i}})});var gb="videojs-vhs",vb=function(t,i){for(var a=i.media(),r=-1,s=0;s<t.length;s++)if(t[s].id===a.id){r=s;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},XM=function(t,i){i.representations().forEach(function(a){t.addQualityLevel(a)}),vb(t,i.playlists)};kt.canPlaySource=function(){return B.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var YM=function(t,i,a){if(!t)return t;var r={};i&&i.attributes&&i.attributes.CODECS&&(r=Mu(qr(i.attributes.CODECS))),a&&a.attributes&&a.attributes.CODECS&&(r.audio=a.attributes.CODECS);var s=As(r.video),o=As(r.audio),u={};for(var l in t)u[l]={},o&&(u[l].audioContentType=o),s&&(u[l].videoContentType=s),i.contentProtection&&i.contentProtection[l]&&i.contentProtection[l].pssh&&(u[l].pssh=i.contentProtection[l].pssh),typeof t[l]=="string"&&(u[l].url=t[l]);return B.mergeOptions(t,u)},QM=function(t,i){return t.reduce(function(a,r){if(!r.contentProtection)return a;var s=i.reduce(function(o,u){var l=r.contentProtection[u];return l&&l.pssh&&(o[u]={pssh:l.pssh}),o},{});return Object.keys(s).length&&a.push(s),a},[])},JM=function(t){var i=t.player,a=t.sourceKeySystems,r=t.audioMedia,s=t.mainPlaylists;if(!i.eme.initializeMediaKeys)return Promise.resolve();var o=r?s.concat([r]):s,u=QM(o,Object.keys(a)),l=[],c=[];return u.forEach(function(d){c.push(new Promise(function(p,f){i.tech_.one("keysessioncreated",p)})),l.push(new Promise(function(p,f){i.eme.initializeMediaKeys({keySystems:d},function(y){if(y){f(y);return}p()})}))}),Promise.race([Promise.all(l),Promise.race(c)])},ZM=function(t){var i=t.player,a=t.sourceKeySystems,r=t.media,s=t.audioMedia,o=YM(a,r,s);return o?(i.currentSource().keySystems=o,o&&!i.eme?(B.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},yb=function(){if(!k.localStorage)return null;var t=k.localStorage.getItem(gb);if(!t)return null;try{return JSON.parse(t)}catch{return null}},eF=function(t){if(!k.localStorage)return!1;var i=yb();i=i?B.mergeOptions(i,t):t;try{k.localStorage.setItem(gb,JSON.stringify(i))}catch{return!1}return i},tF=function(t){return t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t};kt.supportsNativeHls=function(){if(!ae||!ae.createElement)return!1;var n=ae.createElement("video");if(!B.getTech("Html5").isSupported())return!1;var t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return t.some(function(i){return/maybe|probably/i.test(n.canPlayType(i))})}();kt.supportsNativeDash=function(){return!ae||!ae.createElement||!B.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(ae.createElement("video").canPlayType("application/dash+xml"))}();kt.supportsTypeNatively=function(n){return n==="hls"?kt.supportsNativeHls:n==="dash"?kt.supportsNativeDash:!1};kt.isSupported=function(){return B.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var rF=B.getComponent("Component"),Dh=function(n){le(t,n);function t(a,r,s){var o;if(o=n.call(this,r,B.mergeOptions(s.hls,s.vhs))||this,s.hls&&Object.keys(s.hls).length&&B.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof s.initialBandwidth=="number"&&(o.options_.bandwidth=s.initialBandwidth),o.logger_=jr("VhsHandler"),r.options_&&r.options_.playerId){var u=B(r.options_.playerId);u.hasOwnProperty("hls")||Object.defineProperty(u,"hls",{get:function(){return B.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"hls-player-access"}),Ce(o)},configurable:!0}),u.hasOwnProperty("vhs")||Object.defineProperty(u,"vhs",{get:function(){return B.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"vhs-player-access"}),Ce(o)},configurable:!0}),u.hasOwnProperty("dash")||Object.defineProperty(u,"dash",{get:function(){return B.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Ce(o)},configurable:!0}),o.player_=u}if(o.tech_=r,o.source_=a,o.stats={},o.ignoreNextSeekingEvent_=!1,o.setOptions_(),o.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(o.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return o.on(ae,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var c=ae.fullscreenElement||ae.webkitFullscreenElement||ae.mozFullScreenElement||ae.msFullscreenElement;c&&c.contains(o.tech_.el())?o.masterPlaylistController_.fastQualityChange_():o.masterPlaylistController_.checkABR_()}),o.on(o.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),o.on(o.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),o.on(o.tech_,"play",o.play),o}var i=t.prototype;return i.setOptions_=function(){var r=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var s=yb();s&&s.bandwidth&&(this.options_.bandwidth=s.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),s&&s.throughput&&(this.options_.throughput=s.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=vt.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===vt.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(o){typeof r.source_[o]<"u"&&(r.options_[o]=r.source_[o])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(r,s){var o=this;if(!!r){this.setOptions_(),this.options_.src=tF(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=kt,this.options_.sourceType=Ry(s),this.options_.seekTo=function(c){o.tech_.setCurrentTime(c)},this.options_.smoothQualityChange&&B.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new NM(this.options_);var u=B.mergeOptions({liveRangeSafeTimeDelta:Kr},this.options_,{seekable:function(){return o.seekable()},media:function(){return o.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new HM(u),this.masterPlaylistController_.on("error",function(){var c=B.players[o.tech_.options_.playerId],d=o.masterPlaylistController_.error;typeof d=="object"&&!d.code?d.code=3:typeof d=="string"&&(d={message:d,code:3}),c.error(d)});var l=this.options_.experimentalBufferBasedABR?kt.movingAverageBandwidthSelector(.55):kt.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=kt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(d){this.masterPlaylistController_.selectPlaylist=d.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=d,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var d=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,p=k.navigator.connection||k.navigator.mozConnection||k.navigator.webkitConnection,f=1e7;if(this.options_.useNetworkInformationApi&&p){var y=p.downlink*1e3*1e3;y>=f&&d>=f?d=Math.max(d,y):d=y}return d},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=d,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var d=1/(this.bandwidth||1),p;this.throughput>0?p=1/this.throughput:p=0;var f=Math.floor(1/(d+p));return f},set:function(){B.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return o.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return o.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return o.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return o.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return o.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return o.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return o.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return o.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return o.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return o.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return o.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return o.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return o.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return di(o.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return o.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return o.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return o.tech_.name_},enumerable:!0},duration:{get:function(){return o.tech_.duration()},enumerable:!0},master:{get:function(){return o.playlists.master},enumerable:!0},playerDimensions:{get:function(){return o.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return di(o.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return o.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){o.options_.useBandwidthFromLocalStorage&&eF({bandwidth:o.bandwidth,throughput:Math.round(o.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){jM(o)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){o.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=k.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},i.createKeySessions_=function(){var r=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),JM({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:s&&s.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){r.logger_("created EME key session"),r.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(o){r.logger_("error while creating EME key session",o),r.player_.error({message:"Failed to initialize media keys for EME",code:3})})},i.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},i.setupEme_=function(){var r=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,o=ZM({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:s&&s.media()});if(this.player_.tech_.on("keystatuschange",function(u){u.status==="output-restricted"&&r.masterPlaylistController_.blacklistCurrentPlaylist({playlist:r.masterPlaylistController_.media(),message:"DRM keystatus changed to "+u.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),B.browser.IE_VERSION===11||!o){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},i.setupQualityLevels_=function(){var r=this,s=B.players[this.tech_.options_.playerId];!s||!s.qualityLevels||this.qualityLevels_||(this.qualityLevels_=s.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){XM(r.qualityLevels_,r)}),this.playlists.on("mediachange",function(){vb(r.qualityLevels_,r.playlists)}))},t.version=function(){return{"@videojs/http-streaming":mb,"mux.js":WM,"mpd-parser":zM,"m3u8-parser":GM,"aes-decrypter":KM}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return pb.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(r){this.masterPlaylistController_.setCurrentTime(r)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&k.URL.revokeObjectURL&&(k.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),n.prototype.dispose.call(this)},i.convertToProgramTime=function(r,s){return hR({playlist:this.masterPlaylistController_.media(),time:r,callback:s})},i.seekToProgramTime=function(r,s,o,u){return o===void 0&&(o=!0),u===void 0&&(u=2),pR({programTime:r,playlist:this.masterPlaylistController_.media(),retryCount:u,pauseAfterSeek:o,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:s})},t}(rF),kl={name:"videojs-http-streaming",VERSION:mb,canHandleSource:function(t,i){i===void 0&&(i={});var a=B.mergeOptions(B.options,i);return kl.canPlayType(t.type,a)},handleSource:function(t,i,a){a===void 0&&(a={});var r=B.mergeOptions(B.options,a);return i.vhs=new Dh(t,i,r),B.hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return B.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),i.vhs},configurable:!0}),i.vhs.xhr=zT(),i.vhs.src(t.src,t.type),i.vhs},canPlayType:function(t,i){i===void 0&&(i={});var a=B.mergeOptions(B.options,i),r=a.vhs;r=r===void 0?{}:r;var s=r.overrideNative,o=s===void 0?!B.browser.IS_ANY_SAFARI:s,u=a.hls;u=u===void 0?{}:u;var l=u.overrideNative,c=l===void 0?!1:l,d=Ry(t),p=d&&(!kt.supportsTypeNatively(d)||c||o);return p?"maybe":""}},nF=function(){return Yo("avc1.4d400d,mp4a.40.2")};nF()&&B.getTech("Html5").registerSourceHandler(kl,0);B.VhsHandler=Dh;Object.defineProperty(B,"HlsHandler",{get:function(){return B.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Dh},configurable:!0});B.VhsSourceHandler=kl;Object.defineProperty(B,"HlsSourceHandler",{get:function(){return B.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),kl},configurable:!0});B.Vhs=kt;Object.defineProperty(B,"Hls",{get:function(){return B.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),kt},configurable:!0});B.use||(B.registerComponent("Hls",kt),B.registerComponent("Vhs",kt));B.options.vhs=B.options.vhs||{};B.options.hls=B.options.hls||{};if(!B.getPlugin||!B.getPlugin("reloadSourceOnError")){var iF=B.registerPlugin||B.plugin;iF("reloadSourceOnError",qM)}function Fc(n,t){var i={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(i[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(a=Object.getOwnPropertySymbols(n);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(i[a[r]]=n[a[r]])}return i}var aF={src:{type:String,onChange:function(n,t){return n.src(t)}},width:{type:Number,onChange:function(n,t){return n.width(t)},onEvent:function(n,t){n.on(["playerresize","resize"],function(){return t(n.width())})}},height:{type:Number,onChange:function(n,t){return n.height(t)},onEvent:function(n,t){n.on(["playerresize","resize"],function(){return t(n.height())})}},preload:{type:String,onChange:function(n,t){return n.preload(t)}},loop:{type:Boolean,onChange:function(n,t){return n.loop(t)}},muted:{type:Boolean,onChange:function(n,t){return n.muted(t)},onEvent:function(n,t){return n.on("volumechange",function(){return t(n.muted())})}},poster:{type:String,onChange:function(n,t){return n.poster(t)},onEvent:function(n,t){return n.on("posterchange",function(){return t(n.poster())})}},controls:{type:Boolean,onChange:function(n,t){return n.controls(t)},onEvent:function(n,t){n.on("controlsenabled",function(){return t(!0)}),n.on("controlsdisabled",function(){return t(!1)})}},autoplay:{type:[Boolean,String],onChange:function(n,t){return n.autoplay(t)}},crossorigin:{type:String,onChange:function(n,t){return n.crossOrigin(t)}},crossOrigin:{type:String,onChange:function(n,t){return n.crossOrigin(t)}},playsinline:{type:Boolean,onChange:function(n,t){return n.playsinline(t)}},playsInline:{type:Boolean,onChange:function(n,t){return n.playsinline(t)}}},sF={id:{type:String},sources:{type:Array,onChange:function(n,t){return n.src(t)}},tracks:{type:Array,onChange:function(n,t){for(var i=n.remoteTextTracks(),a=(i==null?void 0:i.length)||0;a--;)n.removeRemoteTextTrack(i[a]);n.ready(function(){t.forEach(function(r){return n.addRemoteTextTrack(r,!1)})})}},textTrackSettings:{type:Object,onChange:function(n,t){return n.textTrackSettings.options(t)}},language:{type:String,onChange:function(n,t){return n.language(t)},onEvent:function(n,t){return n.on("languagechange",function(){return t(n.language())})}},languages:{type:Object},playbackRates:{type:Array,onChange:function(n,t){return n.playbackRates(t!=null?t:[])},onEvent:function(n,t){n.on("playbackrateschange",function(){return t(n.playbackRates())})}},audioOnlyMode:{type:Boolean,onChange:function(n,t){return n.audioOnlyMode(t)}},audioPosterMode:{type:Boolean,onChange:function(n,t){return n.audioPosterMode(t)}},responsive:{type:Boolean,onChange:function(n,t){return n.responsive(t)}},breakpoints:{type:Object,onChange:function(n,t){return n.breakpoints(t)}},fluid:{type:Boolean,onChange:function(n,t){return n.fluid(t)}},fill:{type:Boolean,onChange:function(n,t){return n.fill(t)}},aspectRatio:{type:String,onChange:function(n,t){return n.aspectRatio(t)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(n,t){return n.disablePictureInPicture(t)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},oF={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(n,t){return n.controlBar.options(t)}}},uF={html5:{type:Object}},lF={volume:{type:Number,onChange:function(n,t){return n.volume(t)},onEvent:function(n,t){return n.on("volumechange",function(){return t(n.volume())})}},playbackRate:{type:Number,onChange:function(n,t){n.playbackRate(t),n.defaultPlaybackRate(t)},onEvent:function(n,t){n.on("ratechange",function(){t(n.playbackRate())})}},options:{type:Object}},Ns=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},aF),sF),oF),uF),lF),Lh=Object.keys(Ns),_b=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),Tb=Object.keys(_b);Object.values(_b);var Nc=function(n){var t,i=n==null?void 0:n.trim().replace(/\s+/g," ");return i&&(t=i.split(" "))!==null&&t!==void 0?t:[]},Bc={src:{getter:function(n){return n.src()}},currentSrc:{getter:function(n){return n.currentSrc()}},currentSource:{getter:function(n){return n.currentSource()}},width:{events:["resize","playerresize"],getter:function(n){return n.width()}},height:{events:["resize","playerresize"],getter:function(n){return n.height()}},currentWidth:{events:["resize","playerresize"],getter:function(n){return n.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(n){return n.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(n){return n.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(n){return n.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(n){return n.controls()}},volume:{events:["volumechange"],getter:function(n){return n.volume()}},muted:{events:["volumechange"],getter:function(n){return n.muted()}},poster:{events:["posterchange"],getter:function(n){return n.poster()}},seeking:{events:["seeking"],getter:function(n){return n.seeking()}},paused:{events:["pause","play","playing"],getter:function(n){return n.paused()}},ended:{events:["ended","play"],getter:function(n){return n.ended()}},currentTime:{events:["timeupdate"],getter:function(n){return n.currentTime()}},duration:{events:["durationchange"],getter:function(n){return n.duration()}},playbackRate:{events:["ratechange"],getter:function(n){return n.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(n){return n.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(n){return n.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(n){return n.isInPictureInPicture()}},isLive:{getter:function(n){var t;return(t=n.liveTracker)===null||t===void 0?void 0:t.isLive()}},language:{events:["languagechange"],getter:function(n){return n.language()}},userActive:{events:["useractive","userinactive"],getter:function(n){return n.userActive()}},readyState:{events:["loadeddata"],getter:function(n){return n.readyState()}},networkState:{events:["loadeddata","error"],getter:function(n){return n.networkState()}},error:{events:["loadeddata","error"],getter:function(n){return n.error()}},buffered:{events:["progress"],getter:function(n){return n.buffered()}},bufferedPercent:{events:["progress"],getter:function(n){return n.bufferedPercent()}},played:{events:["timeupdate"],getter:function(n){return n.played()}},seekable:{events:["progress","seeked"],getter:function(n){return n.seekable()}},audioTracks:{getter:function(n){var t;return(t=n.audioTracks)===null||t===void 0?void 0:t.call(n)}},videoTracks:{getter:function(n){var t;return(t=n.videoTracks)===null||t===void 0?void 0:t.call(n)}},textTracks:{getter:function(n){var t;return(t=n.textTracks)===null||t===void 0?void 0:t.call(n)}}},bb=Lh.filter(function(n){return Boolean(Ns[n].onEvent)}),xb=function(n){return"update:"+n},cF=Tb.concat(bb.map(xb)),dF=Lh.reduce(function(n,t){var i,a=Ns[t],r=Array.isArray(a.type)?a.type:[a.type],s=Object.assign({},a);return r.includes(Boolean)&&(s.default=void 0),Object.assign(Object.assign({},n),((i={})[t]=s,i))},{}),tu=ot({name:"VueVideoPlayer",props:Object.assign(Object.assign({},dF),{class:[String,Object,Array]}),emits:cF.concat(["mounted"],["unmounted"]),setup:function(n,t){var i=Ue(n),a=i.class,r=Fc(i,["class"]),s=qo(!1),o=qo(null),u=qo(null),l=qe(function(){return u.value?u.value.player:null}),c=Ke(null),d=qe(function(){return c.value?Xd(c.value):null});return $n(function(){var p,f=function(y){var T,x=y.props,S=y.element,C=y.className,A=y.onEvent,j=x.options;j===void 0&&(j={});var R=Fc(x,["options"]),O={};Object.keys(R).forEach(function(ee){var pe=R[ee];pe!==void 0&&(O[ee]=pe)});var W=Object.assign(Object.assign({},O),j),q=W.volume,U=W.playbackRate,H=Fc(W,["volume","playbackRate"]),V=Object.assign(Object.assign({},H),{playsinline:(T=H.playsinline)!==null&&T!==void 0?T:H.playsInline}),X=B(S,V,function(){var ee=this;Tb.forEach(function(pe){ee.on(pe,function(xe){A(pe,xe)})}),H.src&&!H.sources&&this.src(H.src),q&&Number.isFinite(q)&&this.volume(q),U&&Number.isFinite(U)&&(this.defaultPlaybackRate(U),setTimeout(function(){ee.playbackRate(U)},0))});C&&Nc(C).map(function(ee){return X.addClass(ee)});var $=function(ee){var pe;(pe=X.options)===null||pe===void 0||pe.call(X,ee!=null?ee:{})};return{player:X,dispose:function(){return X.dispose()},updateClassNames:function(ee,pe){Nc(ee).map(function(xe){return X.removeClass(xe)}),Nc(pe).map(function(xe){return X.addClass(xe)})},updateOptions:$,updatePropOption:function(ee,pe){var xe,de,ge;$(((xe={})[ee]=pe,xe)),(ge=(de=Ns[ee])===null||de===void 0?void 0:de.onChange)===null||ge===void 0||ge.call(de,X,pe)}}}({element:o.value,props:r,onEvent:t.emit});p={player:f.player,onEvent:t.emit},bb.forEach(function(y){var T,x;(x=(T=Ns[y])===null||T===void 0?void 0:T.onEvent)===null||x===void 0||x.call(T,p.player,function(S){p.onEvent(xb(y),S)})}),It(function(){return n.class},function(y,T){var x=Xi(T),S=Xi(y);f.updateClassNames(x,S)},{immediate:!0}),It(function(){return n.options},function(y){return f.updateOptions(y!=null?y:{})},{deep:!0}),Lh.filter(function(y){return y!=="options"}).forEach(function(y){It(function(){return n[y]},function(T){return f.updatePropOption(y,T)},{deep:!0})}),function(y,T){var x=Object.keys(Bc),S=x.reduce(function(A,j){var R;return Object.assign(Object.assign({},A),((R={})[j]=Bc[j].getter(y),R))},{playing:!1,waiting:!1}),C=function(A,j){S[A]=j,T.onUpdate(A,j,Object.assign({},S))};y.on(["pause","ended"],function(){C("playing",!1)}),y.on(["play","playing"],function(){C("playing",!0)}),y.on("waiting",function(){C("waiting",!0);var A=y.currentTime(),j=function(){A!==y.currentTime()&&(C("waiting",!1),y.off("timeupdate",j))};y.on("timeupdate",j)}),x.forEach(function(A){var j,R=Bc[A];y.on(["loadstart","loadedmetadata"].concat((j=R.events)!==null&&j!==void 0?j:[]),function(){C(A,R.getter(y))})}),T.onInit(Object.assign({},S))}(f.player,{onInit:function(y){c.value=y},onUpdate:function(y,T){c.value&&(c.value[y]=T)}}),u.value=f,s.value=!0,t.emit("mounted",{video:o.value,player:l.value,state:d.value})}),Yu(function(){u.value&&(u.value.dispose(),u.value=null,c.value=null,t.emit("unmounted"))}),function(){var p,f;return xs("div",{"data-vjs-player":"",class:Xi(a)},[xs("video",{class:["video-js","v-video-player"],ref:o}),s.value&&((f=(p=t.slots).default)===null||f===void 0?void 0:f.call(p,{video:o.value,player:l.value,state:d.value}))])}}}),fF=function(n){n.component("VideoPlayer",tu),n.component(tu.name,tu)},hF={VideoPlayer:tu,install:fF};const Rh=y0(_C);Rh.use(dI);Rh.use(hF);Rh.mount("#app");export{_0 as _,h0 as a,Mp as c,si as o};
